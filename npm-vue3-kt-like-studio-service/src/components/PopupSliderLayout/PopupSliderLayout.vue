<template>
  <PopupLarge
    :is-open="props.isOpen"
    @close-button="handleClose"
    :use-close-button="true"
  >
    <button type="button" class="popup-slide__navigation-slide--prev">
      <Icons
        icon-name="chevron_prev"
        icon-color="var(--color-neutrals-white-100)"
        :width="3"
        :height="5.8"
      />
    </button>
    <button type="button" class="popup-slide__navigation-slide--next">
      <Icons
        icon-name="chevron_next"
        icon-color="var(--color-neutrals-white-100)"
        :width="3"
        :height="5.8"
      />
    </button>
    <swiper
      class="popup-slide__wrap"
      :modules="modules"
      :navigation="moduleConfig.navigationConfig"
      :speed="0"
      :allowTouchMove="false"
    >
      <swiper-slide
        class="popup-slide__item"
        v-for="item in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]"
        :key="item"
      >
        <div class="preview-container">
          <div class="preview custom-scrollbar">
            <div class="like-btn-wrap">
              <button
                type="button"
                class="like-btn"
                :class="[dummyStateLike && 'is-selected']"
                @click="handleToggleLike"
              >
                <Icons icon-name="like" :width="2" :height="2" />
                <span class="like-number">3,508</span>
              </button>
            </div>

            <figure class="preview__img">
              <img src="./img/poster.png" alt="ì˜ˆì‹œ ì´ë¯¸ì§€" />
            </figure>
            <figure class="preview__img">
              <img src="./img/poster.png" alt="ì˜ˆì‹œ ì´ë¯¸ì§€" />
            </figure>
          </div>
          <div class="info custom-scrollbar">
            <div class="info__caption">
              <span class="info__id">í…œí”Œë¦¿ ID {{ item }}</span>
              <span>ê¹€ë™ìš± (ì „ëµê¸°íšœíŒ€)</span>
            </div>
            <p class="info__title">YëŠ” ì¹œêµ¬ë¼ë¦¬</p>
            <ul class="info__spec-list">
              <li class="info__spec-item">ìŠ¬ë¼ì´ë“œ ì¥ìˆ˜ 2ì¥</li>
              <li class="info__spec-item">ê·œê²© 1080x1920</li>
              <li class="info__spec-item info__spec-date">
                ë“±ë¡ 2023.08.05 (ìˆ˜ì • 2023.08.24)
              </li>
            </ul>
            <p class="info__desc">
              í…œí”Œë¦¿ ì„¤ëª…ì´ ì¶œë ¥ë©ë‹ˆë‹¤. í…œí”Œë¦¿ ì„¤ëª…ì´ ì¶œë ¥ë©ë‹ˆë‹¤. í…œí”Œë¦¿ ì„¤ëª…ì´
              ì¶œë ¥ë©ë‹ˆë‹¤. í…œí”Œë¦¿ ì„¤ëª…ì´ ì¶œë ¥ë©ë‹ˆë‹¤. í…œí”Œë¦¿ ì„¤ëª…ì´ ì¶œë ¥ë©ë‹ˆë‹¤.
              í…œí”Œë¦¿ ì„¤ëª…ì´ ì¶œë ¥ë©ë‹ˆë‹¤.
            </p>
            <div class="info__category-wrap">
              <ul
                class="info__category-list custom-scrollbar scrollbar--lightgray"
              >
                <li class="info__category-item">KT</li>
                <li class="info__category-item">í¬ìŠ¤í„°</li>
                <li class="info__category-item">ë§¤ì¥</li>
                <li class="info__category-item">ë¬´ì„ ê²°í•©</li>
                <li class="info__category-item">ìš”ê¸ˆì œ</li>
                <li class="info__category-item">ê·¸ë¦¼</li>
                <li class="info__category-item">ë¸Œë¡œì…”</li>
                <li class="info__category-item">í”„ë¡œëª¨ì…˜</li>
                <li class="info__category-item">í˜œíƒ</li>
                <li class="info__category-item">í¬ìŠ¤í„°</li>
                <li class="info__category-item">ì¼ëŸ¬ìŠ¤íŠ¸</li>
                <li class="info__category-item">ë§¤ì¥</li>
                <li class="info__category-item">ë§¤ë ¥ì ì¸</li>
                <li class="info__category-item">íŠ¹ì§•</li>
                <li class="info__category-item">ì…ë ¥</li>
                <li class="info__category-item">ë‚´ìš©</li>
                <li class="info__category-item">ì±…ë°›ì¹¨</li>
                <li class="info__category-item">ì¸ì‡„ë¬¼</li>
                <li class="info__category-item">ê¸°íƒ€1</li>
                <li class="info__category-item">ê¸°íƒ€2</li>
                <li class="info__category-item">ê¸°íƒ€3</li>
                <li class="info__category-item">ê¸°íƒ€4</li>
                <li class="info__category-item">ê¸°íƒ€5</li>
                <li class="info__category-item">ê¸°íƒ€6</li>
              </ul>
            </div>

            <div class="info__action">
              <UIButton
                component="button"
                color-type="primary"
                size="large"
                class="action-edit"
              >
                í…œí”Œë¦¿ í¸ì§‘í•˜ê¸°
              </UIButton>
              <IconButton
                class="action-bookmark"
                :class="[dummyStateBookmark && 'is-selected']"
                icon-name="bookmark"
                size="large"
                type="outlined"
                component="button"
                @click="handleToggleBookmark"
              />
              <IconButton
                class="action-link"
                icon-name="link"
                size="large"
                type="outlined"
                component="a"
                href=""
              />
            </div>
            <div class="info__form">
              <TextFields
                class="form__input"
                size="medium"
                placeholder="í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì˜ê²¬ì„ ë‚¨ê²¨ë³´ì„¸ìš”."
              />
              <RoundButton
                component="button"
                color-type="filed"
                size="medium"
                class="form__submit"
                >ë“±ë¡</RoundButton
              >
            </div>
            <div class="comment">
              <div class="comment__item">
                <div class="comment__info">
                  <span class="comment__info__writer">ìœ¤ì§€ì—° (ë§ˆì¼€íŒ…íŒ€)</span>
                  <span class="comment__info__date">2023.08.14 10:56</span>
                </div>
                <div class="comment__body">
                  <p class="comment__body__text">
                    ì €ë„ ì˜ ì“°ê² ìŠµë‹ˆë‹¤. ê°ì‚¬í•´ìš”!
                  </p>
                  <RoundButton
                    class="comment__body__remove-btn"
                    component="button"
                    color-type="lightOutlined"
                    size="small"
                    isIcon
                  >
                    <Icons icon-name="delete" :width="1.4" :height="1.4" />
                    ì‚­ì œ</RoundButton
                  >
                </div>
              </div>
              <div class="comment__item">
                <div class="comment__info">
                  <span class="comment__info__writer"
                    >ì„ ìš°í˜œë¯¼ (ìƒí’ˆì „ëµíŒ€)</span
                  >
                  <span class="comment__info__date">2023.08.13 17:01</span>
                </div>
                <div class="comment__body">
                  <p class="comment__body__text">
                    í•„ìš”í–ˆë˜ ìŠ¤íƒ€ì¼ì¸ë° ìš”ê¸´í•˜ê²Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤ ê°ì‚¬í•©ë‹ˆë‹¤~!
                    í•„ìš”í–ˆë˜ ìŠ¤íƒ€ì¼ì¸ë° ìš”ê¸´í•˜ê²Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤ ê°ì‚¬í•©ë‹ˆë‹¤~!
                    í•„ìš”í–ˆë˜ ìŠ¤íƒ€ì¼ì¸ë° ìš”ê¸´í•˜ê²Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤ ê°ì‚¬í•©ë‹ˆë‹¤~!
                    í•„ìš”í–ˆë˜ ìŠ¤íƒ€ì¼ì¸ë° ìš”ê¸´í•˜ê²Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤ ê°ì‚¬í•©ë‹ˆë‹¤~!
                    í•„ìš”í–ˆë˜ ìŠ¤íƒ€ì¼ì¸ë° ìš”ê¸´í•˜ê²Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤ ê°ì‚¬í•©ë‹ˆë‹¤~!
                    í•„ìš”í–ˆë˜ ìŠ¤íƒ€ì¼ì¸ë° ìš”ê¸´í•˜ê²Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤ ê°ì‚¬í•©ë‹ˆë‹¤~!
                  </p>
                  <RoundButton
                    class="comment__body__remove-btn"
                    component="button"
                    color-type="lightOutlined"
                    size="small"
                    isIcon
                  >
                    <Icons icon-name="delete" :width="1.4" :height="1.4" />
                    ì‚­ì œ</RoundButton
                  >
                </div>
              </div>
              <div class="comment__item">
                <div class="comment__info">
                  <span class="comment__info__writer"
                    >ê¹€ìœ ì • (ëŒ€êµ¬ ë™ì„±ë¡œì )</span
                  >
                  <span class="comment__info__date">2023.08.06 09:37</span>
                </div>
                <div class="comment__body">
                  <p class="comment__body__text">
                    ìš°ì™€! í…œí”Œë¦¿ ì •ë§ ë©‹ì§‘ë‹ˆë‹¤ ğŸ¤© ğŸ‘
                  </p>
                  <RoundButton
                    class="comment__body__remove-btn"
                    component="button"
                    color-type="lightOutlined"
                    size="small"
                    isIcon
                  >
                    <Icons icon-name="delete" :width="1.4" :height="1.4" />
                    ì‚­ì œ</RoundButton
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </swiper-slide>
    </swiper>
  </PopupLarge>
</template>

<script setup>
import { Navigation } from 'swiper/modules';
// eslint-disable-next-line import/no-unresolved
import { Swiper, SwiperSlide } from 'swiper/vue';
import { ref } from 'vue';

import IconButton from '@/components/IconButton/IconButton.vue';
import Icons from '@/components/Icons/Icons.vue';
import PopupLarge from '@/components/PopupLarge/PopupLarge.vue';
import RoundButton from '@/components/RoundButton/RoundButton.vue';
import TextFields from '@/components/TextFields/TextFields.vue';
import UIButton from '@/components/UIButton/UIButton.vue';
import customToast from '@/untils/custom_toast';

const props = defineProps({
  isOpen: {
    type: Boolean,
    default: false,
  },
});

const dummyStateBookmark = ref(false);
const dummyStateLike = ref(false);
const modules = [Navigation];
const moduleConfig = {
  navigationConfig: {
    nextEl: '.popup-slide__navigation-slide--next',
    prevEl: '.popup-slide__navigation-slide--prev',
  },
};
const emit = defineEmits(['close-button']);

const handleClose = () => {
  emit('close-button', false);
};
const handleToggleBookmark = () => {
  dummyStateBookmark.value = !dummyStateBookmark.value;
  if (dummyStateBookmark.value) {
    customToast.success('ê¸€ì„ ì¦ê²¨ì°¾ê¸° í…œí”Œë¦¿ ë©”ë‰´ì— ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.', {
      containerClassName: 'custom-toast-bottom',
    });
  } else {
    customToast.success('ê¸€ì„ ì¦ê²¨ì°¾ê¸° í…œí”Œë¦¿ ë©”ë‰´ì— ì‚­ì œí–ˆìŠµë‹ˆë‹¤.', {
      containerClassName: 'custom-toast-bottom',
    });
  }
};

const handleToggleLike = () => {
  dummyStateLike.value = !dummyStateLike.value;
};
</script>

<style scoped>
.popup-slide__navigation-slide--prev,
.popup-slide__navigation-slide--next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
}

.popup-slide__navigation-slide--prev {
  right: calc(100% + 5.6rem);
}

.popup-slide__navigation-slide--next {
  left: calc(100% + 5.6rem);
}

.popup-slide__navigation-slide--prev:disabled,
.popup-slide__navigation-slide--next:disabled {
  opacity: 0.6;
}

.preview-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0 2rem;
  padding: 4rem 0;
}

.preview {
  position: relative;
  padding: 0 6rem;
  max-height: 75rem;
  overflow-y: auto;
}

.preview__img + .preview__img {
  margin-top: 3.6rem;
}

.like-btn-wrap {
  position: absolute;
  top: 0;
  right: 0;
  width: 100%;
  height: 100%;
}

.like-btn {
  position: sticky;
  top: 0;
  margin-left: auto;
  border-radius: 5.6rem;
  display: flex;
  align-items: center;
  gap: 0 0.6rem;
  padding: 0.6rem 1.4rem;
  border: 1px solid var(--color-gray-ddd);
  background-color: var(--color-neutrals-white-100);
  line-height: 1;
}

.like-btn :deep(.icon-wrap) path {
  stroke: var(--color-neutrals-black);
  fill: var(--color-neutrals-white-100);
}

.like-btn.is-selected :deep(.icon-wrap) path {
  stroke: var(--color-primary);
  fill: var(--color-primary);
}

.like-number {
  font-size: var(--fz-m);
  font-weight: 500;
}

.info {
  max-height: 75rem;
  margin-left: 2rem;
  margin-right: 4rem;
  padding-right: 1.5rem;
  overflow-y: auto;
}

.info__caption {
  display: flex;
  align-items: center;
  gap: 0 2.4rem;
  margin-bottom: 0.4rem;
}

.info__caption span {
  position: relative;
  font-size: var(--fz-m);
  color: var(--color-gray-777);
}

.info__caption span:not(:last-child)::after {
  position: absolute;
  top: 0;
  right: -1.2rem;
  content: '';
  width: 1px;
  height: 100%;
  background-color: var(--color-gray-ddd);
}

.info__id {
  font-weight: 500;
}

.info__title {
  font-size: var(--ttl-l);
  font-weight: 700;
}

.info__spec-list {
  display: flex;
  gap: 0 2.4rem;
  margin: 1.4rem 0;
  font-size: var(--fz-m);
  font-weight: 700;
}

.info__spec-item {
  position: relative;
}

.info__spec-item:not(:last-child)::after {
  position: absolute;
  top: 0;
  right: -1.2rem;
  content: '';
  width: 1px;
  height: 100%;
  background-color: var(--color-gray-ddd);
}

.info__spec-item.info__spec-date {
  font-weight: 400;
  color: var(--color-gray-777);
}

.info__desc {
  font-size: var(--fz-m);
  color: var(--color-gray-777);
}

.info__category-wrap {
  margin-top: 2rem;
  padding: 1.6rem 0.8rem 1.6rem 1.6rem;
  background-color: #f4f4f4;
}

.info__category-list {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  max-height: 11rem;
  padding-right: 1.5rem;
  overflow-y: auto;
}

.info__category-item {
  height: 3rem;
  line-height: 3rem;
  padding: 0 1.6rem;
  border-radius: 50.9rem;
  background-color: var(--color-neutrals-white-100);
  font-size: var(--fz-s);
  font-weight: 500;
  color: var(--color-gray-777);
}

.info__action {
  display: flex;
  align-items: center;
  gap: 0 1.2rem;
  margin-top: 4rem;
}

.action-bookmark.is-selected :deep(.icon-wrap) path {
  stroke: var(--color-primary);
  fill: var(--color-primary);
}

.action-edit {
  flex: 1;
}

.info__form {
  display: flex;
  gap: 0 1.4rem;
  margin-top: 4rem;
}

.form__input {
  flex: 1;
  line-height: 1;
}

.comment {
  margin-top: 1.6rem;
}

.comment__item {
  padding-bottom: 1.6rem;
  border-bottom: 1px solid #e5e5e5;
}

.comment__item + .comment__item {
  margin-top: 1.6rem;
}

.comment__info {
  font-size: var(--fz-m);
}

.comment__info__writer {
  position: relative;
  margin-right: 2.4rem;
  font-weight: 700;
}

.comment__info__writer::after {
  position: absolute;
  top: 0;
  right: -1.2rem;
  content: '';
  width: 1px;
  height: 100%;
  background-color: var(--color-gray-ddd);
}

.comment__info__date {
  color: var(--color-gray-777);
}

.comment__body {
  position: relative;
  display: flex;
  margin-top: 1rem;
  padding: 0.8rem 0;
}

.comment__body__text {
  flex: 1;
  min-width: 0;
  padding-right: 9.8rem;
  font-size: var(--fz-m);
}

.comment__body__remove-btn {
  position: absolute;
  top: 0;
  right: 0;
}
</style>
