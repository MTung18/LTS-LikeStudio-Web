import{J as qe,K as He,L as je,N as Ne,R as Re,j as r,d as ee,l as ne,a_ as fe,Q as pe,s as le,a1 as Z,e as ie,r as c,o as v,f as W,w as t,a as s,D as M,g as e,u as p,C as ae,I as V,aX as we,ai as Ue,aj as Ge,bc as I,_ as te,a0 as ve,af as ze,aJ as me,c4 as We,bx as Le,by as Je,aE as Ke,dk as Xe,b as se,c as E,a2 as P,a3 as Qe,di as Ze,ax as _e,ay as ye,bg as Ee,cp as Ae,A as oe,b6 as De,dV as et,cX as tt,T as at,b2 as de}from"./index.611fe570.js";import{S as st,i as ot}from"./grid.module.3b00878a.js";import{B as nt}from"./BryntumGrid.2c4be387.js";import{B as lt}from"./bryntumSearchBar.3bdd630f.js";import{f as xe}from"./gridConfigDefaults.8c72c19b.js";import{g as it,a as rt}from"./statefulSortFeature.3df4a43a.js";import{a as ke,u as ct,L as ut}from"./w2FormStore.824b8947.js";import{P as Ce}from"./PaymentMethod.1e9311f3.js";import"./foundationCompanyCasConnectionStore.b3301598.js";import"./debounce.cf77a06e.js";import"./isObject.c4ad145e.js";class dt{updateEmployeeId;showCurrentHoursAndEarnings;showYearToDateHoursAndEarnings;showTaxesAndDeductions;showFringes;payrollAndTaxesSettingId}class ft extends je{constructor(n){const a=Ne().ClientSide.WorkforceManagement+"/v1";super(n,a)}async getPayStub(){const n="PayStubs";let a;try{const l=await this.axiosInstance.get(n);if(l&&l.status===200)a=[...l.data];else throw new Error("Failed to get pay stub list")}catch{console.error("An unexpected error occurred attempting to retrieve the pay stub list.")}return a}async getShowSection(){const n="PayrollAndTaxesSetting";let a;try{const l=await this.axiosInstance.get(n);if(l.status==200)Object.keys(l.data).length>0?a=l.data:a=new dt;else throw new Error("Failed to parse pay stub show section settings")}catch{console.error("An unexpected error occurred attempting to retrieve the pay stub show section settings.")}return a}async addPayStub(n){const a="PayStubs";try{const l=await this.axiosInstance.post(a,{payDate:n.payDate,availableToEmployeeOnDate:n.availableToEmployeeOnDate});return l&&l.status===200?{success:!0}:{success:!1,errorMessage:"An unexpected error occurred attempting to add request."}}catch(l){return{success:!1,status:l.response.status,errorMessage:"An unexpected error occurred attempting to add request."}}}async changePayStub({payStubDate:n,payStubId:a}){const l=`PayStubs/${a}`;try{const D=await this.axiosInstance.put(l,n);return D&&D.status===200?{success:!0}:{success:!1,errorMessage:"An unexpected error occurred attempting to update request."}}catch(D){return{success:!1,status:D.response.status,errorMessage:"An unexpected error occurred attempting to update request."}}}async deletePayStub(n){const a=`PayStubs/${n}`;try{await this.axiosInstance.delete(a)}catch{console.error("An unexpected error occurred attempting to delete this pay stub.")}}async changeShowSection({payrollAndTaxesSettingId:n,sections:a}){const l=`PayrollAndTaxesSetting/${n}`;try{await this.axiosInstance.put(l,a)}catch{console.error("An unexpected error occurred attempting to retrieve the HRM settings.")}}}const K=new ft([qe,He]),Q=Re("settings",()=>{const g=r([]),n=r({});async function a(){g.value=await K.getPayStub()}async function l(){n.value=await K.getShowSection()}async function D(y){await K.deletePayStub(y)}async function x(y){return await K.addPayStub(y)}async function F({payStubDate:y,payStubId:b}){return await K.changePayStub({payStubDate:y,payStubId:b})}async function O({payrollAndTaxesSettingId:y,sections:b}){await K.changeShowSection({payrollAndTaxesSettingId:y,sections:b})}return{showSection:n,payStubList:g,fetchPayStub:a,fetchShowSection:l,changeShowSection:O,deletePayStub:D,changePayStub:F,addPayStub:x}}),pt={class:"mr-3 d-flex align-items-center"},vt={class:"h4 pl-2 my-auto fw-bold"},mt={class:"ms-auto"},_t={class:"px-3 py-4 bg-white w-100 h-100"},yt={class:"message-error"},bt={class:"d-flex justify-content-between border-top py-3"},ht=ee({__name:"payStubSidebar",props:{sidebarType:null,isShowSidebar:{type:Boolean},payStubId:null,payStubData:null},setup(g,{emit:n}){const a=g;ne.add(fe);const{changePayStub:l,addPayStub:D}=Q(),{notifyError:x,notifySuccess:F}=pe(),O=T=>I(T).format("MM/DD/YYYY"),{fetchPayStub:y}=Q(),{payStubList:b}=le(Q()),o=r({}),f=r({payDate:"",availableToEmployeeOnDate:""}),h=r(null);Z(o,()=>{f.value={payDate:O(o.value?.payDate),availableToEmployeeOnDate:O(o.value?.availableToEmployeeOnDate)}}),Z(()=>a.payStubId,async()=>{await R()});const A=async()=>{n("closeSidebar"),a.sidebarType==="ADD"?(f.value={payDate:"",availableToEmployeeOnDate:""},H.value=!1):await R()},w=r(!0),S=async()=>{const{valid:T}=await h.value.validate();if(!T)return;const m=await D(f.value);m.success?(n("closeSidebar"),n("addPayStub"),F("Available Date Added.")):m.status===400?w.value=!1:(n("closeSidebar"),x(`${m.errorMessage}`,null,"Error"))},k=async()=>{const T=await l({payStubDate:f.value,payStubId:a.payStubId});T.success?(n("closeSidebar"),n("updatePayStub"),F("Available Date Updated.")):(n("closeSidebar"),x(`${T.errorMessage}`,null,"Error"))},H=r(!1),R=async()=>{await y(),o.value=b.value.find(T=>T.payStubSettingId===a.payStubId)};return ie(async()=>{a.sidebarType==="EDIT"&&b&&(await R(),f.value={payDate:O(o.value?.payDate),availableToEmployeeOnDate:O(o.value?.availableToEmployeeOnDate)})}),(T,m)=>{const $=c("fs-link"),i=c("fs-row"),u=c("fs-container"),C=c("fs-form-group"),j=c("VeeForm"),z=c("fs-button"),Y=c("fs-sidebar");return v(),W(Y,{right:"",shadow:!0,visible:g.isShowSidebar,"no-close-on-esc":"","no-header-close":"","no-close-on-backdrop":""},{title:t(()=>[s("div",pt,[s("h2",vt,M(`${a.sidebarType==="EDIT"?"Edit Available Date":"Add Available Date"}`),1),s("div",mt,[e($,{class:"text-secondary",tag:"a",onClick:A},{default:t(()=>[e(p(ae),{icon:["fal","times"]})]),_:1})])])]),footer:t(()=>[s("div",bt,[e(z,{size:"small",variant:"outline-secondary",class:"mx-3 text-capitalize",onClick:A},{default:t(()=>[V("Cancel ")]),_:1}),e(z,{size:"small",variant:"success",class:"mx-3 text-capitalize",onClick:m[3]||(m[3]=N=>a.sidebarType==="EDIT"?k():S())},{default:t(()=>[V("Save ")]),_:1})])]),default:t(()=>[s("div",_t,[e(j,{ref_key:"formData",ref:h},{default:t(()=>[e(C,null,{default:t(()=>[e(u,null,{default:t(()=>[e(i,{class:"mt-3 d-flex align-items-center"},{default:t(()=>[e(we,{type:"fsDateInput",label:"Pay Date",required:!0,rules:"required|date",name:"Pay date",modelValue:f.value.payDate,"onUpdate:modelValue":m[0]||(m[0]=N=>f.value.payDate=N),id:"payDate",disabled:a.sidebarType==="EDIT",onChange:m[1]||(m[1]=N=>w.value=!0)},null,8,["modelValue","disabled"]),Ue(s("span",yt,"Duplicate Pay Date",512),[[Ge,!w.value]])]),_:1}),e(i,{class:"mt-3 d-flex align-items-center"},{default:t(()=>[e(we,{type:"fsDateInput",name:"Available date",label:"Available Date",id:"availableDate",required:!0,modelValue:f.value.availableToEmployeeOnDate,"onUpdate:modelValue":m[2]||(m[2]=N=>f.value.availableToEmployeeOnDate=N),rules:"required|date|dateAfterTarget:Pay date,Pay date"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},512)])]),_:1},8,["visible"])}}});const Pe=te(ht,[["__scopeId","data-v-a4393966"]]),be=g=>(_e("data-v-d8cad75f"),g=g(),ye(),g),gt={class:"border-bottom d-flex justify-content-between align-items-center"},St=be(()=>s("div",{class:"hq-pg__title ps-3"},"Show Sections",-1)),wt={key:0},Dt={key:1},xt={key:0},kt={class:"list__table"},Ct={class:"w-100 d-flex align-items-center justify-content-between"},Pt=be(()=>s("div",{class:"title"},"Delete Pay Stub",-1)),Et={class:"d-flex"},At=be(()=>s("h5",null,"Do you want to delete this available date?",-1)),Tt=ee({__name:"paystub",setup(g){Ze(_=>({"7d288773":Se.value,"47672d0c":ge.value,"7f993770":p(Ie)}));const{responsive:n}=ve();ne.add(ze,me,We,Le,Je,Ke,Xe);const{fetchPayStub:a,fetchShowSection:l,changeShowSection:D,deletePayStub:x}=Q(),{payStubList:F,showSection:O}=le(Q()),y=r(!1),b=r(!1),o=r(!1),f=r(!1),h=r(0),A=r(0),w=r(null),S="setupSettingsListGrid",k=r(null),H=se(()=>k.value?.instance.value.features),R=_=>{const d=new Date(_);return(d.getMonth()>8?d.getMonth()+1:"0"+(d.getMonth()+1))+"/"+(d.getDate()>9?d.getDate():"0"+d.getDate())+"/"+d.getFullYear()},T=r({...xe.gridConfig,...it(S),...rt(S),autoHeight:!1,minHeight:"33em",emptyText:"",rowHeight:50,columns:[{flex:2,text:"Pay Date",id:"payDate",field:"payDate",groupable:!1,sortable:!0,htmlEncode:!1,renderer:({record:_})=>`${R(_.payDate)}`},{flex:2,text:"Available To Employee On",id:"availableToEmployeeOnDate",field:"availableToEmployeeOnDate",sortable:!0,groupable:!1,renderer:({record:_})=>`${R(_.availableToEmployeeOnDate)}`},{flex:1,type:"action",id:"action",text:"Actions",columnDragToolbar:!1,enableHeaderContextMenu:!1,enableCellContextMenu:!1,cellCls:"b-action-cell--hover",actions:[{visible:!0,renderer:({record:_})=>I(_.availableToEmployeeOnDate).diff(Date.now(),"hours")>0?'<i class="b-action-item b-fa b-fa-edit cursor-pointer text-success no-underline">Edit</i>':'<i class="b-action-item b-fa b-fa-edit cursor-pointer text-success no-underline invisible">Edit</i>',onClick:({record:_})=>{w.value=_,b.value=!0}},{visible:!0,renderer:({record:_})=>I(_.availableToEmployeeOnDate).diff(Date.now(),"hours")>0?'<i class="b-action-item b-fa b-fa-trash-alt cursor-pointer no-underline text-danger">Delete</i>':'<i class="b-action-item b-fa b-fa-trash-alt cursor-pointer no-underline text-danger invisible">Delete</i>',onClick:({record:_})=>{w.value=_,o.value=!0}}]}]}),m=r(new st({...xe.gridStoreConfig}));async function $(){m.value.data=[],m.value.data=F.value;const _=localStorage.getItem(`${S}State`);_&&(m.value.state=JSON.parse(_))}const i=[{text:"Current Hours And Earnings",value:"showCurrentHoursAndEarnings"},{text:"Year To Date Hours And Earnings",value:"showYearToDateHoursAndEarnings"},{text:"Taxes And Deductions",value:"showTaxesAndDeductions"},{text:"Fringes",value:"showFringes"}],u=r([]),C=()=>{localStorage.setItem(`${S}State`,JSON.stringify(m.value.state))},j=()=>{m.value.clearFilters(),m.value.clearSorters(),localStorage.removeItem(`${S}State`)},z=()=>{m.value.clearFilters(),H.value.filterBar.hideFilterBar()},Y=async()=>{await l(),await a(),await $(),await ce()},N=()=>{y.value=!y.value,h.value++},X=()=>{b.value=!b.value,h.value++},L=async()=>{await Y(),f.value=!1},U=async()=>{const{payrollAndTaxesSettingId:_,...d}=O.value;Object.keys(d).map(G=>{u.value.includes(G)?d[G]=!0:d[G]=!1});try{await D({payrollAndTaxesSettingId:_,sections:d})}catch(G){throw new Error("failed to update date of show sections",G)}finally{await l(),ce(),f.value=!1}},re=()=>{ce(),f.value=!0},q=async()=>{const _=w.value.payStubSettingId;try{await x(_)}catch(d){throw new Error("failed to delete pay stub",d)}finally{await Y(),o.value=!1}},he=async()=>{await Y()},ce=()=>{u.value=[...Object.keys(O.value).filter(_=>O.value[_]===!0)]},Ie=se(()=>f.value?"#03A9F4":"rgba(110, 124, 143, 0.31)"),ge=r("32px"),Se=r("24px");return Z(()=>n.breakpoint,()=>{T.value.columns.forEach(_=>_.flex=1),n.mobile&&(ge.value="12px",Se.value="10px"),A.value++}),ie(async()=>{await Y()}),(_,d)=>{const G=c("fs-row"),J=c("fs-button"),Me=c("fs-form-checkbox-group"),Oe=c("fs-form-group"),Ve=c("fs-link"),Fe=c("fs-button-group"),Ye=c("fs-modal"),Be=c("fs-container");return v(),W(Be,{fluid:"",class:"px-0"},{default:t(()=>[e(G),e(G,{"no-gutters":"true",class:"showSections"},{default:t(()=>[s("div",gt,[St,s("div",null,[f.value?(v(),E("div",wt,[e(J,{size:"small",variant:"outline-secondary",class:"mx-3",onClick:L},{default:t(()=>[V("Cancel ")]),_:1}),e(J,{size:"small",variant:"success",class:"mx-3",onClick:U},{default:t(()=>[V("Save ")]),_:1})])):(v(),E("div",Dt,[e(J,{size:"small",variant:"outline-primary",class:"m-3",onClick:re},{default:t(()=>[e(p(ae),{icon:"fal fa-edit",class:"me-1"}),p(n).mobile?P("",!0):(v(),E("div",xt,"Edit"))]),_:1})]))])]),e(G,{class:"px-3 pt-3"},{default:t(()=>[e(Oe,null,{default:t(({ariaDescribedby:B})=>[e(Me,{disabled:!f.value,label:"Show Sections",size:"lg",modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=ue=>u.value=ue),options:i,"aria-describedby":B},null,8,["disabled","modelValue","aria-describedby"])]),_:1})]),_:1})]),_:1}),e(G,{"no-gutters":"true"},{default:t(()=>[s("div",null,[e(lt,{title:"Pay Stub Available Date","local-storage-key":S,"show-settings-button":!0,"show-filter-button":!0,"show-search-button":!1,"show-footer-search":!1,onSaveSettings:d[2]||(d[2]=B=>C()),onClearSettings:d[3]||(d[3]=B=>j()),onHideFilterBar:d[4]||(d[4]=B=>z()),onShowFilterBar:d[5]||(d[5]=B=>p(H).filterBar.showFilterBar()),onRefreshGrid:d[6]||(d[6]=B=>Y())},{buttons:t(()=>[e(J,{variant:"success",onClick:d[1]||(d[1]=B=>y.value=!0),class:"ms-2"},{default:t(()=>[V(" Add Date ")]),_:1})]),_:1}),s("div",kt,[(v(),W(p(nt),Qe(T.value,{store:m.value,ref_key:"grid",ref:k,key:A.value}),null,16,["store"]))])])]),_:1}),w.value?(v(),W(Pe,{sidebarType:"EDIT",isShowSidebar:b.value,payStubId:w.value.payStubSettingId,onCloseSidebar:X,onUpdatePayStub:he,key:h.value},null,8,["isShowSidebar","payStubId"])):P("",!0),(v(),W(Pe,{sidebarType:"ADD",isShowSidebar:y.value,onCloseSidebar:N,onAddPayStub:he,key:h.value},null,8,["isShowSidebar"])),e(Ye,{id:"delete-pay-stub-modal",ref:"modal","content-class":"content-fsModal","body-class":"body-fsModal","header-bg-variant":"blue","header-close-variant":"light","header-text-variant":"white","hide-header-close":"true",modelValue:o.value,"onUpdate:modelValue":d[7]||(d[7]=B=>o.value=B),onOk:q},{"modal-header":t(({cancel:B})=>[s("div",Ct,[Pt,e(Ve,{class:"text-secondary",tag:"a",onClick:B},{default:t(()=>[e(p(ae),{icon:["fal","times"],size:"lg",class:"text-white"})]),_:2},1032,["onClick"])])]),default:t(()=>[s("span",Et,[e(p(ae),{class:"me-2 text-danger",icon:["fa-solid","fa-circle-exclamation"],size:"lg"}),At])]),"modal-footer":t(({ok:B,cancel:ue})=>[e(Fe,null,{default:t(()=>[e(J,{onClick:ue,variant:"light",class:"mx-2 text-uppercase"},{default:t(()=>[V("cancel ")]),_:2},1032,["onClick"]),e(J,{onClick:B,variant:"danger",class:"mx-2 text-uppercase"},{default:t(()=>[V("ok ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["modelValue"])]),_:1})}}});const $t=te(Tt,[["__scopeId","data-v-d8cad75f"]]),Te=g=>(_e("data-v-ae28941e"),g=g(),ye(),g),It={class:"tab-container"},Mt={class:"form-section"},Ot={class:"header"},Vt={key:0},Ft={key:1,class:"details"},Yt={class:"detail-group"},Bt=Te(()=>s("div",{class:"label"},"Available To Employee On",-1)),qt=Te(()=>s("div",{class:"label"},"Notification Date",-1)),Ht={key:2,class:"form"},jt={key:0,class:"error-message"},Nt={key:1,class:"error-message"},Rt=ee({__name:"w2FormSettings",setup(g){const n=pe(),{responsive:a}=ve();ne.add(me,fe,Ee,Ae);const l=new Date().getFullYear(),D=()=>Array(7).fill(l-3).map((C,j)=>C+j).map(C=>({text:C,value:C})).reverse(),{w2FormSetting:x}=le(ke()),{getW2SettingsByYear:F,updateW2Settings:O}=ke(),y=r(l),b=r(!1),o=r(""),f=r(""),h=r(!1),A=r(!1),w=r(""),S=r(""),k=r(!1),H=async i=>{w.value="",S.value="",k.value=!1,await F(i).then(()=>{o.value=De(x?.value?.availableToEmployeeOn),f.value=De(x?.value?.notificationDate),I(o.value).isBefore(I(),"day")?(h.value=!0,w.value="The available date has already passed, cannot update available date!"):(h.value=!1,w.value=""),I(f.value).isBefore(I(),"day")?(A.value=!0,S.value="The notification date has already passed, cannot update notification date!"):(A.value=!1,S.value="")})},R=async()=>{let i={...x.value,notificationDate:f.value,availableToEmployeeOn:o.value};try{await O(i).then(async()=>{b.value=!1,k.value=!1,await H(y.value),await F(y.value)})}catch{n.notifyError("There is something wrong...")}},T=i=>{const u=i.target.value;I(u).isSameOrBefore(I(),"day")?(S.value="The notification date has already passed, cannot choose this date!",k.value=!1):u?(S.value="",k.value=!0):(S.value="Notification date cannot be empty!",k.value=!1)},m=i=>{const u=i.target.value;I(u).isSameOrBefore(I(),"day")?(w.value="The available date has already passed, cannot choose this date!",k.value=!1):u?(w.value="",k.value=!0):(w.value="Available to employee date cannot be empty!",k.value=!1)},$=async()=>{b.value=!0,await H(y.value)};return ie(async()=>{await H(y.value)}),Z(y,async i=>{await H(i)}),(i,u)=>{const C=c("fs-col"),j=c("fs-form-select"),z=c("font-awesome-icon"),Y=c("fs-button"),N=c("fs-row"),X=c("fs-container"),L=c("fs-alert"),U=c("fs-input"),re=c("fs-form");return v(),E("div",It,[s("div",Mt,[s("div",Ot,[e(X,{fluid:""},{default:t(()=>[e(N,{"align-v":"center",class:"py-3"},{default:t(()=>[e(C,{cols:b.value&&p(a).breakpoint==="sm"?12:"auto"},{default:t(()=>[s("div",{class:oe(["title ps-4",b.value&&p(a).breakpoint==="sm"&&"pb-3"])},M(y.value)+" W-2 Settings",3)]),_:1},8,["cols"]),e(C,{cols:"auto"},{default:t(()=>[b.value?P("",!0):(v(),W(j,{key:0,class:"form-select",modelValue:y.value,"onUpdate:modelValue":u[0]||(u[0]=q=>y.value=q),options:D()},null,8,["modelValue","options"]))]),_:1}),e(C,{cols:p(a).breakpoint==="sm"&&"auto",class:"d-flex justify-content-end"},{default:t(()=>[!b.value&&!(h.value&&A.value)?(v(),W(Y,{key:0,variant:"outline-primary",onClick:$,style:{gap:"8px"}},{default:t(()=>[e(z,{icon:"fa-light fa-pen-to-square"}),p(a).breakpoint!=="sm"?(v(),E("div",Vt,"Edit")):P("",!0)]),_:1})):P("",!0)]),_:1},8,["cols"]),e(C,{cols:p(a).breakpoint==="sm"?12:"auto"},{default:t(()=>[b.value?(v(),E("div",{key:0,class:oe(["w-100 px-4",p(a).breakpoint==="sm"?"d-flex justify-content-between border-top pt-3":"justify-content-end"])},[e(Y,{onClick:u[1]||(u[1]=q=>b.value=!1),variant:"outline-secondary"},{default:t(()=>[V("Cancel")]),_:1}),e(Y,{onClick:R,variant:"primary",disabled:!k.value},{default:t(()=>[V("Save")]),_:1},8,["disabled"])],2)):P("",!0)]),_:1},8,["cols"])]),_:1})]),_:1})]),h.value&&A.value?(v(),W(L,{key:0,variant:"danger",show:"",class:"mx-2 mt-2 mb-0"},{default:t(()=>[e(z,{icon:"fa-solid fa-circle-exclamation"}),V(" Available Date and Notification Date have already passed. Cannot update these settings. ")]),_:1})):P("",!0),b.value?P("",!0):(v(),E("div",Ft,[s("div",Yt,[Bt,s("div",null,M(p(I)(p(I).utc(p(x)?.availableToEmployeeOn).toDate()).local().format("MM/DD/YYYY")),1)]),s("div",null,[qt,s("span",null,M(p(I)(p(I).utc(p(x)?.notificationDate).toDate()).local().format("MM/DD/YYYY")),1)])])),b.value?(v(),E("div",Ht,[e(re,null,{default:t(()=>[e(U,{label:"Available To Employee On",rules:"required",required:!0,type:"fsDateInput",modelValue:o.value,"onUpdate:modelValue":u[2]||(u[2]=q=>o.value=q),disabled:h.value,onChange:u[3]||(u[3]=q=>m(q))},null,8,["modelValue","disabled"]),h.value||w.value?(v(),E("p",jt,M(w.value),1)):P("",!0),e(U,{label:"Notification Date",rules:"required",required:!0,type:"fsDateInput",modelValue:f.value,"onUpdate:modelValue":u[4]||(u[4]=q=>f.value=q),disabled:A.value,onChange:u[5]||(u[5]=q=>T(q))},null,8,["modelValue","disabled"]),A.value||S.value?(v(),E("p",Nt,M(S.value),1)):P("",!0)]),_:1})])):P("",!0)])])}}});const Ut=te(Rt,[["__scopeId","data-v-ae28941e"]]),$e=g=>(_e("data-v-c62df4cd"),g=g(),ye(),g),Gt={class:"tab-container"},zt={class:"form-section"},Wt={class:"header"},Lt={key:0},Jt={key:0,class:"details"},Kt=$e(()=>s("div",{class:"mb-4"},[s("b",null," Current payroll payment method(s): ")],-1)),Xt={key:0,class:"detail-group d-flex"},Qt={class:"icon-style align-self-center"},Zt={class:"d-grid"},ea={class:"label"},ta={key:1,class:"detail-group d-flex"},aa={class:"icon-style align-self-center"},sa={class:"d-grid"},oa={class:"label"},na={key:1,class:"details"},la=$e(()=>s("div",null,[s("b",null," Which Payroll Payment method(s) does your company want to use? ")],-1)),ia={class:"detail-group d-flex"},ra={class:"d-grid"},ca=["for"],ua={class:"d-flex"},da={class:"d-grid"},fa=["for"],pa=ee({__name:"paymentMethod",setup(g){const{responsive:n}=ve();ne.add(me,fe,Ee,Ae,et,tt);const a=[{text:"Paper Checks",value:"isPaperCheck",description:"They provide a paper trail and give employees stubs immediately. Additionally, they don't require employees to have a bank account.",icon:"fa-light fa-money-check-dollar"},{text:"Direct Deposit",value:"isDirectDeposit",description:"You can transfer funds electronically from your company's account directly to your employee's account. Employees are required to have a bank account.",icon:"fa-light fa-hand-holding-dollar"}],{notifySuccess:l,notifyError:D}=pe(),x=ct(),{clientPaymentMethod:F,generalClientSetting:O}=le(x),y=at(),b=se(()=>`${y.activeUserGuid}_${ut.DirectDepositRemainderDismissed}`),o=r(new Ce),f=r(new Ce),h=r(!1),A=r(!0),w=async()=>{h.value=!1,o.value={...f.value}},S=se(()=>{let $="";return o.value.isPaperCheck==!0&&o.value.isDirectDeposit==!0?$="You need to inform all your employees to enter their bank account information as soon as possible if they wish to receive direct deposit.":o.value.isDirectDeposit==!0&&($="You need to inform all your employees to enter their bank account information as soon as possible."),$});async function k($){const i=de.cloneDeep(O.value);i.isDirectDeposit=o.value.isDirectDeposit,i.isPaperCheck=o.value.isPaperCheck,i.isReminderForDirectDepositNotification=$,await x.upsertGeneralClientSetting(i)&&(l("Payment Method updated!"),m(),o.value.isReminded=$,f.value=de.cloneDeep(o.value))}async function H(){o.value.isDirectDeposit==!0&&S.value.length>0?T(S.value):(localStorage.removeItem(b.value),await k(!1))}const R=async()=>{localStorage.setItem(b.value,"true"),o.value.isReminded=!1},T=async $=>{const i=new ot({header:"Inform changes",autoShow:!1,centered:!0,closeAction:"destroy",closable:!0,autoClose:!1,width:"500px",height:"220px",cls:"popup-delete",id:"paymentMethodModal",modal:!0,bbar:{id:"footerPaymentMethod",items:{cancel:{text:"REMIND ME",minWidth:40,minHeight:20,onAction:async()=>{await k(!0),i.close()}},delete:{text:"GOT IT",minWidth:40,minHeight:20,cls:"b-raised b-green",onAction:async()=>{await k(!1),i.close()}}}},html:`<i class="b-fa b-fa-exclamation icon-exclamation-circle-paymentMethod"></i>
                      <p>${$}</p>
                    `});i.show()},m=async()=>{h.value=!h.value};return ie(async()=>{await x.fetchGeneralClientSetting(),o.value=F.value,f.value=de.cloneDeep(o.value)}),Z([()=>o.value.isDirectDeposit,()=>o.value.isPaperCheck],()=>{o.value.isDirectDeposit===f.value.isDirectDeposit&&o.value.isPaperCheck===f.value.isPaperCheck||o.value.isDirectDeposit===!1&&o.value.isPaperCheck===!1?A.value=!1:A.value=!0}),($,i)=>{const u=c("fs-col"),C=c("font-awesome-icon"),j=c("fs-button"),z=c("fs-row"),Y=c("fs-container"),N=c("fs-link"),X=c("fs-alert"),L=c("fs-form-checkbox");return v(),E("div",Gt,[s("div",zt,[s("div",Wt,[e(Y,{fluid:""},{default:t(()=>[e(z,{"align-v":"center",class:"py-3"},{default:t(()=>[e(u,{cols:h.value&&p(n).breakpoint==="sm"?12:"auto"},{default:t(()=>[s("div",{class:oe(["title ps-4",h.value&&p(n).breakpoint==="sm"&&"pb-3"])},"Payroll Payment Method",2)]),_:1},8,["cols"]),e(u,{cols:p(n).breakpoint==="sm"&&"auto",class:"d-flex justify-content-end"},{default:t(()=>[h.value?P("",!0):(v(),W(j,{key:0,variant:"outline-primary",onClick:m,style:{gap:"8px"}},{default:t(()=>[e(C,{icon:"fa-light fa-pen-to-square"}),p(n).breakpoint!=="sm"?(v(),E("div",Lt,"Edit")):P("",!0)]),_:1}))]),_:1},8,["cols"]),e(u,{cols:p(n).breakpoint==="sm"?12:"auto"},{default:t(()=>[h.value?(v(),E("div",{key:0,class:oe(["w-100 px-4",p(n).breakpoint==="sm"?"d-flex justify-content-between border-top pt-3":"justify-content-end"])},[e(j,{onClick:i[0]||(i[0]=U=>w()),variant:"outline-secondary"},{default:t(()=>[V("Cancel")]),_:1}),e(j,{onClick:H,variant:"primary",disabled:!A.value},{default:t(()=>[V("Save")]),_:1},8,["disabled"])],2)):P("",!0)]),_:1},8,["cols"])]),_:1})]),_:1})]),h.value?P("",!0):(v(),E("div",Jt,[e(X,{show:o.value.isReminded,variant:"warning",class:"mb-4 mt-2 mb-0 d-flex justify-content-between"},{default:t(()=>[s("div",null,[e(C,{icon:"fa-solid fa-circle-exclamation",class:"text-warning"}),V(" "+M(p(S)),1)]),e(N,{onClick:i[1]||(i[1]=U=>R()),class:"link text-warning"},{default:t(()=>[V("Dismiss")]),_:1})]),_:1},8,["show"]),Kt,o.value.isPaperCheck?(v(),E("div",Xt,[s("div",Qt,[e(C,{icon:a[0].icon},null,8,["icon"])]),s("div",Zt,[s("label",ea,M(a[0].text),1),s("small",null,M(a[0].description),1)])])):P("",!0),o.value.isDirectDeposit?(v(),E("div",ta,[s("div",aa,[e(C,{icon:a[1].icon},null,8,["icon"])]),s("div",sa,[s("label",oa,M(a[1].text),1),s("small",null,M(a[1].description),1)])])):P("",!0)])),h.value?(v(),E("div",na,[la,s("div",ia,[e(L,{id:a[0].value,modelValue:o.value.isPaperCheck,"onUpdate:modelValue":i[2]||(i[2]=U=>o.value.isPaperCheck=U)},{default:t(()=>[s("div",ra,[s("label",{class:"label",for:a[0].value},M(a[0].text),9,ca),s("small",null,M(a[0].description),1)])]),_:1},8,["id","modelValue"])]),s("div",ua,[e(L,{id:a[1].value,modelValue:o.value.isDirectDeposit,"onUpdate:modelValue":i[3]||(i[3]=U=>o.value.isDirectDeposit=U)},{default:t(()=>[s("div",da,[s("label",{class:"label",for:a[1].value},M(a[1].text),9,fa),s("small",null,M(a[1].description),1)])]),_:1},8,["id","modelValue"])])])):P("",!0)])])}}});const va=te(pa,[["__scopeId","data-v-c62df4cd"]]),ma={class:"hq-pg d-flex flex-column"},_a=ee({__name:"index",setup(g){const n=r(0);return(a,l)=>{const D=c("fs-tab"),x=c("fs-tabs");return v(),E("div",ma,[e(x,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=F=>n.value=F),class:"flex-fill d-flex flex-column overflow-hidden",pills:"","active-nav-item-class":"hq-pg__tab--active","nav-wrapper-class":"hq-pg__header hq-pg__header--sticky justify-content-center contain","content-class":"d-flex flex-fill flex-column overflow-auto"},{default:t(()=>[e(D,{title:"Pay Stub",active:"","title-item-class":"mx-1","title-link-class":"hq-pg__tab"},{default:t(()=>[e($t)]),_:1}),e(D,{title:"W-2","title-item-class":"mx-1","title-link-class":"hq-pg__tab"},{default:t(()=>[e(Ut)]),_:1}),e(D,{title:"Payment Method","title-item-class":"mx-1","title-link-class":"hq-pg__tab"},{default:t(()=>[e(va)]),_:1})]),_:1},8,["modelValue"])])}}});const Ea=te(_a,[["__scopeId","data-v-01b92816"]]);export{Ea as default};
