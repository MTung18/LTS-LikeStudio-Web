import{j as m,l as Xe,a_ as je,d as Le,aX as b,a$ as Ze,an as We,_ as Me,r as V,o as g,f as B,w as s,g as l,a2 as q,aL as Ae,i as Pe,s as He,Q as Je,at as Ke,b as ne,h as Qe,c as G,a as i,D as Q,I as R,u as O,ao as Ye,A as Ie,Y,ap as Fe,b0 as Ue,ax as ea,ay as aa}from"./index.611fe570.js";import{P as I}from"./PhoneInput.d32632d8.js";import{_ as ta}from"./deleteConfirmationModal.vue_vue_type_script_setup_true_lang.7d561088.js";class la{address1;address2;city;state_Province;zip_PostalCode;country;constructor(d){Object.assign(this,d)}}class U{address1="";address2="";city="";state_Province="";zip_PostalCode="";country="";countries;constructor(d){Object.assign(this,d)}toGoogleAPIAddressInput(){return new la({address1:this.address1,address2:this.address2,city:this.city,state_Province:this.state_Province,zip_PostalCode:this.zip_PostalCode,country:this.country})}}class ra{address1Label="";address1="";address2Label="";address2="";cityLabel="";city="";stateLabel="";state="";zipCodeLabel="";zipCode="";countryLabel="";country=""}var a=(e=>(e[e.Company=39]="Company",e[e.CompanyCreateModal=62]="CompanyCreateModal",e[e.CompanyDetails=38]="CompanyDetails",e[e.Correspondence=61]="Correspondence",e[e.Person=41]="Person",e[e.PersonCreateModal=61]="PersonCreateModal",e[e.PersonDetails=40]="PersonDetails",e[e.Project=33]="Project",e[e.ProjectDetails=32]="ProjectDetails",e[e.RecycleBin=75]="RecycleBin",e[e.RFI=36]="RFI",e[e.Submittal=60]="Submittal",e[e.Setup=42]="Setup",e[e.User=45]="User",e[e.ProjectBudgetAddPanel=109]="ProjectBudgetAddPanel",e[e.RFC=110]="RFC",e[e.ChangeOrder=118]="ChangeOrder",e[e.UserDefinedDocument=120]="UserDefinedDocument",e[e.ActionItem=122]="ActionItem",e[e.PurchaseOrder=124]="PurchaseOrder",e[e.PhotoLog=151]="PhotoLog",e[e.ChangeOrderDetailReport=125]="ChangeOrderDetailReport",e[e.ChangeOrderLogReport=126]="ChangeOrderLogReport",e[e.ChangeOrderVarianceReport=127]="ChangeOrderVarianceReport",e[e.CompanyListReport=128]="CompanyListReport",e[e.PersonListReport=129]="PersonListReport",e[e.DailyLogSummaryReport=130]="DailyLogSummaryReport",e[e.DelayLogReport=131]="DelayLogReport",e[e.EquipmentLogReport=132]="EquipmentLogReport",e[e.LaborLogReport=133]="LaborLogReport",e[e.ManpowerLogReport=134]="ManpowerLogReport",e[e.MaterialLogReport=135]="MaterialLogReport",e[e.VisitorLogReport=136]="VisitorLogReport",e[e.WeatherLogReport=137]="WeatherLogReport",e[e.CostItemReport=138]="CostItemReport",e[e.ActionItemListReport=139]="ActionItemListReport",e[e.ProjectListReport=140]="ProjectListReport",e[e.ProjectListDetailedReport=141]="ProjectListDetailedReport",e[e.UserDefinedDocumentListReport=142]="UserDefinedDocumentListReport",e[e.RFCDetailReport=143]="RFCDetailReport",e[e.RFCLogReport=144]="RFCLogReport",e[e.RFIDetailReport=145]="RFIDetailReport",e[e.RFILogReport=146]="RFILogReport",e[e.RFISummaryReport=147]="RFISummaryReport",e[e.SubmittalDetailReport=148]="SubmittalDetailReport",e[e.SubmittalLogReport=149]="SubmittalLogReport",e[e.SubmittalSummaryReport=150]="SubmittalSummaryReport",e[e.PurchaseOrderLogReport=154]="PurchaseOrderLogReport",e[e.PurchaseOrderDetailReport=155]="PurchaseOrderDetailReport",e[e.ScheduleSummaryReport=156]="ScheduleSummaryReport",e[e.ScheduleDetailReport=158]="ScheduleDetailReport",e[e.Subcontract=152]="Subcontract",e[e.SubcontractLogReport=159]="SubcontractLogReport",e[e.SubcontractDetailReport=160]="SubcontractDetailReport",e[e.PunchList=161]="PunchList",e[e.CommittedCostVarianceReport=162]="CommittedCostVarianceReport",e[e.PurchaseOrderChangeOrder=164]="PurchaseOrderChangeOrder",e[e.PunchListLogReport=165]="PunchListLogReport",e[e.PunchListDetailReport=166]="PunchListDetailReport",e[e.SubcontractChangeOrder=212]="SubcontractChangeOrder",e[e.PurchaseOrderChangeOrderDetailReport=216]="PurchaseOrderChangeOrderDetailReport",e[e.SubcontractChangeOrderDetailReport=217]="SubcontractChangeOrderDetailReport",e[e.AiaGeneral=222]="AiaGeneral",e[e.AiaSignature=224]="AiaSignature",e[e.AiaBillingReport=240]="AiaBillingReport",e[e.SubmittedTimeReport=241]="SubmittedTimeReport",e[e.BreakTrackingReport=244]="BreakTrackingReport",e))(a||{});class sa{static getUIFunctionIdFromPageType(d){return{projects:33,rfis:36,companies:39,people:41,submittals:60,rfcs:110,changeorders:118,actionitems:122,"user defined documents":120,purchaseorders:124,subcontracts:152,punchlists:161,tasks:163,"aia general":222,"aia signature":224}[d.toLowerCase()]||0}uiFields={};uiAddressFieldMap={[a.Project]:{address1Label:"PM_33_1173",address1:"PM_33_1174",address2Label:"PM_33_1434",address2:"PM_33_1435",cityLabel:"PM_33_1436",city:"PM_33_1437",stateLabel:"PM_33_1438",state:"PM_33_1439",zipCodeLabel:"PM_33_1440",zipCode:"PM_33_1441",countryLabel:"PM_33_1442",country:"PM_33_1443"},[a.Company]:{address1Label:"PM_39_1273",address1:"PM_39_1274",address2Label:"PM_39_1536",address2:"PM_39_1275",cityLabel:"PM_39_1276",city:"PM_39_1277",stateLabel:"PM_39_1278",state:"PM_39_1279",zipCodeLabel:"PM_39_1280",zipCode:"PM_39_1281",countryLabel:"PM_39_1282",country:"PM_39_1283"},[a.Person]:{address1Label:"PM_41_1308",address1:"PM_41_1309",address2Label:"PM_41_1545",address2:"PM_41_1310",cityLabel:"PM_41_1311",city:"PM_41_1312",stateLabel:"PM_41_1313",state:"PM_41_1314",zipCodeLabel:"PM_41_1315",zipCode:"PM_41_1316",countryLabel:"PM_41_1317",country:"PM_41_1318"},[a.Submittal]:null,[a.Correspondence]:null,[a.RFI]:null,[a.UserDefinedDocument]:null,[a.CompanyCreateModal]:null,[a.CompanyDetails]:null,[a.PersonCreateModal]:null,[a.PersonDetails]:null,[a.Setup]:null,[a.ProjectDetails]:null,[a.RecycleBin]:null,[a.User]:null,[a.ProjectBudgetAddPanel]:null,[a.RFC]:null,[a.ChangeOrder]:null,[a.ActionItem]:null,[a.PunchList]:null,[a.PurchaseOrder]:{address1Label:"PM_124_2334",address1:"PM_124_2334",address2Label:"PM_124_2465",address2:"PM_124_2465",cityLabel:"PM_124_2466",city:"PM_124_2466",stateLabel:"PM_124_2467",state:"PM_124_2467",zipCodeLabel:"PM_124_2468",zipCode:"PM_124_2468",countryLabel:"PM_124_2469",country:"PM_124_2469"},[a.PhotoLog]:null,[a.Subcontract]:null,[a.PunchList]:null,[a.ChangeOrderDetailReport]:null,[a.ChangeOrderLogReport]:null,[a.ChangeOrderVarianceReport]:null,[a.CommittedCostVarianceReport]:null,[a.CompanyListReport]:null,[a.PersonListReport]:null,[a.DailyLogSummaryReport]:null,[a.DelayLogReport]:null,[a.EquipmentLogReport]:null,[a.LaborLogReport]:null,[a.ManpowerLogReport]:null,[a.MaterialLogReport]:null,[a.VisitorLogReport]:null,[a.WeatherLogReport]:null,[a.CostItemReport]:null,[a.ActionItemListReport]:null,[a.ProjectListReport]:null,[a.ProjectListDetailedReport]:null,[a.UserDefinedDocumentListReport]:null,[a.RFCDetailReport]:null,[a.RFCLogReport]:null,[a.RFIDetailReport]:null,[a.RFILogReport]:null,[a.RFISummaryReport]:null,[a.SubmittalDetailReport]:null,[a.SubmittalLogReport]:null,[a.SubmittalSummaryReport]:null,[a.PurchaseOrderLogReport]:null,[a.PurchaseOrderDetailReport]:null,[a.Subcontract]:null,[a.ScheduleSummaryReport]:null,[a.ScheduleDetailReport]:null,[a.SubcontractLogReport]:null,[a.PunchList]:null,[a.SubcontractDetailReport]:null,[a.PunchListLogReport]:null,[a.PurchaseOrderChangeOrder]:null,[a.PunchListDetailReport]:null,[a.SubcontractChangeOrder]:null,[a.PurchaseOrderChangeOrderDetailReport]:null,[a.SubcontractChangeOrderDetailReport]:null,[a.AiaGeneral]:{address1Label:"PM_222_2951",address1:"PM_222_2952",address2Label:"PM_222_2953",address2:"PM_222_2954",cityLabel:"PM_222_2955",city:"PM_222_2956",stateLabel:"PM_222_2957",state:"PM_222_2958",zipCodeLabel:"PM_222_2959",zipCode:"PM_222_2960",countryLabel:"PM_222_2961",country:"PM_222_2962"},[a.AiaSignature]:{address1Label:"PM_224_2981",address1:"PM_224_2982",address2Label:"PM_224_2983",address2:"PM_224_2984",cityLabel:"PM_224_2985",city:"PM_224_2986",stateLabel:"PM_224_2987",state:"PM_224_2988",zipCodeLabel:"PM_224_2989",zipCode:"PM_224_2990",countryLabel:"PM_224_2991",country:"PM_224_2992"},[a.AiaBillingReport]:null,[a.SubmittedTimeReport]:null,[a.BreakTrackingReport]:null};isRequired(d){return!!(this.uiFields[d]&&this.uiFields[d].required)}}class da{id;abbreviation;name;sequence}class ie{static countryItems=[{id:0,abbreviation:"",name:"",sequence:1},{id:1,abbreviation:"US",name:"United States",sequence:2},{id:2,abbreviation:"CA",name:"Canada",sequence:3},{id:3,abbreviation:"XX",name:"Other",sequence:4}];async getCountries(){return Promise.resolve(JSON.parse(JSON.stringify(ie.countryItems)))}}const Re=new ie;function oa(){function e(v,p,n){const L=new CustomEvent(v,{detail:{value:p},bubbles:!0});(n||document)?.dispatchEvent(L)}function d(v,p,n){(n||document)?.addEventListener(v,p)}function P(v,p,n){(n||document)?.removeEventListener(v,p)}function w(v,p,n){v.forEach(L=>{d(L,p,n)})}function N(v,p,n){v.forEach(L=>{P(L,p,n)})}return{emitNative:e,onNative:d,offNative:P,addListeners:w,removeListeners:N}}function na(){const e=m(null),{onNative:d,offNative:P}=oa();function w(v,p,n){e.value=document.getElementById(v),e.value&&(d("blur",p,e.value),d("input",n,e.value))}function N(v,p,n){e.value&&(P("blur",p,e.value),P("input",n,e.value))}return{registerInputAndBlurEvent:w,deRegisterInputAndBlurEvent:N}}Xe.add(je);const ua=Le({name:"FsAddress",components:{FsInput:b,FsMultiselectList:Ze,VeeField:We},props:{index:Number,googleAddress:Object,labelPrepend:{type:String,default:""},uiFieldMap:{type:Object,default:()=>new ra},uiFieldStore:{type:Object,default:()=>new sa},isCountryEnabled:{type:Boolean,default:!0}},setup(){return{...na()}},data(){return{internalGoogleAddress:{},countryItems:[],countryTouched:!1,countrySelected:new da}},computed:{selectedCountryId(){const e=this.countryItems.find(d=>d.abbreviation===this.googleAddress.country);return e?e.id:null},postalCodeMinLength(){return{US:5,CA:6,XX:0}[this.googleAddress.country||"XX"]},postalCodePattern(){return{US:/^\d{5}(-?\d{4})?$/,CA:/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/,XX:/.*/}[this.googleAddress.country||"XX"]}},watch:{countrySelected:{async handler(e,d){this.googleAddress&&this.internalGoogleAddress&&this.countrySelected&&(this.internalGoogleAddress.country=this.countrySelected.abbreviation)},immediate:!0},googleAddress:{async handler(e,d){this.internalGoogleAddress=e,await this.processCountry()},immediate:!0},internalGoogleAddress:{async handler(e,d){this.$emit("update:googleAddress",this.internalGoogleAddress)},deep:!0}},async created(){this.countryItems=await Re.getCountries()},async mounted(){this.registerInputAndBlurEvent(this.uiFieldMap.address1,this.onAddress1Blur,this.updateAddress1)},unmounted(){this.deRegisterInputAndBlurEvent(this.uiFieldMap.address1,this.onAddress1Blur,this.updateAddress1)},methods:{async processCountry(){this.countryItems=await Re.getCountries(),this.countrySelected=this.countryItems.find(e=>e.abbreviation===this.internalGoogleAddress.country)},async onAddress1Blur(){this.trimAddress1()},updateAddress1(e){this.internalGoogleAddress.address1=e.target.value??"",this.internalGoogleAddress.address1&&this.internalGoogleAddress.address1.trim().length>0&&this.setDefaultCountry()},trimAddress1(){this.internalGoogleAddress.address1=this.internalGoogleAddress?.address1?.substring(0,255)?.trim()},addressInput(e){e?.trim().length>0&&this.setDefaultCountry()},formatState(e){this.internalGoogleAddress.state_Province=this.googleAddress.state_Province.toUpperCase()},formatZip(e){this.internalGoogleAddress.zip_PostalCode=this.googleAddress.zip_PostalCode.toUpperCase()},updateCountry(e){this.countryTouched=!0},setDefaultCountry(){!this.countryTouched&&!this.googleAddress.country&&(this.internalGoogleAddress.country="US",this.countryTouched=!0)},setAddress(e){this.internalGoogleAddress=this.parseGoogleAddress(e),e.address_components&&(this.internalGoogleAddress=this.parseGoogleAddress(e))},async clearAddress(){this.internalGoogleAddress.address1="",this.internalGoogleAddress.address2="",this.internalGoogleAddress.city="",this.internalGoogleAddress.state_Province="",this.internalGoogleAddress.zip_PostalCode="",this.internalGoogleAddress.country="",this.countryTouched=!1},parseGoogleAddress(e){let d="",P="",w="",N="",v="",p="";for(let n=0;n<e.address_components.length;n++)switch(e.address_components[n].types[0]){case"street_number":d=e.address_components[n].short_name+" ";break;case"route":P=e.address_components[n].long_name;break;case"locality":w=e.address_components[n].long_name.substring(0,50);break;case"administrative_area_level_1":N=e.address_components[n].short_name.substring(0,3);break;case"country":{const h=e.address_components[n].short_name;h==="US"||h==="CA"?v=h:v="XX",this.countryTouched=!0;break}case"postal_code":p=e.address_components[n].short_name.substring(0,10);break}return this.internalGoogleAddress.address1=(d+P).substring(0,255),new U({address1:(d+P).substring(0,255),address2:"",city:w,state_Province:N,zip_PostalCode:p,country:v,countries:[]})}}});function ia(e,d,P,w,N,v){const p=V("fs-input"),n=V("fs-col"),L=V("fs-row");return g(),B(L,null,{default:s(()=>[l(n,{cols:"12"},{default:s(()=>[l(p,{type:"fsTextInput",name:`${e.labelPrepend}address1`,defaultEmptyValue:"",maxlength:30,label:`${e.labelPrepend} Address 1`,rules:{required:!1},required:!1,modelValue:e.internalGoogleAddress.address1,"onUpdate:modelValue":[d[0]||(d[0]=h=>e.internalGoogleAddress.address1=h),e.addressInput]},null,8,["name","label","modelValue","onUpdate:modelValue"])]),_:1}),l(n,{cols:"12"},{default:s(()=>[l(p,{type:"fsTextInput",name:`${e.labelPrepend}address2`,defaultEmptyValue:"",maxlength:30,label:`${e.labelPrepend} Address 2`,rules:{required:!1},required:!1,modelValue:e.internalGoogleAddress.address2,"onUpdate:modelValue":[d[1]||(d[1]=h=>e.internalGoogleAddress.address2=h),e.addressInput]},null,8,["name","label","modelValue","onUpdate:modelValue"])]),_:1}),l(n,{md:"6"},{default:s(()=>[l(p,{type:"fsTextInput",name:`${e.labelPrepend}city`,id:e.uiFieldMap.city,defaultEmptyValue:"",label:`${e.labelPrepend} City`,maxlength:30,rules:{required:!1},required:!1,modelValue:e.internalGoogleAddress.city,"onUpdate:modelValue":[d[2]||(d[2]=h=>e.internalGoogleAddress.city=h),e.addressInput]},null,8,["name","id","label","modelValue","onUpdate:modelValue"])]),_:1}),l(n,{sm:"6",md:"3"},{default:s(()=>[l(p,{type:"fsTextInput",name:`${e.labelPrepend}state`,key:"stateText",defaultEmptyValue:"",label:`${e.labelPrepend} State`,maxlength:2,id:e.uiFieldMap.state,rules:{required:!1},required:!1,modelValue:e.internalGoogleAddress.state_Province,"onUpdate:modelValue":[d[3]||(d[3]=h=>e.internalGoogleAddress.state_Province=h),e.addressInput],onBlur:e.formatState},null,8,["name","label","id","modelValue","onBlur","onUpdate:modelValue"])]),_:1}),l(n,{sm:"6",md:"3"},{default:s(()=>[l(p,{type:"fsTextInput",name:`${e.labelPrepend}zipCode`,defaultEmptyValue:"",maxlength:10,id:e.uiFieldMap.zipCode,rules:{zipCode:{country:e.internalGoogleAddress.country},required:!1},required:!1,label:e.internalGoogleAddress.country==="CA"?`${e.labelPrepend} Postal Code`:`${e.labelPrepend} Zip Code`,modelValue:e.internalGoogleAddress.zip_PostalCode,"onUpdate:modelValue":[d[4]||(d[4]=h=>e.internalGoogleAddress.zip_PostalCode=h),e.addressInput],onBlur:e.formatZip},null,8,["name","id","rules","label","modelValue","onUpdate:modelValue","onBlur"])]),_:1}),e.isCountryEnabled?(g(),B(n,{key:0,md:"12"},{default:s(()=>[e.countryItems&&e.countryItems.length>0?(g(),B(p,{type:"fsMultiselectList",id:e.uiFieldMap.country,key:"country",name:`${e.labelPrepend}country`,label:`${e.labelPrepend} Country`,modelValue:e.countrySelected,"onUpdate:modelValue":d[5]||(d[5]=h=>e.countrySelected=h),typeaheaddata:e.countryItems,typeaheadkey:"name",typeaheadvalueattribute:"abbreviation",defaultEmptyValue:null,showClear:!1,rules:{required:!1},required:!1},null,8,["id","name","label","modelValue","typeaheaddata"])):q("",!0)]),_:1})):q("",!0)]),_:1})}const pa=Me(ua,[["render",ia]]);class ma{id;name;constructor(d){Object.assign(this,d)}}class ca{id;name;constructor(d){Object.assign(this,d)}}class ue extends Ae{employeeId;relationTypeId;phone;email;prefixId}class F{id;emailAddressTypeId;email;constructor(d){Object.assign(this,d)}}class va{address1;address2;city;state;zip;country;addressType;addressTypeId;id;constructor(d){Object.assign(this,d)}}var Se=(e=>(e[e.Main=1]="Main",e))(Se||{}),De=(e=>(e[e.Main=1]="Main",e))(De||{}),Ve=(e=>(e[e.Main=1]="Main",e))(Ve||{});class fa{id;name;constructor(d){Object.assign(this,d)}}const C=e=>(ea("data-v-0f09f5d2"),e=e(),aa(),e),ya={class:"hq-pg"},ha={class:"hq-pg__title"},_a={class:"mb-3"},ga=C(()=>i("h3",{class:"hq-pg__section-head"},"General",-1)),ba=C(()=>i("p",null,[i("b",null,[R("Contact Type "),i("span",{class:"mandatory"},"*")])],-1)),Ca={class:"col"},Pa=C(()=>i("span",{class:"ms-1"},"Emergency Contact",-1)),Ra={class:"col"},La=C(()=>i("span",{style:{"margin-left":"0.5em"}},"Beneficiary",-1)),Ma={class:"col"},Aa=C(()=>i("span",null,"Dependent",-1)),Sa={key:0,class:"text-danger"},Da={class:"mb-3"},Va=C(()=>i("h3",{class:"hq-pg__section-head"},"Personal",-1)),wa={class:"mb-3"},Na=C(()=>i("h3",{class:"hq-pg__section-head"},"Address",-1)),Ea={key:0},Oa={id:"contactDeleteBtn"},qa={class:"mt-2"},ka=C(()=>i("i",{class:"b-fa b-fa-exclamation-circle text-danger"},null,-1)),Ba={style:{color:"#6E7C8F"}},Ta=C(()=>i("br",null,null,-1)),Ga=C(()=>i("br",null,null,-1)),za=C(()=>i("br",null,null,-1)),$a={key:0},xa=C(()=>i("br",null,null,-1)),Xa={key:1},ja=C(()=>i("br",null,null,-1)),Za={key:2},Wa=C(()=>i("br",null,null,-1)),Ha={key:3},Ja=Le({__name:"editContactForm",setup(e){const{fetchContactMasterData:d,createEmployeeContactAsync:P,updateEmployeeContactAsync:w,fetchEmployeeContactSsn:N,deleteEmployeeContactAsync:v,checkEmployeeContactCanBeDeletedAsync:p,fetchEmployeeDetails:n}=Pe(),{contactMasterData:L,employeeContactCreated:h,employeeContactUpdated:we,contactList:pe,employeeContactCanBeDeleted:ee,employeeDetails:Ne,employeeContactDeleted:Ee}=He(Pe()),{notifySuccess:ae,notifyError:te}=Je(),D=Ke(),J=m(),z=m(!1),A=m(!1),H=m(!1),M=m(!1),me=m(new Array),ce=m(new Array),ve=m(new Array),k=m(new I),E=m(new F),f=m(new U),t=m(new ue),$=m(null),x=m(null),X=m(null),o=m(new Ae),fe=m(!0),j=m(!0),Z=m(!0),le=m("XXX-XX-XXXX"),ye=m("XX-XX-XXXX"),T=m(""),K=m(!1),Oe=()=>{Y.go(-1)},he=async(_=!1)=>{A.value=!1,await J.value.setFieldTouched(!1),H.value=!1,$.value=null,x.value=null,X.value=null,T.value="",K.value=!1,k.value=new I,E.value=new F,f.value=new U,t.value=new ue,await J.value.resetForm(),_&&setTimeout(async()=>{await he()},25)},qe=()=>{if(f.value.address1||f.value.address2||f.value.city||f.value.state_Province||f.value.zip_PostalCode){t.value.address||(t.value.address=new va),t.value.address.address1=f.value.address1,t.value.address.address2=f.value.address2,t.value.address.city=f.value.city,t.value.address.state=f.value.state_Province,t.value.address.zip=f.value.zip_PostalCode,t.value.address.addressTypeId=Se.Main,t.value.address.id=t.value.address?.id||0;return}else M.value||(t.value.address=null)},_e=async _=>{try{if(!t.value.isEmergencyContact&&!t.value.isBeneficiary&&!t.value.isDependent){H.value=!0;return}H.value=!1;const r=await J.value.validate();A.value=!0,r.valid?($.value&&(t.value.prefixId=$.value.id),x.value&&(t.value.relationTypeId=x.value.id),X.value&&(t.value.genderId=X.value.id),E.value.email?(t.value.email=new F,t.value.email.email=E.value.email,t.value.email.emailAddressTypeId=Ve.Main,M.value&&(t.value.email.id=E.value.id)):t.value.email=null,t.value.phone=new I,t.value.phone.phoneNumber=k.value.phoneNumber?.replace(/[^\d]/g,""),t.value.phone.phoneTypeId=De.Main,M.value&&(t.value.phone.id=k.value.id),T.value&&(t.value.ssn=Number.parseInt(T.value.replaceAll("-",""))),qe(),t.value.employeeId=Number(D.params.employeeId),M.value?(await w(t.value),we.value?(ae("Contact has been updated."),Y.go(-1)):te("Contact failed to update. Try again.")):(await P(t.value),h.value?(ae("Employee contact saved."),_?await he(!0):Y.go(-1)):te("Employee contact not saved."))):Fe("observer")}catch(r){console.log(r),te("Employee contact not saved.")}},ke=()=>{o.value&&(t.value=new ue,t.value.id=o.value.id,t.value.isBeneficiary=o.value.isBeneficiary,t.value.isEmergencyContact=o.value.isEmergencyContact,t.value.isDependent=o.value.isDependent,t.value.isPrimaryContact=o.value.isPrimaryContact,t.value.prefixId=o.value.namePrefixId,t.value.firstName=o.value.firstName,t.value.middleName=o.value.middleName,t.value.lastName=o.value.lastName,t.value.suffix=o.value.suffix,t.value.phoneId=o.value.phoneId,t.value.phoneNumber=o.value.phoneNumber,t.value.emailId=o.value.emailId,t.value.relationshipId=o.value.relationshipId,t.value.genderId=o.value.genderId,le.value=o.value.ssn?.toString(),o.value.birthDate&&(t.value.birthDate=Ue(o.value.birthDate)),t.value.ssn=o.value.ssn,t.value.address=o.value.address,k.value=new I,o.value.phoneId&&(k.value.id=o.value.phoneId,k.value.phoneNumber=o.value.phoneNumber),E.value=new F,o.value.emailId&&(E.value.id=o.value.emailId,E.value.email=o.value.emailAddress),f.value=new U,o.value.address&&o.value.address.id&&(f.value.address1=o.value.address.address1,f.value.address2=o.value.address.address2,f.value.city=o.value.address.city,f.value.state_Province=o.value.address.state,f.value.zip_PostalCode=o.value.address.zip),$.value=new ca({id:o.value.namePrefixId,name:o.value.prefix}),x.value=new fa({id:o.value.relationshipId,name:o.value.relation}),X.value=new ma({id:o.value.genderId,name:o.value.gender}))},Be=()=>{const _=document.getElementsByClassName("hq-pg");_&&_.length>0&&_[0].scrollTo({top:0,behavior:"smooth"})},Te=()=>{ee.value&&(z.value=!0)},re=ne(()=>({required:se.value})),se=ne(()=>!!(t.value.isDependent||t.value.isBeneficiary)),de=ne(()=>({required:se.value,regex:se.value||T.value?/^(\d{3}-?\d{2}-?\d{4})?$/:""})),Ge=async()=>{ee.value&&z.value&&(await v(Number(D.params.id)),Ee.value&&(z.value=!1,ae("Contact has been deleted."),setTimeout(()=>{Y.push({name:"employeeInformation",params:{id:D.params.employeeId}})},1e3)))};function ze(){j.value=!j.value}async function ge(){M.value&&!K.value&&t.value.ssn&&(T.value=(await N(Number(D.params.id))).toString(),K.value=!0)}async function $e(){await ge(),Z.value=!Z.value}return Qe(async()=>{await d(),me.value=L.value.namePrefixes,ce.value=L.value.relationships.sort((_,r)=>_.name.localeCompare(r.name)),ve.value=L.value.genders,D.params.id&&Number(D.params.id)?(M.value=!0,o.value=pe.value.find(_=>_.id===Number(D.params.id)),fe.value=pe.value.some(_=>_.id!==Number(D.params.id)&&_.isEmergencyContact),ke(),p(Number(D.params.id)),n(Number(D.params.employeeId)),M.value&&!K.value&&await ge(),j.value=!1,Z.value=!1):(j.value=!0,Z.value=!0)}),(_,r)=>{const c=V("fs-col"),W=V("fs-button"),S=V("fs-row"),be=V("fs-container"),oe=V("fs-form-checkbox"),Ce=V("font-awesome-icon"),xe=V("fs-link");return g(),G("div",ya,[l(be,{fluid:"",class:"hq-pg__header hq-pg__header--sticky contain"},{default:s(()=>[l(S,{"align-v":"center"},{default:s(()=>[l(c,null,{default:s(()=>[i("h2",ha,Q(M.value?"Edit":"Add")+" Employee Contact",1)]),_:1}),l(c,{cols:"auto"},{default:s(()=>[l(W,{variant:"outline-secondary",onClick:r[0]||(r[0]=y=>Oe())},{default:s(()=>[R(" CANCEL ")]),_:1}),M.value?q("",!0):(g(),B(W,{key:0,variant:"outline-primary",onClick:r[1]||(r[1]=y=>_e(!1))},{default:s(()=>[R(" SAVE & DONE ")]),_:1})),l(W,{variant:"primary",onClick:r[2]||(r[2]=y=>_e(!0))},{default:s(()=>[R(Q(M.value?"Update":"SAVE & NEW"),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(be,{fluid:"",class:"contain hq-pg__container"},{default:s(()=>[l(O(Ye),{ref_key:"observer",ref:J,id:"observer"},{default:s(({meta:y})=>[l(S,null,{default:s(()=>[l(c,{lg:"8"},{default:s(()=>[i("section",_a,[ga,ba,l(S,{class:"align-items-center row-cols-auto"},{default:s(()=>[i("div",Ca,[l(oe,{class:Ie(["mb-2",H.value?"inputError":""]),style:{"margin-left":"-0.5em"},modelValue:t.value.isEmergencyContact,"onUpdate:modelValue":r[3]||(r[3]=u=>t.value.isEmergencyContact=u),disabled:M.value?!fe.value:!1},{default:s(()=>[Pa]),_:1},8,["modelValue","disabled","class"])]),i("div",Ra,[l(oe,{class:"mb-2",style:{"margin-left":"-0.5em"},modelValue:t.value.isBeneficiary,"onUpdate:modelValue":r[4]||(r[4]=u=>t.value.isBeneficiary=u)},{default:s(()=>[La]),_:1},8,["modelValue"])]),i("div",Ma,[l(oe,{class:"mb-2",style:{"margin-left":"-0.5"},modelValue:t.value.isDependent,"onUpdate:modelValue":r[5]||(r[5]=u=>t.value.isDependent=u)},{default:s(()=>[Aa]),_:1},8,["modelValue"])])]),_:1}),l(S,{class:"mb-2"},{default:s(()=>[H.value?(g(),G("span",Sa," Must select at least one Contact Type ")):q("",!0)]),_:1}),l(S,{class:"align-items-center"},{default:s(()=>[l(c,null,{default:s(()=>[l(b,{type:"fsMultiselectList",label:"Prefix",id:"prefixId",labelId:"prefixLabelId",modelValue:$.value,"onUpdate:modelValue":r[6]||(r[6]=u=>$.value=u),typeaheaddata:me.value,typeaheadkey:"name",typeaheadvalueattribute:"id",name:"prefix",showClear:!0,autocomplete:"donotfill",dropdownSearchable:!0,rules:{required:!1},formMeta:{...y,validated:A.value}},null,8,["modelValue","typeaheaddata","formMeta"])]),_:2},1024),l(c,null,{default:s(()=>[l(b,{type:"fsTextInput",label:"First Name",maxlength:20,rules:{required:!0},name:"firstName",required:!0,formMeta:{...y,validated:A.value},modelValue:t.value.firstName,"onUpdate:modelValue":r[7]||(r[7]=u=>t.value.firstName=u)},null,8,["formMeta","modelValue"])]),_:2},1024),l(c,null,{default:s(()=>[l(b,{type:"fsTextInput",label:"Middle Name",maxlength:20,rules:{required:!1},name:"middleName",formMeta:{...y,validated:A.value},modelValue:t.value.middleName,"onUpdate:modelValue":r[8]||(r[8]=u=>t.value.middleName=u)},null,8,["formMeta","modelValue"])]),_:2},1024),l(c,null,{default:s(()=>[l(b,{type:"fsTextInput",label:"Last Name",maxlength:20,rules:{required:!0},name:"lastName",required:!0,formMeta:{...y,validated:A.value},modelValue:t.value.lastName,"onUpdate:modelValue":r[9]||(r[9]=u=>t.value.lastName=u)},null,8,["formMeta","modelValue"])]),_:2},1024),l(c,null,{default:s(()=>[l(b,{type:"fsTextInput",label:"Suffix",maxlength:10,rules:{required:!1},name:"suffix",formMeta:{...y,validated:A.value},modelValue:t.value.suffix,"onUpdate:modelValue":r[10]||(r[10]=u=>t.value.suffix=u)},null,8,["formMeta","modelValue"])]),_:2},1024)]),_:2},1024),l(S,{class:"align-items-center"},{default:s(()=>[l(c,{md:"6"},{default:s(()=>[l(b,{type:"fsTextInput",label:"Phone Number",labelId:"phone",modelValue:k.value.phoneNumber,"onUpdate:modelValue":r[11]||(r[11]=u=>k.value.phoneNumber=u),formMeta:{...y,validated:A.value},rules:{required:!0,regex:/^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}$/},required:!0,name:"phoneNumber",placeholder:"Phone Number","mask-format":"(###) ###-####"},null,8,["modelValue","formMeta","rules"])]),_:2},1024),l(c,{md:"6"},{default:s(()=>[l(b,{type:"fsTextInput",label:"Email Address",labelId:"email",maxlength:100,modelValue:E.value.email,"onUpdate:modelValue":r[12]||(r[12]=u=>E.value.email=u),rules:{required:!1,regex:/^\S+@\S+\.\S+$/},formMeta:{...y,validated:A.value},required:!1,name:"email",placeholder:"Email Address"},null,8,["modelValue","rules","formMeta"])]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024),l(S,null,{default:s(()=>[l(c,{lg:"8"},{default:s(()=>[i("section",Da,[Va,l(S,{class:"align-items-center"},{default:s(()=>[l(c,{md:"6"},{default:s(()=>[l(b,{type:"fsMultiselectList",label:"Relationship",id:"relationshipId",labelId:"relationshipLabelId",modelValue:x.value,"onUpdate:modelValue":r[13]||(r[13]=u=>x.value=u),required:!0,rules:{required:!0},typeaheaddata:ce.value,typeaheadkey:"name",typeaheadvalueattribute:"id",name:"relationship",showClear:!1,autocomplete:"donotfill",dropdownSearchable:!0},null,8,["modelValue","typeaheaddata"])]),_:1}),l(c,{md:"6"},{default:s(()=>[l(b,{type:"fsMultiselectList",label:"Gender",id:"genderId",labelId:"genderLabelId",modelValue:X.value,"onUpdate:modelValue":r[14]||(r[14]=u=>X.value=u),typeaheaddata:ve.value,typeaheadkey:"name",typeaheadvalueattribute:"id",name:"gender",showClear:!1,autocomplete:"donotfill",dropdownSearchable:!0},null,8,["modelValue","typeaheaddata"])]),_:1}),l(c,{md:"6"},{default:s(()=>[l(S,{class:"align-items-center"},{default:s(()=>[l(c,{md:"11"},{default:s(()=>[j.value?(g(),B(b,{key:0,type:"fsDateInput",id:"dateOfBirth",labelId:"dob",modelValue:t.value.birthDate,"onUpdate:modelValue":r[15]||(r[15]=u=>t.value.birthDate=u),formMeta:{...y,validated:A.value},label:"Date of Birth",required:O(re).required,rules:O(re),name:"dateOfBirth"},null,8,["modelValue","formMeta","required","rules"])):(g(),B(b,{key:1,type:"fsTextInput",id:"dateOfBirth",labelId:"dob",required:O(re).required,label:"Date of Birth",name:"dateOfBirth",modelValue:ye.value,"onUpdate:modelValue":r[16]||(r[16]=u=>ye.value=u),disabled:!0},null,8,["required","modelValue"]))]),_:2},1024),l(c,{md:"1",class:"eye-icon"},{default:s(()=>[l(W,{pill:"",variant:"outline-green",class:"ms-0 me-0 px-2 mx-2",style:{height:"25px"},onClick:ze},{default:s(()=>[l(Ce,{icon:["fal",j.value?"eye-slash":"eye"],size:"sm"},null,8,["icon"])]),_:1})]),_:1})]),_:2},1024)]),_:2},1024),l(c,{md:"6"},{default:s(()=>[l(S,{class:"align-items-center"},{default:s(()=>[l(c,{md:"11"},{default:s(()=>[Z.value?(g(),B(b,{key:0,type:"fsTextInput",label:"SSN",maxlength:20,name:"ssn",modelValue:T.value,"onUpdate:modelValue":r[17]||(r[17]=u=>T.value=u),formMeta:{...y,validated:A.value},required:O(de).required,rules:O(de),"mask-format":"###-##-####"},null,8,["modelValue","formMeta","required","rules"])):(g(),B(b,{key:1,type:"fsTextInput",id:"ssn",labelId:"ssn",required:O(de).required,label:"SSN",name:"ssn",modelValue:le.value,"onUpdate:modelValue":r[18]||(r[18]=u=>le.value=u),disabled:!0},null,8,["required","modelValue"]))]),_:2},1024),l(c,{md:"1",class:"eye-icon"},{default:s(()=>[l(W,{pill:"",variant:"outline-green",class:"ms-0 me-0 px-2 mx-2",style:{height:"25px"},onClick:$e},{default:s(()=>[l(Ce,{icon:["fal",Z.value?"eye-slash":"eye"],size:"sm"},null,8,["icon"])]),_:1})]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024),l(S,null,{default:s(()=>[l(c,{lg:"8"},{default:s(()=>[i("section",wa,[Na,l(pa,{googleAddress:f.value,"onUpdate:googleAddress":r[19]||(r[19]=u=>f.value=u),isCountryEnabled:!1},null,8,["googleAddress"])])]),_:1})]),_:1})]),_:1},512),M.value?(g(),G("div",Ea,[i("span",Oa,[l(W,{disabled:!O(ee),variant:"danger",onClick:r[20]||(r[20]=y=>Te())},{default:s(()=>[R("Delete Contact")]),_:1},8,["disabled"])]),i("div",qa,[ka,i("span",Ba,[R(" Deleting this contact will remove them from all Contact Types. To remove this contact from a specific Contact Type, simply uncheck the appropriate checkbox "),l(xe,{class:"ms-auto text-primary",tag:"a",onClick:r[21]||(r[21]=y=>Be())},{default:s(()=>[R("above")]),_:1})])])])):q("",!0)]),_:1}),l(ta,{showDeleteModal:z.value,"onUpdate:showDeleteModal":r[22]||(r[22]=y=>z.value=y),onOK:r[23]||(r[23]=y=>Ge()),onCANCEL:r[24]||(r[24]=y=>z.value=!1)},{default:s(()=>[R(" Are you sure you want to delete this "),i("b",null,Q(o.value.firstName+" "+o.value.lastName),1),R(" from "+Q(O(Ne)?.fullName)+"? ",1),Ta,Ga,R(" Deleting this contact will remove them as a(n): "),za,i("b",null,[o.value.isPrimaryContact?(g(),G("span",$a,[R("Primary Contact"),xa])):q("",!0),o.value.isEmergencyContact?(g(),G("span",Xa,[R("Emergency Contact"),ja])):q("",!0),o.value.isDependent?(g(),G("span",Za,[R("Dependent"),Wa])):q("",!0),o.value.isBeneficiary?(g(),G("span",Ha,"Beneficiary")):q("",!0)])]),_:1},8,["showDeleteModal"])])}}});const Ia=Me(Ja,[["__scopeId","data-v-0f09f5d2"]]);export{Ia as default};
