import{d as Ne,l as $e,dd as Ae,a_ as Pe,c5 as Me,c4 as A,cb as Ve,cM as Ue,at as Ee,bb as Re,T as Le,s as re,bO as je,b as k,j as u,y as He,Q as Ke,aW as Qe,e as ze,aY as de,a1 as Be,r as b,o as h,c as y,a as t,g as o,w as r,I as m,u as d,D as S,F as P,z as K,a2 as Q,A as qe,bd as Ye,be as Ge,cN as z,ax as Je,ay as Xe,_ as Ze}from"./index.611fe570.js";import{F as ue}from"./FormField.7af7663e.js";import{F as f}from"./OnboardingQuickHireWOTC.fa51e4d8.js";import{u as ce}from"./onboardingStore.b8199798.js";import{D as ea}from"./darkThemeModal.c38e7d4c.js";import{u as fe}from"./onboardingQuickHireWOTCStore.797d733c.js";import{u as aa}from"./reportTemplateStore.f0128478.js";import{i as la}from"./fileUtils.932fb01d.js";const W=D=>(Je("data-v-69d3d8eb"),D=D(),Xe(),D),ta={class:"p-3 pb-0 d-flex justify-content-between algin-items-center w-100"},oa=W(()=>t("div",{class:"fw-bold title"},"WOTC",-1)),sa={class:"w-max px-4 mt-3"},ia=W(()=>t("div",{class:"text-justify"}," You need to fill out IRS Form 8850 together with ETA Form 9061 or ETA Form 9062 in order to complete employee\u2019s WOTC submission. Read instructions carefully before completing each form. ",-1)),na={class:"mt-3"},ra={for:"upload8850",class:"me-4"},da={class:"text-danger my-1"},ua={key:0},ca=["onClick"],fa=["onClick"],pa={class:"d-flex align-items-center"},ma=["disabled"],va={for:"upload9061",class:"me-4"},ha={class:"text-danger my-1"},ya={key:0},_a=["onClick"],Fa=["onClick"],ga={class:"d-flex align-items-center"},ba=["disabled"],Ca={for:"upload9062",class:"me-4"},wa={class:"text-danger my-1"},ka={key:0},Sa=["onClick"],Ta=["onClick"],xa=W(()=>t("hr",null,null,-1)),Oa=W(()=>t("div",{class:"text-justify"},[t("label",{class:"text-capitalize"},"Additional Information"),t("div",null,[t("label",{class:"mt-4 mb-2"},"Work Opportunity Tax Credit (WOTC) Program"),t("div",null,"The Work Opportunity Tax Credit is a federal tax credit available to employers who hire and retain qualified veterans and other individuals from target groups that historically have faced barriers in securing employment. The Work Opportunity Tax Credit is a voluntary program. As such, employers are not obligated to recruit WOTC-eligible applicants and job applicants don\u2019t have to complete the WOTC eligibility questionnaire. "),t("label",{class:"mt-4 mb-2"},"WOTC Certification and Screening Process"),t("div",null,[m(" Before employers can claim a Work Opportunity Tax Credit, they must first receive certification from a State Workforce Agency (SWA) that the new hire meets the qualifications of one of the target groups. This is done using IRS Form 8850, also known as the Pre-Screening Notice and Certification Request for the WOTC, to the applicable SWA, and one of two forms from the Department of Labor. "),t("ul",null,[t("li",null,"The first, ETA Form 9061, or the Individual Characteristics Form (ICF), provides specific information about how an applicant answered the WOTC questionnaire."),t("li",null,"The second, ETA Form 9062, is the Conditional Certification Form for applicants who have been pre-screened for WOTC by an SWA.")])])])],-1)),Ia={class:"d-flex py-3"},Wa=W(()=>t("div",null,[m(" Are you sure you want to leave this page? "),t("br"),m(" You have unsaved changes, your data will be lost. ")],-1)),Da=Ne({__name:"onboardingQuickHireWOTC",setup(D){$e.add(Ae,Pe,Me,A,Ve,Ue);const{getDocumentTemplate:pe}=aa(),me=Ee(),N=Re(),ve=Le(),{onboardingSideNavItem:he}=re(ce()),{getOnboardingSideNavItems:ye,markOnboardingSidenavItemAsDone:_e}=ce(),{setLoading:p}=je(),{getOnboardingQuickHireWOTC:Fe,updateOnboardingQuickHireWOTC:B}=fe(),{onboardingQuickHireWOTC:C}=re(fe()),ge=k(()=>ve?.activeUserClient?.clientGuid??"Shared"),q=u(!0),w=u(!1),Y=u(null),be=u(null),G=u(null),F=k(()=>Number(me.params.id)),Ce=ue.WOTCQuickHire,J=He(),M=u(null),X=u(null),Z=u(null),we=u(null),ee=u(null),ae=u(null),$=u(!1),le=u(""),te=u(!1),{notifySuccess:ke,notifyError:oe}=Ke(),n=u({fieldModels:[{formFieldId:Z,fieldKey:"isFormDone",fieldValue:!1},{formFieldId:M,fieldKey:"formFiles",fieldValue:""},{formFieldId:X,fieldKey:"note",fieldValue:""}],uploadFileStateForms:[],formId:ue.WOTCQuickHire,employeeId:F.value}),Se=()=>{$.value=!1,te.value=!0,J.push(le.value)},Te=()=>{$.value=!1};Qe((a,e,l)=>(te.value&&l(),w.value?(le.value=a.fullPath,l(!1),$.value=!0,!1):(l(),!0)));const V=async(a,e)=>{p(!0);try{await pe(a,e)}catch{oe(`${a} is missing`)}finally{p(!1)}},se=k(()=>n.value.uploadFileStateForms.filter(e=>e.payload.type===f.upload8850)),T=k(()=>n.value.uploadFileStateForms.filter(a=>a.payload.type===f.upload9061)),x=k(()=>n.value.uploadFileStateForms.filter(a=>a.payload.type===f.upload9062)),U=u([]),xe=a=>{const e=["pdf","jpeg","png","jpg"],l=a.split(".").pop().toLowerCase();return e.includes(l)},Oe=async(a,e,l)=>{await N.uploadDocument({path:a,file:e,fileName:l},!0)},Ie="File type is not supported. Please choose file with types of PDF, JPEG, PNG or JPG only",O=u({upload8850:"",upload9061:"",upload9062:""}),ie=k(()=>{const a=n.value.uploadFileStateForms.some(i=>i.payload.type===f.upload8850),e=n.value.uploadFileStateForms.some(i=>i.payload.type===f.upload9061),l=n.value.uploadFileStateForms.some(i=>i.payload.type===f.upload9062);return a&&e&&!l||a&&!e&&l}),E=async(a,e)=>{if(p(!0),q.value){const i=e.target.files;for(let c=0;c<i.length;c++){if(xe(i[c].name))if(la(i[c]))O.value[f[a]]="";else{p(!1);return}else{O.value[f[a]]=Ie,p(!1);return}const v=await Ye(Ge.QuickHireWotc,`${ge.value}`,F.value.toString()),_=De(i[c].name),g=new FileReader;g.onload=()=>{const H=g.result.toString(),s={formFieldId:M.value,fileName:_,filePath:v,fileObject:new File([i[c]],_),fileUrl:H,payload:{type:f[a]},description:`${f[a]}-${c+1}`};n.value.uploadFileStateForms.push(s)},g.readAsDataURL(i[c])}}q.value=!(ee.value?.files.length>0&&ae.value?.files.length>0),p(!1)},We=a=>{let e=0;const l=a.length;let i=0;if(l>0)for(;i<l;)e=(e<<5)-e+a.charCodeAt(i++)|0;return e},De=a=>{const e=new Date,l=a.split(".");return`${l[0]}${We(l[0]+e.getMilliseconds())}.${l[l.length-1]}`},R=a=>{a===f.upload9062&&T.value.length>0||a===f.upload9061&&x.value.length>0||document.getElementById(a).click()},L=a=>{p(!0);const e=a.fileName;n.value.uploadFileStateForms=n.value.uploadFileStateForms.filter(l=>l.fileName!==e),a.fileObject||U.value.push(`${a.filePath}/${e}`),p(!1)},ne=async a=>{p(!0),U.value.length>0&&await Promise.all(U.value.map(async e=>{await N.deleteFile(e)})),n.value.uploadFileStateForms.length>0?await Promise.all(n.value.uploadFileStateForms.map(async e=>{e.fileObject&&await Oe(e.filePath,e.fileObject,e.fileName)})).then(async()=>{const e=n.value.uploadFileStateForms.map(l=>{const{fileObject:i,fileUrl:c,...v}=l;return v});n.value.uploadFileStateForms=[...e],n.value.fieldModels.find(l=>l.fieldKey==="isFormDone").fieldValue=ie.value,await B(F.value,n.value).catch(()=>{oe("Information not saved")}),await _e(G.value.progressSidebarId,ie.value,F.value),ke("Information saved")}):(n.value.uploadFileStateForms=[],n.value.fieldModels.find(e=>e.fieldKey==="isFormDone").fieldValue=!1,B(F.value,n.value)),a&&J.push({name:"onboardingReviewInfo"}),p(!1)},j=async a=>{if(p(!0),!!a){if(a?.fileObject)a.fileUrl&&window.open("","_blank")?.document.write('<iframe src="'+a?.fileUrl+'" style="width: 100%; height: 100%"></iframe>');else{const e=`${a.filePath}/${a.fileName}`;let l="";const i=a.fileName.split(".");if(i.length>1?l=i[i.length-1].toLowerCase():l="",l==="pdf"){const c=window.open("","_blank"),v=await N.previewPDFFile(e);c?.document.write('<iframe src="'+v+'" style="width: 100%; height: 100%"></iframe>')}else if(["png","jpg","jpeg"].includes(l)){const c=await N.previewImageFile(e);window.open("","_blank")?.document.write('<iframe src="'+c+'" style="width: 100%; height: 100%"></iframe>')}}p(!1)}};return ze(async()=>{p(!0),await Promise.all([ye(F.value),Fe(F.value,Ce)]),G.value=he.value.find(a=>a.progressSidebarUrl.trim().toLocaleLowerCase()==="onboardingWOTC".trim().toLocaleLowerCase()),M.value=C.value.fieldModels.find(a=>a.fieldKey==="formFiles").formFieldId,Z.value=C.value.fieldModels.find(a=>a.fieldKey==="isFormDone").formFieldId,X.value=C.value.fieldModels.find(a=>a.fieldKey==="note").formFieldId,n.value.fieldModels.find(a=>a.fieldKey==="isFormDone").fieldValue=C.value.fieldModels.find(a=>a.fieldKey==="isFormDone").fieldValue,n.value.fieldModels.find(a=>a.fieldKey==="note").fieldValue=C.value.fieldModels.find(a=>a.fieldKey==="note").fieldValue,n.value.uploadFileStateForms=[...C.value.uploadFileStateForms],Y.value=de.exports.cloneDeep(n.value),p(!1)}),Be(()=>n.value,()=>{de.exports.isEqual(n.value,Y.value)?w.value=!1:w.value=!0},{deep:!0}),(a,e)=>{const l=b("font-awesome-icon"),i=b("fs-button"),c=b("d"),v=b("fs-link"),_=b("fs-col"),g=b("fs-row"),H=b("VeeForm");return h(),y(P,null,[t("div",ta,[oa,t("div",null,[o(i,{variant:"outline-primary",disabled:!w.value,onClick:e[0]||(e[0]=s=>ne(!1))},{default:r(()=>[o(l,{icon:["fal","floppy-disk"],class:"me-2",disabled:!w.value},null,8,["disabled"]),m("Save")]),_:1},8,["disabled"]),o(i,{variant:"primary",disabled:!w.value,onClick:e[1]||(e[1]=s=>ne(!0))},{default:r(()=>[m("Save & Next")]),_:1},8,["disabled"])])]),t("div",sa,[o(H,{ref_key:"formRef",ref:be},{default:r(()=>[ia,t("div",na,[o(g,{class:"border mb-3",style:{"border-radius":"8px"}},{default:r(()=>[o(_,{cols:"5",class:"px-4 py-3"},{default:r(()=>[o(c,{iv:"",class:"d-flex align-items-center"},{default:r(()=>[o(l,{icon:["fal","file-pdf"],class:"text-cyan me-2",size:"lg"}),m(" Form 8850.pdf ")]),_:1}),o(v,{onClick:e[2]||(e[2]=s=>V("WOTC_8850_Instructions",!1))},{default:r(()=>[m("Instruction")]),_:1})]),_:1}),o(_,{cols:"6",class:"border-left ps-4 py-3"},{default:r(()=>[t("input",{multiple:"",id:"upload8850",type:"file",onChange:e[3]||(e[3]=s=>E("upload8850",s)),hidden:"",ref_key:"upload8850",ref:we,accept:"pdf"},null,544),t("label",ra,[o(i,{variant:"outline-primary",onClick:e[4]||(e[4]=s=>R(d(f).upload8850))},{default:r(()=>[o(l,{icon:"fa-light fa-arrow-up-from-bracket",class:"me-2"}),m(" Upload ")]),_:1})]),t("div",da,S(O.value.upload8850),1),d(se)?(h(),y("div",ua,[(h(!0),y(P,null,K(d(se),s=>(h(),y("a",{key:s.fileName,class:"d-block my-2"},[o(l,{icon:["fal","paperclip"]}),t("span",{onClick:I=>j(s),class:"ms-2 text-success"},S(d(z)(s.fileName)),9,ca),t("div",{class:"d-inline ms-3 px-1",onClick:I=>L(s)},[o(l,{icon:d(A),class:"text-danger"},null,8,["icon"])],8,fa)]))),128))])):Q("",!0)]),_:1})]),_:1}),o(g,{class:"border mb-3",style:{"border-radius":"8px"}},{default:r(()=>[o(_,{cols:"5",class:"px-4 py-3"},{default:r(()=>[t("div",pa,[o(l,{icon:["fal","file-pdf"],class:"text-cyan me-2",size:"lg"}),m(" Form 9061 (if applicable) pdf ")]),o(v,{onClick:e[5]||(e[5]=s=>V("WOTC_9061_Instructions",!1))},{default:r(()=>[m("Instruction")]),_:1})]),_:1}),o(_,{cols:"7",class:"border-left ps-4 py-3"},{default:r(()=>[t("input",{multiple:"",disabled:d(x).length>0,id:"upload9061",type:"file",onChange:e[6]||(e[6]=s=>E("upload9061",s)),hidden:"",ref_key:"upload9061",ref:ee,accept:"pdf"},null,40,ma),t("label",va,[o(i,{disabled:d(x).length>0,variant:"outline-primary",onClick:e[7]||(e[7]=s=>R(d(f).upload9061))},{default:r(()=>[o(l,{icon:"fa-light fa-arrow-up-from-bracket",class:"me-2"}),m(" Upload ")]),_:1},8,["disabled"])]),t("div",ha,S(O.value.upload9061),1),d(T)?(h(),y("div",ya,[(h(!0),y(P,null,K(d(T),s=>(h(),y("a",{key:s.fileName,class:"d-block my-2"},[o(l,{icon:["fal","paperclip"]}),t("span",{onClick:I=>j(s),class:"ms-2 text-success"},S(d(z)(s.fileName)),9,_a),t("div",{class:"d-inline ms-3 px-1",onClick:I=>L(s)},[o(l,{icon:d(A),class:"text-danger"},null,8,["icon"])],8,Fa)]))),128))])):Q("",!0)]),_:1})]),_:1}),o(g,{class:"border mb-3",style:{"border-radius":"8px"}},{default:r(()=>[o(_,{cols:"5",class:"px-4 py-3"},{default:r(()=>[t("div",ga,[o(l,{icon:["fal","file-pdf"],class:"text-cyan me-2",size:"lg"}),m(" Form 9062 (if applicable) pdf ")]),o(v,{onClick:e[8]||(e[8]=s=>V("WOTC_9062_Instructions",!1))},{default:r(()=>[m("Instruction")]),_:1})]),_:1}),o(_,{cols:"7",class:"border-left ps-4 py-3"},{default:r(()=>[t("input",{multiple:"",disabled:d(T).length>0,id:"upload9062",type:"file",onChange:e[9]||(e[9]=s=>E("upload9062",s)),hidden:"",ref_key:"upload9062",ref:ae,accept:"pdf"},null,40,ba),t("label",Ca,[o(i,{disabled:d(T).length>0,variant:"outline-primary",onClick:e[10]||(e[10]=s=>R(d(f).upload9062))},{default:r(()=>[o(l,{icon:"fa-light fa-arrow-up-from-bracket",class:"me-2"}),m(" Upload ")]),_:1},8,["disabled"])]),t("div",wa,S(O.value.upload9062),1),d(x)?(h(),y("div",ka,[(h(!0),y(P,null,K(d(x),s=>(h(),y("a",{key:s.fileName,class:"d-block my-2"},[o(l,{icon:["fal","paperclip"]}),t("span",{onClick:I=>j(s),class:"ms-2 text-success"},S(d(z)(s.fileName)),9,Sa),t("div",{class:"d-inline ms-3 px-1",onClick:I=>L(s)},[o(l,{icon:d(A),class:"text-danger"},null,8,["icon"])],8,Ta)]))),128))])):Q("",!0)]),_:1})]),_:1})])]),_:1},512),xa,Oa]),o(ea,{ref:"leaveDialog",showModal:$.value,title:"Unsaved changes",okText:"YES, LEAVE",okTextVariant:"danger",cancelText:"STAY",cancelBtnVariant:"light",onClose:Te,onOk:Se},{content:r(()=>[t("span",Ia,[o(l,{class:qe(["me-2","text-danger"]),icon:["fa-solid","fa-circle-exclamation"],size:"lg"}),Wa])]),_:1},8,["showModal"])],64)}}});const Ra=Ze(Da,[["__scopeId","data-v-69d3d8eb"]]);export{Ra as default};
