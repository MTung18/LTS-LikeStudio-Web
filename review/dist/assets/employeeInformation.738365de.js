import{e as De}from"./employeeHeader.c061ea79.js";import{S as de}from"./grid.module.3b00878a.js";import{B as ue}from"./BryntumGrid.2c4be387.js";import{f as ae}from"./gridConfigDefaults.8c72c19b.js";import{d as J,l as ee,ag as Ie,aq as $e,ar as Ne,as as pe,Q as he,j as w,at as ce,i as z,e as fe,r as m,o as d,f as c,w as e,g as t,a as s,u as r,C as Z,I as n,c as B,a3 as ie,s as le,au as Ve,b as R,E as W,av as ve,a1 as be,aw as _e,ax as ge,ay as Ce,_ as Se,az as Ee,h as Pe,am as Le,D as f,a2 as H,F as re,z as Xe,aA as ke,aB as me,aC as Ae,aD as Re,aE as Te,aF as He,af as Be,aG as ye,aH as Ue,aI as We,aJ as Oe,y as Me,W as Qe,aK as qe,aL as Fe,aM as Ge,ai as Ye}from"./index.611fe570.js";import{c as ze}from"./index.0faf2598.js";import{E as je}from"./Employment.51b4e29b.js";import{u as Je}from"./foundationCompanyCasConnectionStore.b3301598.js";const Ke={class:"hq-pg__title"},Ze={key:0,class:"action-grid list__table list__table--onpage list__b-grid--hover"},et={key:1},tt={class:"hq-pg__title"},at={key:0,class:"action-grid list__table list__table--onpage list__b-grid--hover"},lt={key:1},st={class:"hq-pg__title"},ot={key:0,class:"action-grid list__table list__table--onpage list__b-grid--hover"},nt={key:1},dt=J({__name:"contactList",setup(l,{emit:I}){ee.add(Ie,$e,Ne,pe);var g=!0,N=!0,O=!0;const M={field:"name",ascending:!0},{notifyError:C,notifySuccess:$}=he(),u=`<svg class="svg-inline--fa fa-star text-magenta mx-1" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
    <path class="" fill="currentColor" d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"></path>
    </svg>`,S=w(null),F=v=>({...ae.gridConfig,minHeight:"100%",emptyText:"",columns:[{flex:1,text:"Name",id:"lastName",field:"name",htmlEncode:!1,sortable(L,T){return L.lastName===T.firstName?L.firstName>T.firstName?1:-1:L.lastName>T.lastName?1:-1},renderer:({record:L})=>`${L.data.isPrimaryContact&&v?u:""}<span">${L.data.firstName} ${L.data.lastName}</span>`},{flex:1,text:"Relationship",id:"relation",field:"relation"}]}),U=v=>{const L={flex:1,type:"action",id:"action",columnDragToolbar:!1,enableHeaderContextMenu:!1,enableCellContextMenu:!1,cellCls:"b-action-cell--hover",actions:[{visible:!0,renderer:()=>'<i class="b-action-item b-fa b-fa-external-link btn btn-link text-success no-underline"><span>View</span></i>',onClick:y},{visible:!0,renderer:()=>'<i class="b-action-item b-fa b-fa-edit btn btn-link text-success no-underline"><span>Edit</span></i>',onClick:x}]};let T;v?T=[{flex:1,text:"Phone Number",id:"phoneNumber",field:"phoneNumber"},{flex:1,text:"Email",id:"email",field:"email"},{...L,actions:[{visible:({record:b})=>!b.data.isPrimaryContact,renderer:()=>'<i class="b-action-item b-fa b-fa-star btn btn-link text-success no-underline"><span>Primary</span></i>',onClick:E},...L.actions]}]:T=[{flex:1,text:"Gender",id:"gender",field:"gender"},{flex:1,text:"Date of Birth",id:"birthDate",field:"birthDate",groupable:!1,htmlEncode:!1,vue:!0,renderer:({row:b})=>({is:"sensitive-text",text:b.cellContext._record.data.birthDate.toLocaleDateString({},{month:"long",day:"numeric",year:"numeric"}),mask:"XX-XX-XXXX",modelValue:!1})},L];const G=F(v);return{...G,columns:[...G.columns,...T]}},V=w(new Array),_=w(new de({...ae.gridStoreConfig,sorters:[M]})),h=w(new de({...ae.gridStoreConfig,sorters:[M]})),A=w(new de({...ae.gridStoreConfig,sorters:[M]}));async function a(){_.value.data=V.value.filter(v=>v.isEmergencyContact),g=_.value.data.length>0}async function o(){h.value.data=V.value.filter(v=>v.isDependent),N=h.value.data.length>0}async function i(){A.value.data=V.value.filter(v=>v.isBeneficiary),O=A.value.data.length>0}function x(v){I("editContact",v.record.data)}function y(v){I("viewContact",v.record.data)}async function E(v){if(await P.updatePrimaryContactAsync(v.record.data.id),P.primaryContactedUpdated){$("Primary contact updated.");const L=D.params.id.toString();await q(parseInt(L))}else C("Primary contact failed to update")}const D=ce(),P=z();async function q(v){await P.fetchEmployeeContactList(v),V.value=P.contactList,a(),o(),i()}return fe(async()=>{const v=D.params.id;typeof v=="string"&&!Number.isNaN(Number(v))&&await q(parseInt(v))}),(v,L)=>{const T=m("fs-card-header"),G=m("fs-card-body"),b=m("fs-card"),Y=m("fs-col"),K=m("fs-row"),se=m("fs-container");return d(),c(se,{fluid:"",class:"py-4 contain"},{default:e(()=>[t(K,{class:"dashboard__row mt-4"},{default:e(()=>[t(Y,null,{default:e(()=>[t(b,{class:"dashboard-card","no-body":""},{default:e(()=>[t(T,{class:"dashboard-card__header"},{default:e(()=>[s("h2",Ke,[t(r(Z),{icon:["fal","phone"],class:"text-magenta"}),n("\xA0Emergency Contacts ")])]),_:1}),t(G,{class:"dashboard-card__content"},{default:e(()=>[r(g)?(d(),B("div",Ze,[t(r(ue),ie(U(!0),{store:_.value,ref_key:"grid",ref:S}),null,16,["store"])])):(d(),B("p",et,"No emergency contacts"))]),_:1})]),_:1})]),_:1})]),_:1}),t(K,{class:"dashboard__row mt-4"},{default:e(()=>[t(Y,null,{default:e(()=>[t(b,{class:"dashboard-card","no-body":""},{default:e(()=>[t(T,{class:"dashboard-card__header"},{default:e(()=>[s("h2",tt,[t(r(Z),{icon:["fal","family"],class:"text-cyan"}),n("\xA0Dependents ")])]),_:1}),t(G,{class:"dashboard-card__content"},{default:e(()=>[r(N)?(d(),B("div",at,[t(r(ue),ie(U(!1),{store:h.value,ref_key:"grid",ref:S}),null,16,["store"])])):(d(),B("p",lt,"No dependents"))]),_:1})]),_:1})]),_:1})]),_:1}),t(K,{class:"dashboard__row mt-4"},{default:e(()=>[t(Y,null,{default:e(()=>[t(b,{class:"dashboard-card","no-body":""},{default:e(()=>[t(T,{class:"dashboard-card__header"},{default:e(()=>[s("h2",st,[t(r(Z),{icon:["fal","badge-dollar"],class:"text-green"}),n("\xA0Beneficiaries ")])]),_:1}),t(G,{class:"dashboard-card__content"},{default:e(()=>[r(O)?(d(),B("div",ot,[t(r(ue),ie(U(!1),{store:A.value,ref_key:"grid",ref:S}),null,16,["store"])])):(d(),B("p",nt,"No beneficiaries"))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),ut=l=>(ge("data-v-8b8e4c6d"),l=l(),Ce(),l),it={class:"mr-3 d-flex align-items-center"},rt=ut(()=>s("div",{class:"h5 pl-2 my-auto fw-bold"},"Update Employee Status",-1)),ct={class:"ms-auto"},ft=J({__name:"updateEmployeeStatusModal",props:{visible:{type:Boolean,default:!1},employeeStatus:{default:null}},emits:["cancel","update"],setup(l,{emit:I}){const g=l,N=50,O=z(),{fetchEmployeeStatusReasons:M}=O,{employeeStatusReasons:C}=le(O),$=w(null),u=w(new Ve),S=ze(async()=>(await $.value.validate()).valid,!1),F=R(()=>u.value.employeeStatusId==W.Onboard||u.value.employeeStatusId==W.QuickHire||u.value.employeeStatusId==W.PendingOnboard||u.value.employeeStatusId==W.PendingQuickhire),U=R(()=>u.value.statusDropdown.id==W.PendingOnboard||u.value.statusDropdown.id==W.PendingQuickhire),V=[];for(const o in W)Number.isInteger(parseInt(o))&&parseInt(o)!=W.PendingOnboard&&parseInt(o)!=W.PendingQuickhire&&V.push({id:+o,name:ve(W[o])});const _=w([]);async function h(o){if(o.length>N)return;const i={employeeStatusReasonId:new Date().getTime(),employeeStatusReasonName:o,isNewReason:!0};u.value.employeeStatusReason=i,_.value.push(i),_.value.sort((x,y)=>x.employeeStatusReasonName.localeCompare(y.employeeStatusReasonName))}function A(){I("cancel"),u.value={...g.employeeStatus},u.value.statusDropdown={id:u.value.employeeStatusId,name:W[u.value.employeeStatusId]}}async function a(){const o={...u.value};o.employeeStatusId=+o.statusDropdown.id,o.terminationDate=_e(o.terminationDate),o.dateRehired=_e(o.dateRehired),delete o.dateHired,delete o.startDate,delete o.dateLastWorked,o.employeeStatusReason?.isNewReason&&(o.employeeStatusReason.employeeStatusReasonId=0),I("update",o)}return be(()=>g.employeeStatus,o=>{u.value={...o},u.value.statusDropdown={id:u.value.employeeStatusId,name:W[u.value.employeeStatusId]}}),fe(async()=>{await M(),_.value=C.value,u.value={...g.employeeStatus},u.value.statusDropdown={id:u.value.employeeStatusId,name:W[u.value.employeeStatusId]}}),(o,i)=>{const x=m("font-awesome-icon"),y=m("fs-link"),E=m("fs-input"),D=m("fs-col"),P=m("fs-row"),q=m("fs-form-checkbox"),v=m("fs-container"),L=m("VeeForm"),T=m("fs-button"),G=m("fs-sidebar");return d(),c(G,{visible:g.visible,"sidebar-class":"fsi-sidebar","no-header-close":"",right:"","no-close-on-esc":"","no-close-on-backdrop":"","bg-variant":"white",width:"425px",shadow:"sm","header-class":"border-bottom bg-grey--000 details_panel_header","footer-class":"border-top"},{title:e(()=>[s("div",it,[rt,s("div",ct,[t(y,{class:"text-secondary",tag:"a",onClick:i[0]||(i[0]=b=>A())},{default:e(()=>[t(x,{icon:["fal","times"],size:"lg"})]),_:1})])])]),footer:e(()=>[t(v,{contain:"",class:"d-flex justify-content-between p-3 sidebar-footer"},{default:e(()=>[t(T,{variant:"outline-secondary",onClick:i[10]||(i[10]=b=>A())},{default:e(()=>[n("CANCEL")]),_:1}),t(T,{variant:"primary",onClick:i[11]||(i[11]=b=>a()),disabled:!r(S)||r(U)},{default:e(()=>[n("UPDATE STATUS")]),_:1},8,["disabled"])]),_:1})]),default:e(()=>[t(L,{ref_key:"form",ref:$},{default:e(()=>[t(v,{fluid:"",class:"contain mt-4"},{default:e(()=>[t(P,null,{default:e(()=>[t(D,null,{default:e(()=>[t(E,{type:"fsMultiselectList",name:"status",label:"Status",modelValue:u.value.statusDropdown,"onUpdate:modelValue":i[1]||(i[1]=b=>u.value.statusDropdown=b),typeaheaddata:V,typeaheadvalueattribute:"id",disabled:r(F),typeaheadkey:"name",rules:{required:!0},required:""},null,8,["modelValue","disabled"])]),_:1})]),_:1}),t(P,null,{default:e(()=>[t(D,null,{default:e(()=>[t(E,{type:"fsMultiselectList",taggable:"",name:"employeeStatusReason",label:"Status Reason",modelValue:u.value.employeeStatusReason,"onUpdate:modelValue":i[2]||(i[2]=b=>u.value.employeeStatusReason=b),typeaheaddata:_.value,typeaheadvalueattribute:"employeeStatusReasonId",typeaheadkey:"employeeStatusReasonName",showClear:"",rules:{max:N},onCreateNew:h},null,8,["modelValue","typeaheaddata","rules"])]),_:1})]),_:1}),t(P,null,{default:e(()=>[t(D,null,{default:e(()=>[t(E,{type:"fsDateInput",name:"terminationDate",label:"Termination Date",modelValue:u.value.terminationDate,"onUpdate:modelValue":i[3]||(i[3]=b=>u.value.terminationDate=b)},null,8,["modelValue"])]),_:1}),t(D,null,{default:e(()=>[t(E,{type:"fsDateInput",name:"dateRehired",label:"Date Rehired",modelValue:u.value.dateRehired,"onUpdate:modelValue":i[4]||(i[4]=b=>u.value.dateRehired=b)},null,8,["modelValue"])]),_:1})]),_:1}),t(P,null,{default:e(()=>[t(D,null,{default:e(()=>[t(E,{type:"fsTextInput",name:"dateHired",label:"Date Hired",modelValue:u.value.dateHired,"onUpdate:modelValue":i[5]||(i[5]=b=>u.value.dateHired=b),disabled:""},null,8,["modelValue"])]),_:1}),t(D,null,{default:e(()=>[t(E,{type:"fsTextInput",name:"startDate",label:"Start Date",modelValue:u.value.startDate,"onUpdate:modelValue":i[6]||(i[6]=b=>u.value.startDate=b),disabled:""},null,8,["modelValue"])]),_:1})]),_:1}),t(P,null,{default:e(()=>[t(D,{md:"6"},{default:e(()=>[t(E,{type:"fsTextInput",name:"dateLastWorked",label:"Date Last Worked",modelValue:u.value.dateLastWorked,"onUpdate:modelValue":i[7]||(i[7]=b=>u.value.dateLastWorked=b),disabled:""},null,8,["modelValue"])]),_:1})]),_:1}),t(P,null,{default:e(()=>[t(D,null,{default:e(()=>[t(q,{modelValue:u.value.securedAccess,"onUpdate:modelValue":i[8]||(i[8]=b=>u.value.securedAccess=b)},{default:e(()=>[n("Secured Access")]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(P,null,{default:e(()=>[t(D,null,{default:e(()=>[t(q,{modelValue:u.value.deceased,"onUpdate:modelValue":i[9]||(i[9]=b=>u.value.deceased=b)},{default:e(()=>[n("Deceased")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1},8,["visible"])}}});const _t=Se(ft,[["__scopeId","data-v-8b8e4c6d"]]),p=l=>(ge("data-v-7f4f0a1d"),l=l(),Ce(),l),mt={class:"text-center"},yt=["src"],pt={class:"d-flex flex-column h-100"},ht=p(()=>s("p",{style:{margin:"0"}},"Section 1",-1)),vt=p(()=>s("strong",null,"Employee Number",-1)),bt=p(()=>s("strong",null,"Employment Status",-1)),gt=p(()=>s("strong",null,"Job Title",-1)),Ct=p(()=>s("strong",null,"Department",-1)),St=p(()=>s("strong",null,"I-9 Verified",-1)),kt=p(()=>s("p",{style:{margin:"15px 0 0 0"}},"Section 2",-1)),wt=p(()=>s("strong",null,"State of Hire",-1)),xt=p(()=>s("strong",null,"Work Location",-1)),Dt=p(()=>s("strong",null,"Union",-1)),It=p(()=>s("strong",null,"Trade",-1)),$t=p(()=>s("strong",null,"ACA Exempt",-1)),Nt=p(()=>s("strong",null,"Worker's Comp State",-1)),Vt=p(()=>s("strong",null,"Worker's Comp Class Number",-1)),Et=p(()=>s("strong",null,"Cost Code Number",-1)),Pt=p(()=>s("strong",null,"General Liability State",-1)),Lt=p(()=>s("strong",null,"General Liability Class Number",-1)),Xt=p(()=>s("strong",null,"Corporate Officer",-1)),At=p(()=>s("strong",null,"Owner Operator",-1)),Rt={class:"d-flex flex-column h-100"},Tt=p(()=>s("strong",null,"Status",-1)),Ht=p(()=>s("strong",null,"Employee Status",-1)),Bt=p(()=>s("strong",null,"Status Reason",-1)),Ut=p(()=>s("strong",null,"Date Hired",-1)),Wt=p(()=>s("strong",null,"Start Date",-1)),Ot=p(()=>s("strong",null,"Date Last Worked",-1)),Mt=p(()=>s("strong",null,"Date Terminated",-1)),Qt=p(()=>s("strong",null,"Date Rehired",-1)),qt=p(()=>s("strong",null,"Secured Access",-1)),Ft=p(()=>s("strong",null,"Deceased",-1)),Gt=p(()=>s("strong",null,"Reporting Supervisor",-1)),Yt=p(()=>s("strong",null,"Additional Supervisor",-1)),zt=p(()=>s("strong",null,"Additional Supervisor",-1)),jt=p(()=>s("strong",null,"OSHA Level",-1)),Jt=p(()=>s("strong",null,"OSHA Certification Number",-1)),Kt=p(()=>s("strong",null,"OSHA Trade License",-1)),Zt=J({__name:"employmentTab",props:{employmentInfor:null},setup(l){ee.add(Ee);const I=ce(),g=R(()=>+I.params?.id),N=z(),{fetchEmployeeStatus:O,updateEmployeeStatus:M}=N,{employeeStatus:C}=le(N),$=R(()=>ve(W[C.value?.employeeStatusId])),u=w(!1),S=w(!1);function F(){u.value=!0}function U(){u.value=!1}async function V(_){S.value=!0,u.value=!1,await M(_),S.value=!1}return Pe(async()=>{S.value=!0,await O(g.value),S.value=!1}),(_,h)=>{const A=m("fs-overlay"),a=m("fs-col"),o=m("fs-row"),i=m("fs-container"),x=m("fs-card"),y=m("granular-security"),E=m("fs-link"),D=m("fs-card-header"),P=m("fs-card-body"),q=m("font-awesome-icon");return d(),B(re,null,[t(i,{fluid:"",class:"contain"},{default:e(()=>[t(A,{show:S.value,class:"fsi-pg__overlay","no-wrap":""},{overlay:e(()=>[s("div",mt,[s("img",{src:r(Le)},null,8,yt)])]),_:1},8,["show"]),t(o,{class:"mt-4"},{default:e(()=>[t(a,{lg:"6"},{default:e(()=>[s("div",pt,[t(y,{hasPermission:"WHQ_251_3142"},{default:e(()=>[t(x,{class:"dashboard-card mb-4 mb-lg-0",header:"General","header-class":"dashboard-card__header","body-class":"dashboard-card__body"},{default:e(()=>[t(i,{fluid:""},{default:e(()=>[t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[ht]),_:1})]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[vt]),_:1}),l.employmentInfor.employeeNumber?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.employeeNumber),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[bt]),_:1}),l.employmentInfor.employmentStatus?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.employmentStatus),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[gt]),_:1}),l.employmentInfor.jobTitle?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.jobTitle),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Ct]),_:1}),l.employmentInfor.department?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.department),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[St]),_:1}),t(a,null,{default:e(()=>[n(f(l.employmentInfor.i9Verified?"Y":"N"),1)]),_:1})]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[kt]),_:1})]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[wt]),_:1}),l.employmentInfor.stateOfHire?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.stateOfHire),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[xt]),_:1}),l.employmentInfor.workLocations?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.workLocations.join(", ")),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Dt]),_:1}),l.employmentInfor.union?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.union),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[It]),_:1}),t(a,null,{default:e(()=>[n(f(l.employmentInfor.trade),1)]),_:1})]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[$t]),_:1}),t(a,null,{default:e(()=>[n(f(l.employmentInfor.acaExempt?"Y":"N"),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(y,{style:{"padding-top":"15px"},hasPermission:"WHQ_251_3145"},{default:e(()=>[t(x,{class:"dashboard-card mb-4 mb-lg-0",header:"Other","header-class":"dashboard-card__header","body-class":"dashboard-card__body"},{default:e(()=>[t(i,{fluid:""},{default:e(()=>[t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Nt]),_:1}),l.employmentInfor.workerCompState?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.workerCompState),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Vt]),_:1}),l.employmentInfor.workerCompClassNumber?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.workerCompClassNumber),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Et]),_:1}),l.employmentInfor.costCodeNumber?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.costCodeNumber),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Pt]),_:1}),l.employmentInfor.generalLiabilityState?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.generalLiabilityState),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Lt]),_:1}),l.employmentInfor.generalLiabilityClassNumber?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.generalLiabilityClassNumber),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Xt]),_:1}),t(a,null,{default:e(()=>[n(f(l.employmentInfor.corporateOfficer?"Y":"N"),1)]),_:1})]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[At]),_:1}),t(a,null,{default:e(()=>[n(f(l.employmentInfor.ownerOperator?"Y":"N"),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),t(a,{lg:"6"},{default:e(()=>[s("div",Rt,[t(y,{hasPermission:"WHQ_251_3144"},{default:e(()=>[t(x,{class:"dashboard-card","no-body":""},{default:e(()=>[t(D,{class:"dashboard-card__header d-flex justify-content-between"},{default:e(()=>[Tt,t(E,{tag:"a",class:"update-employee-status-link fs-6",onClick:F},{default:e(()=>[n(" Update Employee Status ")]),_:1})]),_:1}),t(P,{class:"dashboard-card__body",style:{"margin-left":"10px"}},{default:e(()=>[t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Ht]),_:1}),t(a,null,{default:e(()=>[n(f(r($)||"-"),1)]),_:1})]),_:1}),r(C)?.employeeStatusReason?.employeeStatusReasonName?(d(),c(o,{key:0,class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Bt]),_:1}),t(a,null,{default:e(()=>[n(f(r(C)?.employeeStatusReason?.employeeStatusReasonName),1)]),_:1})]),_:1})):H("",!0),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Ut]),_:1}),t(a,null,{default:e(()=>[n(f(r(C).dateHired||"-"),1)]),_:1})]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Wt]),_:1}),t(a,null,{default:e(()=>[n(f(r(C).startDate||"-"),1)]),_:1})]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Ot]),_:1}),t(a,null,{default:e(()=>[n(f(r(C).dateLastWorked||"-"),1)]),_:1})]),_:1}),r(C).terminationDate?(d(),c(o,{key:1,class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Mt]),_:1}),t(a,null,{default:e(()=>[n(f(r(C).terminationDate),1)]),_:1})]),_:1})):H("",!0),r(C).dateRehired?(d(),c(o,{key:2,class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Qt]),_:1}),t(a,null,{default:e(()=>[n(f(r(C).dateRehired),1)]),_:1})]),_:1})):H("",!0),r(C).securedAccess!==null?(d(),c(o,{key:3,class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[qt]),_:1}),t(a,null,{default:e(()=>[n(f(r(C).securedAccess?"Y":"N"),1)]),_:1})]),_:1})):H("",!0),r(C).deceased!==null&&r(C).deceased?(d(),c(o,{key:4,class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Ft]),_:1}),t(a,null,{default:e(()=>[n(f(r(C).deceased?"Y":"N"),1)]),_:1})]),_:1})):H("",!0)]),_:1})]),_:1})]),_:1}),t(y,{style:{"padding-top":"15px"},hasPermission:"WHQ_251_3145"},{default:e(()=>[t(x,{class:"dashboard-card mb-4 mb-lg-0",header:"Supervisors","header-class":"dashboard-card__header","body-class":"dashboard-card__body"},{default:e(()=>[t(i,{fluid:""},{default:e(()=>[t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Gt]),_:1}),l.employmentInfor.reportingSupervisor?(d(),c(a,{key:0},{default:e(()=>[t(q,{icon:["fal","fa-user-tie"],class:"icon-supervisor"}),n(" "+f(l.employmentInfor.reportingSupervisor),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),l.employmentInfor.additionalSupervisors?.length>0?(d(!0),B(re,{key:0},Xe(l.employmentInfor.additionalSupervisors,v=>(d(),c(o,{class:"py-1",key:v},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Yt]),_:1}),t(a,null,{default:e(()=>[t(q,{icon:["fal","fa-user-tie"],class:"icon-supervisor"}),n(" "+f(v),1)]),_:2},1024)]),_:2},1024))),128)):(d(),c(o,{key:1,class:"py-1"},{default:e(()=>[t(a,{cols:"4"},{default:e(()=>[zt]),_:1}),t(a,null,{default:e(()=>[n(" - ")]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1}),t(y,{hasPermission:"WHQ_251_3143",style:{"padding-top":"15px"}},{default:e(()=>[t(x,{class:"dashboard-card mb-4 mb-lg-0",header:"OSHA","header-class":"dashboard-card__header","body-class":"dashboard-card__body"},{default:e(()=>[t(i,{fluid:""},{default:e(()=>[t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[jt]),_:1}),l.employmentInfor.oshaLevel?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.oshaLevel),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Jt]),_:1}),l.employmentInfor.oshaCertificateNumber?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.oshaCertificateNumber),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1}),t(o,{class:"py-1"},{default:e(()=>[t(a,{cols:"6"},{default:e(()=>[Kt]),_:1}),l.employmentInfor.oshaTradeLicense?(d(),c(a,{key:0},{default:e(()=>[n(f(l.employmentInfor.oshaTradeLicense),1)]),_:1})):(d(),c(a,{key:1},{default:e(()=>[n(" - ")]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),t(_t,{visible:u.value,"employee-status":r(C),onCancel:U,onUpdate:V},null,8,["visible","employee-status"])],64)}}});const ea=Se(Zt,[["__scopeId","data-v-7f4f0a1d"]]),ta={class:"d-flex flex-column h-100"},aa=s("h2",{class:"hq-pg__title text-cyan"}," General ",-1),la=s("strong",null,"Full Name",-1),sa=s("strong",null,"Gender",-1),oa=s("strong",null,"Social Security Number",-1),na=s("strong",null,"Birthdate",-1),da=s("strong",null,"Marital Status",-1),ua=s("strong",null,"Main Phone",-1),ia=s("strong",null,"Email Address",-1),ra=s("strong",null,"Home Address",-1),ca={class:"d-flex flex-column"},fa=s("h2",{class:"hq-pg__title text-cyan"}," EEO ",-1),_a=s("strong",null,"Veteran",-1),ma=s("strong",null,"Nonresident Alien",-1),ya=s("strong",null,"Multiracial",-1),pa=s("strong",null,"Minority Code",-1),ha=s("strong",null,"Non-Binary/Transgender",-1),va=s("h2",{class:"hq-pg__title text-cyan"}," Sensitive ",-1),ba=s("strong",null,"Driver's License State",-1),ga=s("strong",null,"Driver's License Number",-1),Ca=s("strong",null,"Driver's License Expiration",-1),Sa={class:"d-flex flex-column h-100"},ka=J({__name:"personalTab",props:{personalData:{default:null}},setup(l){const I=l;ee.add(ke);const{fetchEmployeeSsn:g}=z(),{employeeSsn:N}=le(z());async function O(){C.value||await g(I.personalData.id.toString()),$.value=!$.value}async function M(){u.value=!u.value}const C=R(()=>N.value!==null),$=w(!1),u=w(!1),S=w(!1);return(F,U)=>{const V=m("fs-card-header"),_=m("fs-col"),h=m("fs-row"),A=m("font-awesome-icon"),a=m("fs-button"),o=m("fs-container"),i=m("fs-card-body"),x=m("fs-card"),y=m("granular-security");return d(),c(o,{fluid:"",class:"contain"},{default:e(()=>[t(h,{class:"mt-4"},{default:e(()=>[t(_,{lg:"6"},{default:e(()=>[s("div",ta,[t(y,{hasPermission:"WHQ_251_3138"},{default:e(()=>[t(x,{class:"dashboard-card","no-body":""},{default:e(()=>[t(V,{class:"dashboard-card__header"},{default:e(()=>[aa]),_:1}),t(i,{class:"my-2"},{default:e(()=>[t(o,{fluid:""},{default:e(()=>[t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[la]),_:1}),t(_,null,{default:e(()=>[n(f(l.personalData.fullName),1)]),_:1})]),_:1}),t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[sa]),_:1}),t(_,null,{default:e(()=>[n(f(l.personalData.gender?.name),1)]),_:1})]),_:1}),t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[oa]),_:1}),t(_,null,{default:e(()=>[n(f($.value?r(N):"XXX-XX-XXXX")+" ",1),t(a,{pill:"",variant:"outline-green",class:"px-2",style:{height:"19px",width:"30px"},onClick:O},{default:e(()=>[t(A,{icon:["fal","eye"],size:"sm"})]),_:1})]),_:1})]),_:1}),t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[na]),_:1}),t(_,null,{default:e(()=>[n(f(u.value?r(me)(l.personalData.dateOfBirth):r(Ae)(l.personalData.dateOfBirth))+" ",1),t(a,{pill:"",variant:"outline-green",class:"px-2",style:{height:"19px",width:"30px"},onClick:M},{default:e(()=>[t(A,{icon:["fal","eye"],size:"sm"})]),_:1})]),_:1})]),_:1}),t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[da]),_:1}),t(_,null,{default:e(()=>[n(f(l.personalData.maritalStatus?.maritalStatusName),1)]),_:1})]),_:1}),t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[ua]),_:1}),t(_,null,{default:e(()=>[n(f(l.personalData.mainPhone?.phoneNumber?r(Re)(l.personalData.mainPhone?.phoneNumber):""),1)]),_:1})]),_:1}),t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[ia]),_:1}),t(_,null,{default:e(()=>[n(f(l.personalData.email),1)]),_:1})]),_:1}),t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[ra]),_:1}),t(_,null,{default:e(()=>[n(f(l.personalData.address?.address1),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),t(_,{lg:"6"},{default:e(()=>[s("div",ca,[t(y,{hasPermission:"WHQ_251_3139"},{default:e(()=>[t(x,{class:"dashboard-card mb-4","no-body":""},{default:e(()=>[t(V,{class:"dashboard-card__header"},{default:e(()=>[fa]),_:1}),t(i,{class:"my-2"},{default:e(()=>[t(o,{fluid:""},{default:e(()=>[t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[_a]),_:1}),t(_,null,{default:e(()=>[n(f(l.personalData.isVeteran?"Yes":"No"),1)]),_:1})]),_:1}),t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[ma]),_:1}),t(_,null,{default:e(()=>[n(f(l.personalData.isNonResidentAlien?"Yes":"No"),1)]),_:1})]),_:1}),t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[ya]),_:1}),t(_,null,{default:e(()=>[n(f(l.personalData.isMultiracial?"Yes":"No"),1)]),_:1})]),_:1}),t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[pa]),_:1}),t(_,null,{default:e(()=>[n(f(l.personalData.minorityCode?.minorityCodeName),1)]),_:1})]),_:1}),t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[ha]),_:1}),t(_,null,{default:e(()=>[n(f(l.personalData.isNonBinaryTransgender?"Yes":"No"),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(y,{hasPermission:"WHQ_251_3140"},{default:e(()=>[t(x,{class:"dashboard-card","no-body":""},{default:e(()=>[t(V,{class:"dashboard-card__header"},{default:e(()=>[va]),_:1}),t(i,{class:"my-2"},{default:e(()=>[t(o,{fluid:""},{default:e(()=>[t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[ba]),_:1}),t(_,null,{default:e(()=>[n(f(l.personalData.driversLicenseState),1)]),_:1})]),_:1}),t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[ga]),_:1}),t(_,null,{default:e(()=>[n(f(S.value?l.personalData.driversLicenseNumber:"XXXXXXX")+" ",1),t(a,{pill:"",variant:"outline-green",class:"px-2",style:{height:"19px",width:"30px"},onClick:U[0]||(U[0]=E=>S.value=!S.value)},{default:e(()=>[t(A,{icon:["fal","eye"],size:"sm"})]),_:1})]),_:1})]),_:1}),t(h,{class:"py-1"},{default:e(()=>[t(_,{cols:"6"},{default:e(()=>[Ca]),_:1}),t(_,null,{default:e(()=>[n(f(l.personalData.driversLicenseExpirationDate?r(me)(l.personalData.driversLicenseExpirationDate):""),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),t(_,{lg:"6"},{default:e(()=>[s("div",Sa,[t(y,{hasPermission:"WHQ_251_3139"})])]),_:1})]),_:1})]),_:1})}}}),wa={class:"d-flex flex-column w-100 postion-relative border-bottom"},xa={class:"h5 bold"},Da=s("span",{class:"d-none d-lg-inline"},"EDIT",-1),Ia={class:"my-3"},$a=s("h6",{class:"border-bottom",style:{"font-weight":"bold"}},"General",-1),Na=s("div",{class:"text-secondary"},[s("small",null,"Phone Number")],-1),Va={class:"mb-2"},Ea=s("div",{class:"text-secondary"},"Email Address",-1),Pa={class:"mb-2"},La={class:"my-3"},Xa=s("h6",{class:"border-bottom",style:{"font-weight":"bold"}},"Personal",-1),Aa=s("div",{class:"text-secondary"},"Relationship",-1),Ra={class:"mb-2"},Ta=s("div",{class:"text-secondary"},"Gender",-1),Ha={class:"mb-2"},Ba=s("div",{class:"text-secondary"},"Date of Birth",-1),Ua={key:1,class:"mb-2"},Wa=s("div",{class:"text-secondary"},"SSN",-1),Oa={key:1,class:"mb-2"},Ma={class:"my-3"},Qa=s("h6",{class:"border-bottom",style:{"font-weight":"bold"}},"Address",-1),qa=s("div",{class:"text-secondary"},"Address",-1),Fa={key:0},Ga={key:0},Ya={key:1},za=J({__name:"viewContactPanel",props:{isOpen:{type:Boolean,default:!1},modelValue:{default:null},employeeContactId:{default:null}},setup(l,{emit:I}){const g=l;ee.add(Te,ke,He,pe,Be);const N=R(()=>g.modelValue.phoneNumber||"-"),O=R(()=>g.modelValue.emailAddress||"-"),M=R(()=>g.modelValue.relation||"-"),C=R(()=>g.modelValue.gender||"-"),$=w(null),{fetchEmployeeContactSsn:u}=z(),S=R(()=>g.modelValue.birthDate?U(new Date(g.modelValue.birthDate)):"-"),F=R(()=>$.value?V($.value):"XXX-XX-XXXX");function U(a){return a.toLocaleDateString()}function V(a){let o=a.toString().replace(/\D/g,"");return o=o.replace(/^(\d{3})/,"$1-"),o=o.replace(/-(\d{2})/,"-$1-"),o=o.replace(/(\d)-(\d{4}).*/,"$1-$2"),o}async function _(){$.value||($.value=await u(g.employeeContactId))}const h=R({get(){return g.isOpen},set(a){a===!1&&I("close")}});function A(){I("editContact",g.modelValue)}return(a,o)=>{const i=m("fs-col"),x=m("fs-button"),y=m("fs-row"),E=m("fs-container"),D=m("fs-badge"),P=m("fs-sidebar");return d(),c(P,{id:"onboardingPlanId","sidebar-class":"fsi-sidebar",right:"","no-close-on-esc":"","no-close-on-backdrop":"","bg-variant":"white",width:"425px",shadow:"sm","header-class":"border-bottom bg-grey--000 details_panel_header","footer-class":"border-top","aria-label":"addDocumentMetaData",modelValue:r(h),"onUpdate:modelValue":o[0]||(o[0]=q=>Ue(h)?h.value=q:null),title:"View Employee Contact"},{default:e(()=>[s("div",wa,[t(E,{fluid:"",class:"contain border-bottom sticky--top bg-white py-3 mb-3"},{default:e(()=>[t(y,{class:"align-items-center"},{default:e(()=>[t(i,null,{default:e(()=>[s("div",xa,[g.modelValue.isPrimaryContact?(d(),c(r(Z),{key:0,icon:["fas","star"],class:"text-magenta me-1"})):H("",!0),n(" "+f(`${l.modelValue.firstName} ${l.modelValue.lastName}`),1)])]),_:1}),t(i,{cols:"auto"},{default:e(()=>[t(x,{variant:"outline-primary",onClick:A},{default:e(()=>[t(r(Z),{icon:["fal","edit"]}),Da]),_:1})]),_:1})]),_:1})]),_:1}),t(E,{fluid:"",class:"contain"},{default:e(()=>[t(y,{class:"align-items-center"},{default:e(()=>[t(i,null,{default:e(()=>[l.modelValue.isEmergencyContact?(d(),c(D,{key:0,class:"mb-2 p-2 fs-6 fw-normal",variant:"magenta"},{default:e(()=>[n("Emergency Contact")]),_:1})):H("",!0),l.modelValue.isDependent?(d(),c(D,{key:1,class:"mb-2 p-2 fs-6 fw-normal",variant:"cyan"},{default:e(()=>[n("Dependent")]),_:1})):H("",!0),l.modelValue.isBeneficiary?(d(),c(D,{key:2,class:"mb-2 p-2 fs-6 fw-normal",variant:"green"},{default:e(()=>[n("Beneficiary")]),_:1})):H("",!0)]),_:1})]),_:1}),s("section",Ia,[t(y,null,{default:e(()=>[t(i,null,{default:e(()=>[$a]),_:1})]),_:1}),t(y,null,{default:e(()=>[t(i,null,{default:e(()=>[Na,s("div",Va,f(r(N)),1)]),_:1})]),_:1}),t(y,null,{default:e(()=>[t(i,null,{default:e(()=>[Ea,s("div",Pa,f(r(O)),1)]),_:1})]),_:1})]),s("section",La,[t(y,null,{default:e(()=>[t(i,null,{default:e(()=>[Xa]),_:1})]),_:1}),t(y,null,{default:e(()=>[t(i,null,{default:e(()=>[Aa,s("div",Ra,f(r(M)),1)]),_:1})]),_:1}),t(y,null,{default:e(()=>[t(i,null,{default:e(()=>[Ta,s("div",Ha,f(r(C)),1)]),_:1})]),_:1}),t(y,null,{default:e(()=>[t(i,null,{default:e(()=>[Ba,l.modelValue.birthDate?(d(),c(ye,{key:0,class:"mb-2",mask:"XX-XX-XXXX",text:r(S)},null,8,["text"])):(d(),B("div",Ua,"-"))]),_:1})]),_:1}),t(y,null,{default:e(()=>[t(i,null,{default:e(()=>[Wa,l.modelValue.isBeneficiary||l.modelValue.isDependent?(d(),c(ye,{key:0,class:"mb-2",mask:"XXX-XX-XXXX",text:r(F),"onUpdate:modelValue":_},null,8,["text"])):(d(),B("div",Oa,"-"))]),_:1})]),_:1})]),s("section",Ma,[t(y,null,{default:e(()=>[t(i,null,{default:e(()=>[Qa]),_:1})]),_:1}),t(y,null,{default:e(()=>[t(i,null,{default:e(()=>[qa,l.modelValue.address?(d(),B("div",Fa,[s("div",null,f(l.modelValue.address.address1),1),l.modelValue.address.address2?(d(),B("div",Ga,f(l.modelValue.address.address1),1)):H("",!0),s("div",null,f(`${l.modelValue.address.city}, ${l.modelValue.address.state} ${l.modelValue.address.zip}`),1)])):(d(),B("div",Ya,"-"))]),_:1})]),_:1})])]),_:1})])]),_:1},8,["modelValue"])}}});var k=(l=>(l[l.Personal=0]="Personal",l[l.Employment=1]="Employment",l[l.Contacts=2]="Contacts",l))(k||{});const ja={class:"hq-pg d-flex flex-column"},Ja=s("span",null,"EDIT",-1),Ka=s("span",null,"EDIT",-1),Za=s("span",null,"Add Contact",-1),ul=J({__name:"employeeInformation",setup(l){ee.add(We,Oe);const I=Me(),g=Qe("$providePermissions"),N=w(k.Personal),O=R(()=>N.value===k.Personal),M=R(()=>N.value===k.Employment),C=R(()=>N.value===k.Contacts),$=ce(),u=R(()=>+$.params?.id),S=R(()=>$.params?.tab?.toString()),{fetchEmployeeDetails:F,fetchEmployment:U}=z(),{employeeDetails:V,employment:_}=le(z()),h=w(new qe),A=w(new je),{notifyError:a}=he(),o=w(new Fe),i=w(!1),x=w(null);function y(X){N.value=X,Y.value=+X}function E(){I.push({name:"createContact",params:{employeeId:u.value}})}function D(X){I.push({name:"editContact",params:{employeeId:u.value,id:X.id}})}function P(X){o.value=X,i.value=!0}function q(){i.value=!1}function v(X){i.value=!1,I.push({name:"editContact",params:{employeeId:u.value,id:X.id}})}function L(){I.push({name:"editPersonalInformation",params:{employeeId:u.value}})}function T(){I.push({name:"editEmployment",params:{id:u.value}})}const G=()=>{x.value&&I.push({name:"settingsFoundation"})};async function b(){const X=Je();await X.fetchCompanyCasConnection(),x.value=X.companyCasConnection}be($,async(X,Q)=>{X.name===Q.name&&X.params.id!==void 0&&X.params.id!==Q.params.id&&(await F(Number(X.params.id)),h.value=V.value)});const Y=w(0);function K(){if(S.value=="0"||S.value==k[k.Personal].toLocaleLowerCase())return k.Personal;if(S.value=="1"||S.value==k[k.Employment].toLocaleLowerCase())return k.Employment;if(S.value=="2"||S.value==k[k.Contacts].toLocaleLowerCase())return k.Contacts}function se(){switch(K()){case k.Employment:y(k.Employment),Y.value=1;break;case k.Contacts:y(k.Contacts),Y.value=2;break;case k.Personal:default:y(k.Personal),Y.value=0;break}}return fe(async()=>{await F(u.value),h.value=V.value,se(),b();try{await U(u.value),A.value=_.value}catch{a("Employment load failed.")}}),(X,Q)=>{const oe=m("fs-tab"),ne=m("font-awesome-icon"),te=m("fs-button"),we=m("fs-tabs"),xe=Ge("fs-tooltip");return d(),B("div",ja,[t(De,{employeeId:r(u),class:"position-relative"},null,8,["employeeId"]),t(we,{pills:"","active-nav-item-class":"bg-index-color-0 hq-pg__tab--active",modelValue:Y.value,"onUpdate:modelValue":Q[4]||(Q[4]=j=>Y.value=j),"nav-wrapper-class":"hq-pg__header hq-pg__header--sticky justify-content-center contain","content-class":"flex-fill"},{"tabs-end":e(()=>[r(O)&&r(g).WHQ_251_3137?(d(),B(re,{key:0},[Ye((d(),c(te,{variant:"outline-primary",class:"ms-auto rounded-pill p-2",style:{height:"38px"},title:"Sync With Foundation",onClick:G},{default:e(()=>[t(ne,{icon:["fal","fa-sync"],size:"lg"})]),_:1})),[[xe,void 0,void 0,{hover:!0}]]),t(te,{variant:"outline-primary",onClick:L},{default:e(()=>[t(ne,{icon:["fal","pen-to-square"]}),Ja]),_:1})],64)):H("",!0),r(M)&&r(g).WHQ_251_3141?(d(),c(te,{key:1,variant:"outline-primary",class:"ms-auto",onClick:T},{default:e(()=>[t(ne,{icon:["fal","pen-to-square"]}),Ka]),_:1})):H("",!0),r(C)&&r(g).WHQ_251_3141?(d(),c(te,{key:2,variant:"primary",class:"ms-auto",onClick:E},{default:e(()=>[Za]),_:1})):H("",!0)]),default:e(()=>[r(g).WHQ_251_3137?(d(),c(oe,{key:0,title:"Personal",active:"",onClick:Q[0]||(Q[0]=j=>y(r(k).Personal)),"title-item-class":"mx-1","title-link-class":"hq-pg__tab"},{default:e(()=>[t(ka,{personalData:h.value},null,8,["personalData"])]),_:1})):H("",!0),r(g).WHQ_251_3141?(d(),c(oe,{key:1,title:"Employment",onClick:Q[1]||(Q[1]=j=>y(r(k).Employment)),"title-item-class":"mx-1","title-link-class":"hq-pg__tab"},{default:e(()=>[t(ea,{employmentInfor:A.value},null,8,["employmentInfor"])]),_:1})):H("",!0),r(g).WHQ_251_3146?(d(),c(oe,{key:2,title:"Contacts",onClick:Q[3]||(Q[3]=j=>y(r(k).Contacts)),"title-item-class":"mx-1","title-link-class":"hq-pg__tab",class:"bg-grey--000"},{default:e(()=>[t(dt,{onCreateContact:E,onEditContact:D,onViewContact:P}),t(za,{"is-open":i.value,"employee-contact-id":o.value.id,modelValue:o.value,"onUpdate:modelValue":Q[2]||(Q[2]=j=>o.value=j),onClose:q,onEditContact:v},null,8,["is-open","employee-contact-id","modelValue"])]),_:1})):H("",!0)]),_:1},8,["modelValue"])])}}});export{ul as default};
