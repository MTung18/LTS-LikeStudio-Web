import{d as ve,l as ye,dh as be,dJ as ge,a_ as _e,cb as Ce,c5 as Ie,cp as he,c4 as Ve,at as Te,b as xe,s as w,a0 as De,bO as Se,Q as Ee,y as Oe,j as r,e as we,aW as Fe,a1 as N,r as c,o as ke,c as qe,a as n,g as t,w as s,I,u as Ae,cP as We,A as F,a4 as Ne,aY as Re,ax as Be,ay as Ue,_ as Le}from"./index.611fe570.js";import{F as C}from"./FormField.7af7663e.js";import{u as R}from"./onboardingHrWOTC9061HrStore.439e350a.js";import{u as B}from"./onboardingHrWOTCStore.d848f058.js";import{u as U}from"./onboardingStore.b8199798.js";import{D as Me}from"./darkThemeModal.c38e7d4c.js";import"./onboardingHrWOTC8850EssApi.7119caf5.js";import"./onboardingHrWOTC9061EssApi.6044f5a3.js";import"./OnboardingQuickHireWOTC.fa51e4d8.js";const h=v=>(Be("data-v-c2bf278c"),v=v(),Ue(),v),Pe={class:"d-flex justify-content-between align-items-center py-3"},He=h(()=>n("div",{class:"title"},"Form 9061 | Employer's Section",-1)),ze=h(()=>n("div",{class:"bg-light border px-3 py-2 fw-bold"}," EMPLOYER'S INFORMATION ",-1)),Ke={class:"p-3 pb-0"},je=h(()=>n("div",{class:"bg-light border px-3 py-2 fw-bold"}," APPLICANT CHARACTERISTICS FOR WOTC TARGET GROUP CERTIFICATION ",-1)),Ye={class:"p-3 pb-0"},Ge={class:"d-flex py-3"},$e=h(()=>n("div",null,[I(" Are you sure you want to leave this page? "),n("br"),I(" You have unsaved changes, your data will be lost. ")],-1)),Je=ve({__name:"hrOnboardingWOTC9061Hr",setup(v){ye.add(be,ge,_e,Ce,Ie,he,Ve);const L=Te(),M=C.WOTC8850Employee,P=C.WOTC8850Employer,H=C.WOTC9061Employee,V=C.WOTC9061Employer,i=xe(()=>Number(L.params.id)),{is8850EssDone:z,is9061EssDone:K,is9061HrDone:j,is8850DoneByFile:Y,is9061DoneByFile:G,is9062Done:$}=w(B()),{get8850EssStatus:J,get8850HrStatus:Q,get9061EssStatus:X,get9061HrStatus:Z}=B(),{fetchForm9061Data:ee,updateForm9061Data:ae}=R(),{responsive:f}=De(),{setLoading:y}=Se(),{markOnboardingSidenavItemAsDone:k,getOnboardingSideNavItems:te}=U(),{onboardingSideNavItem:le}=w(U()),{form9061Data:oe}=w(R()),{notifySuccess:se}=Ee(),T=Oe(),q=r(null),x=r(null),b=r(!1),A=r(),g=r(!1),W=r(""),_=r(!1),re=r(!1),ne=r(!1),ue=r(!1),D=r(!0),S=r(null),e=r({status:"",isActive:!0,isFormDone:!1,name:"",address:"",city:"",state:null,zipCode:"",phone:"",federalId:"",startDate:"",startWage:"",position:""}),E=r({fieldModels:[],uploadFileStateForms:[],formId:V,employeeId:i.value}),de=async()=>{const{valid:o}=await x.value.validate();if(o)ie();else{Ne(()=>{const a=q.value.getElementsByClassName("message-error")[0];a&&a.scrollIntoView({behavior:"smooth"})});return}},ie=async()=>{try{y(!0),e.value.isFormDone=!0,Object.keys(e.value).forEach(d=>{const p=E.value.fieldModels.find(O=>O.fieldKey===d);p&&(p.fieldValue=e.value[d])}),await ae({employeeId:i.value,formData:E.value}),se("Information saved."),!!(!!z||Y)&&(!!(!!(K&&j)||G)||$)?await k(S.value.progressSidebarId,!0,i.value):await k(S.value.progressSidebarId,!1,i.value),_.value=!0,T.push({name:"hrOnboardingWOTC"})}catch(o){console.error(o)}finally{y(!1)}};we(async()=>{y(!0),await Promise.all([J(i.value,M),X(i.value,H),Q(i.value,P),Z(i.value,V),ee(i.value,V),te(i.value)]),S.value=le.value.find(o=>o.progressSidebarUrl.trim().toLocaleLowerCase()==="onboardingWOTC".trim().toLocaleLowerCase()),oe.value.fieldModels.forEach(o=>{const a=o.fieldKey;e.value[a]=o.fieldValue,E.value.fieldModels.push({formFieldId:o.formFieldId,fieldKey:o.fieldKey,fieldValue:o.fieldValue})}),A.value=Object.assign({},e.value),await x.value.setErrors([]),y(!1)});const me=async()=>{_.value=!0,T.push({name:"hrOnboardingWOTC"})},pe=()=>{b.value=!1,_.value=!0,T.push(W.value)},ce=()=>{b.value=!1};return Fe((o,a,m)=>g.value?(W.value=o.fullPath,_.value?(m(),!0):(b.value=!0,m(!1),!1)):(m(),!0)),N(()=>e.value,()=>{Re.exports.isEqual(A.value,e.value)?g.value=!1:g.value=!0},{deep:!0}),N(()=>f.breakpoint,()=>{re.value=f.breakpoint==="sm",ne.value=f.breakpoint==="md",ue.value=f.breakpoint==="lg",D.value=f.breakpoint==="xl"}),(o,a)=>{const m=c("fs-button"),u=c("fs-input"),d=c("fs-col"),p=c("fs-row"),O=c("VeeForm"),fe=c("font-awesome-icon");return ke(),qe("div",{class:"p-3 pt-0 text-justify",ref_key:"container",ref:q},[n("div",Pe,[He,n("div",null,[t(m,{variant:"outline-secondary",class:"text-capitalize",onClick:me},{default:s(()=>[I(" CANCEL ")]),_:1}),t(m,{disabled:!g.value,variant:"task-cyan",class:"text-capitalize",onClick:de},{default:s(()=>[I(" SAVE ")]),_:1},8,["disabled"])])]),t(O,{ref_key:"formRef",ref:x},{default:s(()=>[n("div",{class:F(["border mb-4",D.value&&"w-700"])},[ze,n("div",Ke,[t(u,{label:"Employer's Name",type:"fsTextInput",name:"name",modelValue:e.value.name,"onUpdate:modelValue":a[0]||(a[0]=l=>e.value.name=l),required:!0,rules:{required:!0}},null,8,["modelValue"]),t(u,{label:"Employer's Address",type:"fsTextInput",name:"address",modelValue:e.value.address,"onUpdate:modelValue":a[1]||(a[1]=l=>e.value.address=l),required:!0,rules:{required:!0}},null,8,["modelValue"]),t(p,null,{default:s(()=>[t(d,{xl:"8"},{default:s(()=>[t(u,{label:"City or Town",type:"fsTextInput",name:"city",modelValue:e.value.city,"onUpdate:modelValue":a[2]||(a[2]=l=>e.value.city=l),required:!0,rules:{required:!0}},null,8,["modelValue"])]),_:1}),t(d,{xl:"2"},{default:s(()=>[t(u,{label:"State",type:"fsMultiselectList",typeaheaddata:Ae(We),typeaheadkey:"value",typeaheadvalueattribute:"value",showClear:"",placeholder:"",name:"state",modelValue:e.value.state,"onUpdate:modelValue":a[3]||(a[3]=l=>e.value.state=l),rules:{required:!0},required:!0},null,8,["typeaheaddata","modelValue"])]),_:1}),t(d,{xl:"2",style:{"min-width":"100px"}},{default:s(()=>[t(u,{label:"Zip Code",type:"fsTextInput",name:"zipCode",modelValue:e.value.zipCode,"onUpdate:modelValue":a[4]||(a[4]=l=>e.value.zipCode=l),rules:{required:!0,max:10},required:!0},null,8,["modelValue"])]),_:1})]),_:1}),t(p,null,{default:s(()=>[t(d,{xl:"6"},{default:s(()=>[t(u,{label:"Employer Telephone No.",type:"fsTextInput",name:"phone",modelValue:e.value.phone,"onUpdate:modelValue":a[5]||(a[5]=l=>e.value.phone=l),required:!0,rules:{required:!0}},null,8,["modelValue"])]),_:1}),t(d,{xl:"6"},{default:s(()=>[t(u,{label:"Employer Federal ID Number (EIN)",type:"fsTextInput",name:"federalId",modelValue:e.value.federalId,"onUpdate:modelValue":a[6]||(a[6]=l=>e.value.federalId=l),rules:{required:!0,max:10},maskFormat:"##-#######"},null,8,["modelValue"])]),_:1})]),_:1})])],2),n("div",{class:F(["border",D.value&&"w-700"])},[je,n("div",Ye,[t(p,null,{default:s(()=>[t(d,{xl:"4"},{default:s(()=>[t(u,{label:"Employment Start Date",type:"fsDateInput",name:"startDate",modelValue:e.value.startDate,"onUpdate:modelValue":a[7]||(a[7]=l=>e.value.startDate=l),required:!0,rules:{required:!0}},null,8,["modelValue"])]),_:1}),t(d,{xl:"4"},{default:s(()=>[t(u,{prepend:"$",label:"Starting Wage",name:"startWage",modelValue:e.value.startWage,"onUpdate:modelValue":a[8]||(a[8]=l=>e.value.startWage=l),required:!0,rules:{required:!0},type:"fsTextInput"},null,8,["modelValue"])]),_:1}),t(d,{xl:"4"},{default:s(()=>[t(u,{label:"Position",type:"fsTextInput",name:"position",modelValue:e.value.position,"onUpdate:modelValue":a[9]||(a[9]=l=>e.value.position=l),required:!0,rules:{required:!0}},null,8,["modelValue"])]),_:1})]),_:1})])],2)]),_:1},512),t(Me,{ref:"leaveDialog",showModal:b.value,title:"Unsaved changes",okText:"YES, LEAVE",okTextVariant:"danger",cancelText:"STAY",cancelBtnVariant:"light",onClose:ce,onOk:pe},{content:s(()=>[n("span",Ge,[t(fe,{class:F(["me-2","text-danger"]),icon:["fa-solid","fa-circle-exclamation"],size:"lg"}),$e])]),_:1},8,["showModal"])],512)}}});const ra=Le(Je,[["__scopeId","data-v-c2bf278c"]]);export{ra as default};
