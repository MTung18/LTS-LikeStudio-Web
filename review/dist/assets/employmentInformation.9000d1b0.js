import{D as ke}from"./darkThemeModal.c38e7d4c.js";import{d as Se,l as xe,dh as Le,dJ as Ne,a_ as Te,cb as Ie,c5 as Me,cp as Ee,c4 as Fe,at as De,b as Ue,s as H,a0 as Ae,bO as je,Q as qe,y as He,j as d,e as Pe,aW as Re,a1 as P,r as f,o as Be,c as Je,a as o,g as t,w as s,I as O,u as m,A as Ke,a4 as Ge,aY as We,ax as ze,ay as Ye,_ as $e}from"./index.611fe570.js";import{F as Xe}from"./FormField.7af7663e.js";import{u as R}from"./employmentInformationStore.d31296a2.js";import{u as B}from"./onboardingStore.b8199798.js";const p=h=>(ze("data-v-c044525a"),h=h(),Ye(),h),Qe={class:"d-flex justify-content-between align-items-center py-3"},Ze=p(()=>o("div",{class:"title"},"Employment Information",-1)),ea=p(()=>o("h5",{class:"text-task-cyan border-bottom mb-3 py-2 fw-bold"}," General ",-1)),aa={class:"w-max700"},ta={class:"d-flex"},la=p(()=>o("label",{for:"acaExempt"},"ACA Exempt",-1)),oa=p(()=>o("h5",{class:"text-task-cyan border-bottom mb-3 py-2 fw-bold"}," OSHA ",-1)),sa=p(()=>o("h5",{class:"text-task-cyan border-bottom mb-3 py-2 fw-bold"}," Other ",-1)),na={class:"d-flex"},ra=p(()=>o("label",{for:"corporateOfficer"},"Corporate Officer",-1)),ua={class:"d-flex"},da=p(()=>o("label",{for:"ownerOperator"},"Owner Operator",-1)),ia={class:"d-flex py-3"},ma=p(()=>o("div",null,[O(" Are you sure you want to leave this page? "),o("br"),O(" You have unsaved changes, your data will be lost. ")],-1)),pa=Se({__name:"employmentInformation",setup(h){xe.add(Le,Ne,Te,Ie,Me,Ee,Fe);const J=De(),T=Xe.EmploymentInformation,v=Ue(()=>Number(J.params.id)),{formEmploymentInformation:K,jobTitleOptions:C,departmentOptions:G,costCodeOptions:W,tradeOptions:z,unionOptions:Y,generalLiabilityClassOptions:$,generalLiabilityStateOptions:X,workersCompStatesOptions:Q,workersCompClassesOptions:Z,managerOptions:I}=H(R()),{fetchFormEmploymentInformationData:ee,updateFormEmploymentInformationData:ae,fetchJobTitleOptions:M,updateJobTitleOptions:te,fetchDepartmentOptions:le,fetchCostCodeOptions:oe,fetchTradeOptions:se,fetchUnionOptions:ne,fetchGeneralLiabilityClassOptions:re,fetchGeneralLiabilityStateOptions:ue,fetchWorkersCompClassesOptions:de,fetchWorkersCompStatesOptions:ie,fetchManagerOptions:me}=R(),{responsive:y}=Ae(),{setLoading:c}=je(),{markOnboardingSidenavItemAsDone:pe,getOnboardingSideNavItems:fe}=B(),{onboardingSideNavItem:ve}=H(B()),{notifySuccess:ye}=qe(),E=He(),F=d(null),k=d(null),V=d(!1),D=d(),b=d(!1),U=d(""),S=d(!1),ce=d(!1),be=d(!1),he=d(!1),Ce=d(!0),A=d(null),g=d(0),a=d({isFormDone:!1,startDate:"",hiredDate:"",employmentStatus:null,jobTitle:null,department:null,reportingManager:null,additionalManager:[],stateOfHire:null,union:null,trade:null,acaExempt:!1,oshaLevel:"",oshaCertificationNumber:"",oshaTradeLicense:"",workerCompState:null,workerCompClassNumber:null,corporateOfficer:!1,costCodeNumber:null,generalLiabilityState:null,generalLiabilityClass:null,ownerOperator:!1}),x=d({fieldModels:[],uploadFileStateForms:[],formId:T,employeeId:v.value}),j=async u=>{const{valid:e}=await k.value.validate();if(e)Ve(u);else{Ge(()=>{const i=F.value.getElementsByClassName("message-error")[0];i&&i.scrollIntoView({behavior:"smooth"})});return}},Ve=async u=>{try{c(!0),C.value.every(e=>e.name!==a.value.jobTitle.name)&&(await te(a.value.jobTitle.name),await M()),a.value.jobTitle.id=C.value.find(e=>{e.name=a.value.jobTitle.name}).id,a.value.isFormDone=!0,Object.keys(a.value).forEach(e=>{const i=x.value.fieldModels.find(_=>_.fieldKey===e);i&&(i.fieldValue=a.value[e])}),await ae({employeeId:v.value,formData:x.value}),await pe(A.value.progressSidebarId,!0,v.value),ye("Employment Information saved"),S.value=!0,u&&E.push({name:"onboardingPayrollInformation"})}catch(e){console.error(e)}finally{c(!1)}},L=d([]);Pe(async()=>{c(!0),await Promise.all([ee(v.value,T),fe(v.value),M(),le(),oe(),se(),ne(),re(),ue(),de(),ie(),me()]).finally(c(!1)),A.value=ve.value.find(u=>u.progressSidebarUrl.trim().toLocaleLowerCase()==="onboardingEmploymentInformation".trim().toLocaleLowerCase()),L.value=C.value,g.value=C.value.length+1,K.value.fieldModels.forEach(u=>{const e=u.fieldKey;e&&(a.value[e]=u.fieldValue,x.value.fieldModels.push({formFieldId:u.formFieldId,fieldKey:u.fieldKey,fieldValue:u.fieldValue}))}),D.value=Object.assign({},a.value),setTimeout(()=>{k.value.setErrors([])}),c(!1)});const ge=()=>{V.value=!1,S.value=!0,E.push(U.value)},_e=()=>{V.value=!1};Re((u,e,i)=>b.value?(U.value=u.fullPath,S.value?(i(),!0):(V.value=!0,i(!1),!1)):(i(),!0)),P(()=>a.value,()=>{We.exports.isEqual(D.value,a.value)?b.value=!1:b.value=!0},{deep:!0}),P(()=>y.breakpoint,()=>{ce.value=y.breakpoint==="sm",be.value=y.breakpoint==="md",he.value=y.breakpoint==="lg",Ce.value=y.breakpoint==="xl"});const q=[{text:"Full Time",value:"Full Time"},{text:"Part Time",value:"Part Time"},{text:"Variable Hour",value:"Variable Hour"},{text:"Seasonal",value:"Seasonal"}],we=async u=>{L.value.push({id:g.value,name:u}),a.value.jobTitle={id:g.value,name:u},g.value++};return(u,e)=>{const i=f("font-awesome-icon"),_=f("fs-button"),r=f("fs-input"),n=f("fs-col"),w=f("fs-row"),N=f("fs-form-checkbox"),Oe=f("VeeForm");return Be(),Je("div",{class:"py-3 px-4 pt-0 text-justify",ref_key:"container",ref:F},[o("div",Qe,[Ze,o("div",null,[t(_,{variant:"outline-success",class:"text-capitalize",onClick:e[0]||(e[0]=l=>j(!1)),disabled:!b.value},{default:s(()=>[t(i,{icon:["fal","floppy-disk"],class:"me-2"}),O(" SAVE ")]),_:1},8,["disabled"]),t(_,{disabled:!b.value,variant:"success",class:"text-capitalize",onClick:e[1]||(e[1]=l=>j(!0))},{default:s(()=>[O(" SAVE & NEXT ")]),_:1},8,["disabled"])])]),t(Oe,{ref_key:"formRef",ref:k},{default:s(()=>[ea,o("div",aa,[t(w,null,{default:s(()=>[t(n,{xl:"4",md:"6",sm:"12"},{default:s(()=>[t(r,{label:"Date Hired",name:"hiredDate",type:"fsDateInput",modelValue:a.value.hiredDate,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.hiredDate=l),required:!0,rules:{required:!0}},null,8,["modelValue"])]),_:1}),t(n,{xl:"4",md:"6",sm:"12"},{default:s(()=>[t(r,{label:"Start Date",name:"startDate",type:"fsDateInput",modelValue:a.value.startDate,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.startDate=l),required:!0,rules:{required:!0}},null,8,["modelValue"])]),_:1}),t(n,{xl:"4",md:"6",sm:"12"},{default:s(()=>[t(r,{label:"Employment Status",name:"employmentStatus",type:"fsMultiselectList",placeholder:"",typeaheaddata:q,typeaheadkey:"text",typeaheadvalueattribute:"value",showClear:"",modelValue:a.value.employmentStatus,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.employmentStatus=l),required:!0,rules:{required:!0}},null,8,["modelValue"])]),_:1})]),_:1}),t(w,null,{default:s(()=>[t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{type:"fsMultiselectList",taggable:!0,name:"jobTitle",label:"Job Title",typeaheaddata:L.value,typeaheadkey:"name",typeaheadvalueattribute:"id",showClear:"",modelValue:a.value.jobTitle,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.jobTitle=l),onCreateNew:we},null,8,["typeaheaddata","modelValue"])])]),_:1}),t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{label:"Department",name:"department",type:"fsMultiselectList",placeholder:"",typeaheaddata:m(G),typeaheadkey:"departmentName",typeaheadvalueattribute:"departmentFsNo",showClear:"",modelValue:a.value.department,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.department=l),required:!0,rules:{required:!0}},null,8,["typeaheaddata","modelValue"])])]),_:1}),t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{label:"Reporting Manager",name:"reportingManager",type:"fsMultiselectList",placeholder:"",typeaheaddata:m(I),typeaheadkey:"fullName",typeaheadvalueattribute:"id",showClear:"",modelValue:a.value.reportingManager,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.reportingManager=l),required:!0,rules:{required:!0}},null,8,["typeaheaddata","modelValue"])])]),_:1}),t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{closeOnSelect:!1,name:"additionalManager",label:"Additional Supervisors",type:"fsMultiselectList",placeholder:"",typeaheaddata:m(I),typeaheadkey:"fullName",typeaheadvalueattribute:"id",showClear:"",multiple:"",modelValue:a.value.additionalManager,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value.additionalManager=l),style:{height:"fit-content"}},null,8,["typeaheaddata","modelValue"])])]),_:1}),t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{label:"State of Hire",name:"stateOfHire",type:"fsMultiselectList",placeholder:"",showClear:"",typeaheaddata:q,typeaheadkey:"payrollStateTaxCodeName",typeaheadvalueattribute:"payrollStateTaxCodeFsNo",modelValue:a.value.stateOfHire,"onUpdate:modelValue":e[9]||(e[9]=l=>a.value.stateOfHire=l),required:!0,rules:{required:!0}},null,8,["modelValue"])])]),_:1}),t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{label:"Union",name:"union",type:"fsMultiselectList",placeholder:"",showClear:"",typeaheaddata:m(Y),typeaheadkey:"unionName",typeaheadvalueattribute:"unionFsNo",modelValue:a.value.union,"onUpdate:modelValue":e[10]||(e[10]=l=>a.value.union=l)},null,8,["typeaheaddata","modelValue"])])]),_:1}),t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{label:"Trade",name:"trade",type:"fsMultiselectList",placeholder:"",showClear:"",typeaheaddata:m(z),typeaheadkey:"tradeName",typeaheadvalueattribute:"tradeFsNo",modelValue:a.value.trade,"onUpdate:modelValue":e[11]||(e[11]=l=>a.value.trade=l)},null,8,["typeaheaddata","modelValue"])])]),_:1})]),_:1}),o("div",ta,[t(N,{name:"acaExempt",id:"acaExempt",modelValue:a.value.acaExempt,"onUpdate:modelValue":e[12]||(e[12]=l=>a.value.acaExempt=l)},null,8,["modelValue"]),la]),oa,t(w,null,{default:s(()=>[t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{type:"fsTextInput",name:"oshaLevel",label:"OSHA Level",modelValue:a.value.oshaLevel,"onUpdate:modelValue":e[13]||(e[13]=l=>a.value.oshaLevel=l),rules:{max:10},maxlength:10},null,8,["modelValue"])])]),_:1}),t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{type:"fsTextInput",name:"oshaCertificationNumber",label:"OSHA Certification Number",modelValue:a.value.oshaCertificationNumber,"onUpdate:modelValue":e[14]||(e[14]=l=>a.value.oshaCertificationNumber=l),rules:{max:30},maxlength:30},null,8,["modelValue"])])]),_:1}),t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{type:"fsTextInput",label:"OSHA Trade License",name:"oshaTradeLicense",modelValue:a.value.oshaTradeLicense,"onUpdate:modelValue":e[15]||(e[15]=l=>a.value.oshaTradeLicense=l),rules:{max:16},maxlength:16},null,8,["modelValue"])])]),_:1})]),_:1}),sa,t(w,null,{default:s(()=>[t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{label:"Worker\u2019s Comp State",name:"workerCompState",type:"fsMultiselectList",placeholder:"",typeaheaddata:m(Q),typeaheadkey:"workersCompStateName",typeaheadvalueattribute:"workersCompStateFsNo",showClear:"",modelValue:a.value.workerCompState,"onUpdate:modelValue":e[16]||(e[16]=l=>a.value.workerCompState=l)},null,8,["typeaheaddata","modelValue"])])]),_:1}),t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{label:"Worker\u2019s Comp Class Number",name:"workerCompClassNumber",type:"fsMultiselectList",placeholder:"",showClear:"",typeaheaddata:m(Z),typeaheadkey:"workersCompClassName",typeaheadvalueattribute:"workersCompClassFsNo",modelValue:a.value.workerCompClassNumber,"onUpdate:modelValue":e[17]||(e[17]=l=>a.value.workerCompClassNumber=l)},null,8,["typeaheaddata","modelValue"])])]),_:1}),t(n,{cols:"12"},{default:s(()=>[o("div",na,[t(N,{name:"corporateOfficer",id:"corporateOfficer",modelValue:a.value.corporateOfficer,"onUpdate:modelValue":e[18]||(e[18]=l=>a.value.corporateOfficer=l)},null,8,["modelValue"]),ra])]),_:1}),t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{label:"Cost Code Number",name:"costCodeNumber",type:"fsMultiselectList",placeholder:"",showClear:"",typeaheaddata:m(W),typeaheadkey:"costCodeName",typeaheadvalueattribute:"costCodeFsNo",modelValue:a.value.costCodeNumber,"onUpdate:modelValue":e[19]||(e[19]=l=>a.value.costCodeNumber=l)},null,8,["typeaheaddata","modelValue"])])]),_:1}),t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{label:"General Liability State",name:"generalLiabilityState",type:"fsMultiselectList",placeholder:"",showClear:"",typeaheaddata:m(X),typeaheadkey:"generalLiabilityStateName",typeaheadvalueattribute:"generalLiabilityStateFsNo",modelValue:a.value.generalLiabilityState,"onUpdate:modelValue":e[20]||(e[20]=l=>a.value.generalLiabilityState=l)},null,8,["typeaheaddata","modelValue"])])]),_:1}),t(n,{md:"6",sm:"12"},{default:s(()=>[o("div",null,[t(r,{label:"General Liability Class Number",name:"generalLiabilityClass",type:"fsMultiselectList",placeholder:"",showClear:"",typeaheaddata:m($),typeaheadkey:"displayName",typeaheadvalueattribute:"generalLiabilityClassFsNo",modelValue:a.value.generalLiabilityClass,"onUpdate:modelValue":e[21]||(e[21]=l=>a.value.generalLiabilityClass=l)},null,8,["typeaheaddata","modelValue"])])]),_:1}),t(n,{cols:"12"},{default:s(()=>[o("div",ua,[t(N,{name:"ownerOperator",id:"ownerOperator",modelValue:a.value.ownerOperator,"onUpdate:modelValue":e[22]||(e[22]=l=>a.value.ownerOperator=l)},null,8,["modelValue"]),da])]),_:1})]),_:1})])]),_:1},512),t(ke,{ref:"leaveDialog",showModal:V.value,title:"Unsaved changes",okText:"YES, LEAVE",okTextVariant:"danger",cancelText:"STAY",cancelBtnVariant:"light",onClose:_e,onOk:ge},{content:s(()=>[o("span",ia,[t(i,{class:Ke(["me-2","text-danger"]),icon:["fa-solid","fa-circle-exclamation"],size:"lg"}),ma])]),_:1},8,["showModal"])],512)}}});const ha=$e(pa,[["__scopeId","data-v-c044525a"]]);export{ha as default};
