import{g as $,a as y}from"./statefulSortFeature.3df4a43a.js";import{f as m}from"./gridConfigDefaults.8c72c19b.js";import{S as B}from"./grid.module.3b00878a.js";import{j as a,a1 as C}from"./index.611fe570.js";function j(v,e,n,i){const u="SearchText",o=`${e}State`,c=`${e}${u}`,g=m.gridConfig,F=$(e),d=y(e,n),f=a(new Array),s=a(0),r=a(localStorage.getItem(`${e}${u}`)??""),t=a(new B({...m.gridStoreConfig,sorters:[n],onFilter:()=>{r.value&&t.value.filters.count<s.value&&i(),s.value=t.value.filters.count}}));C(r,()=>{i()},{deep:!0});function p(){localStorage.setItem(o,JSON.stringify(t.value.state)),localStorage.setItem(c,r.value)}function T(){t.value.clearFilters(),t.value.clearSorters(),localStorage.removeItem(o),localStorage.removeItem(c)}function h(){t.value.clearFilters(),v.value.filterBar.hideFilterBar()}async function I(){t.value.data=f.value;const S=localStorage.getItem(o);if(S)try{const l=JSON.parse(S);typeof l=="object"&&(t.value.state=l)}catch{}}return{filteredData:f,defaultGridConfig:g,statefulFilterFeature:F,statefulSortFeature:d,filterCount:s,searchText:r,gridStore:t,saveGridSettings:p,clearGridSettings:T,hideFilterBar:h,populateBryntumStore:I}}export{j as u};
