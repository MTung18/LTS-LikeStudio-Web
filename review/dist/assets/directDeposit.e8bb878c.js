import{d as be,s as q,bO as ge,a0 as pe,l as _e,b5 as Le,aJ as ye,bo as je,aA as We,y as De,bb as He,j as l,a1 as ke,r as b,o as c,f as B,w as n,a as e,g as o,u as a,C as N,D as f,cL as U,c as h,a2 as m,A as xe,de,cK as D,I as M,bn as ze,ba as Ce,df as qe,ax as we,ay as Se,_ as Ae,at as Ue,i as re,af as Ye,c4 as Ge,bx as Ke,by as Je,dg as Qe,dh as Xe,b as ue,h as Ze,e as et,E as tt,a3 as at,di as st}from"./index.611fe570.js";import{g as ot,a as nt}from"./statefulSortFeature.3df4a43a.js";import{S as it}from"./grid.module.3b00878a.js";import{B as lt}from"./BryntumGrid.2c4be387.js";import{u as Y}from"./onboardingDirectDepositStore.11e1bbc7.js";import{f as me}from"./gridConfigDefaults.8c72c19b.js";import{u as fe}from"./onboardingStore.b8199798.js";import{D as ve}from"./darkThemeModal.c38e7d4c.js";const p=t=>(we("data-v-a5a62a35"),t=t(),Se(),t),ct={class:"mr-3 d-flex align-items-center"},dt=p(()=>e("h2",{class:"h4 pl-2 my-auto fw-bold"},"Account Details",-1)),rt={class:"ms-auto"},ut={class:"py-3 bg-white w-100 h-100"},mt={class:"d-flex justify-content-between align-items-center border-bottom px-3 pb-3"},ft={class:"fw-bold"},vt={key:0},ht=p(()=>e("div",{class:"fw-bold mb-2"},"Status",-1)),bt={class:"d-flex align-items-center"},gt=p(()=>e("div",{class:"fw-bold mb-2"},"Sequence",-1)),pt=p(()=>e("div",{class:"fw-bold mb-2"},"Bank Account Type",-1)),_t=p(()=>e("div",{class:"fw-bold mb-2"},"Pre-note",-1)),yt=p(()=>e("div",{class:"fw-bold mb-2"},"Distribution Method",-1)),Dt={class:"fw-bold mb-2"},kt=p(()=>e("div",{class:"fw-bold mb-2"},"Routing Number",-1)),xt=p(()=>e("div",{class:"fw-bold mb-2"},"Account Number",-1)),Ct=p(()=>e("div",{class:"fw-bold mb-2"},"Voided Check",-1)),wt=p(()=>e("div",{class:"fw-bold mb-2"},"Description",-1)),St=be({__name:"accountDetail",props:{isOnboarding:{type:Boolean},isShowSidebar:{type:Boolean},accountDetail:null,isDisabledEdit:{type:Boolean}},setup(t,{emit:G}){const{isPending:P}=q(Y()),{changeStartAtMode:d}=Y(),{setLoading:i}=ge(),{responsive:O}=pe();_e.add(Le,ye,je,We);const $=De(),T=He(),S=()=>{G("closeSidebar")},E=l(!0),I=l(!0),A=l(0),k=(x,r)=>{switch(x){case D.amount:return Ce(r);case(D.percentageNet||D.percentageRemaining):return`${r}%`;case D.remaining:return"";default:return}},V=()=>{i(!0),d("edit"),$.push("direct-deposit/account-management"),i(!1)};ke(()=>O.breakpoint,()=>{A.value++});const j=async x=>{const r=await T.getFile(x);qe(r,x,!1),i(!1)};return(x,r)=>{const W=b("fs-button"),v=b("fs-row"),H=b("fs-container"),K=b("fs-form-group"),J=b("fs-form"),g=b("fs-sidebar");return c(),B(g,{right:"",shadow:!0,visible:t.isShowSidebar,"no-close-on-esc":"","no-header-close":"","no-close-on-backdrop":"",onClose:S},{title:n(()=>[e("div",ct,[dt,e("div",rt,[e("span",{class:"cursor-pointer text-secondary",tag:"a",onClick:S},[o(a(N),{icon:["fal","times"]})])])])]),default:n(()=>[e("div",ut,[e("div",mt,[e("span",ft," Checking "+f(a(U)(String(t.accountDetail?.bankAccountNumber))),1),(c(),B(W,{size:"small",variant:t.isDisabledEdit||a(P)?"outline-secondary":"outline-success",class:"mx-3 text-capitalize",onClick:r[0]||(r[0]=C=>V()),key:A.value,disabled:t.isDisabledEdit||a(P)},{default:n(()=>[o(a(N),{icon:"fa-light fa-pen-to-square"}),a(O).breakpoint!=="sm"?(c(),h("div",vt,"Edit")):m("",!0)]),_:1},8,["variant","disabled"]))]),o(J,null,{default:n(()=>[o(K,null,{default:n(()=>[o(H,{class:"px-3"},{default:n(()=>[o(v,{class:"mt-3 d-flex align-items-center"},{default:n(()=>[ht,e("div",bt,[o(a(N),{class:xe(["icon-circle",[t.accountDetail?.isActive?"text-success":"text-inactive"]]),icon:["fa-solid","fa-circle"]},null,8,["class"]),e("div",null,f(t.accountDetail?.isActive?"Active":"Inactive"),1)])]),_:1}),o(v,{class:"mt-3 d-flex align-items-center"},{default:n(()=>[gt,e("div",null,f(t.accountDetail?.ordinalPosition>0?t.accountDetail?.ordinalPosition:"Remaining"),1)]),_:1}),o(v,{class:"mt-3 d-flex align-items-center"},{default:n(()=>[pt,e("div",null,f(a(de)(String(t.accountDetail?.accountTypeName).toLowerCase())),1)]),_:1}),t.isOnboarding?m("",!0):(c(),B(v,{key:0,class:"mt-3 d-flex align-items-center"},{default:n(()=>[_t,e("div",null,f(a(de)(String(t.accountDetail?.approvalStatusName))),1)]),_:1})),o(v,{class:"mt-3 d-flex align-items-center"},{default:n(()=>[yt,e("div",null,f(t.accountDetail?.distributionMethodName),1)]),_:1}),t.accountDetail.distributionMethodName!==a(D).remaining?(c(),B(v,{key:1,class:"mt-3 d-flex align-items-center"},{default:n(()=>[e("div",Dt,f(t.accountDetail.distributionMethodName===a(D).amount?"Distribution Amount":"Distribution Percentage"),1),e("div",null,f(k(t.accountDetail?.distributionMethodName,t.accountDetail.distributionAmount)),1)]),_:1})):m("",!0),o(v,{class:"mt-3 d-flex align-items-center"},{default:n(()=>[kt,e("div",null,[M(f(E.value?a(U)(String(t.accountDetail?.bankRoutingNumber)):t.accountDetail?.bankRoutingNumber)+" ",1),e("span",{class:"cursor-pointer ms-2 text-primary",onClick:r[1]||(r[1]=C=>E.value=!E.value)},[o(a(N),{class:"text-success",icon:E.value?"fa-light fa-eye":"fa-light fa-eye-slash"},null,8,["icon"])])])]),_:1}),o(v,{class:"mt-3 d-flex align-items-center"},{default:n(()=>[xt,e("div",null,[M(f(I.value?a(U)(String(t.accountDetail?.bankAccountNumber)):t.accountDetail?.bankAccountNumber)+" ",1),e("span",{class:"cursor-pointer ms-2 text-primary",onClick:r[2]||(r[2]=C=>I.value=!I.value)},[o(a(N),{class:"text-success",icon:I.value?"fa-light fa-eye":"fa-light fa-eye-slash"},null,8,["icon"])])])]),_:1}),o(v,{class:"mt-3 d-flex align-items-center"},{default:n(()=>[Ct,e("span",{class:"text-success",onClick:r[3]||(r[3]=C=>j(t.accountDetail?.voidedCheckFilePath))},f(t.accountDetail?.voidedCheckFilePath&&a(ze)(t.accountDetail?.voidedCheckFilePath,!0)),1)]),_:1}),o(v,{class:"mt-3 d-flex align-items-center"},{default:n(()=>[wt,e("div",null,f(t.accountDetail?.description),1)]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1},8,["visible"])}}});const At=Ae(St,[["__scopeId","data-v-a5a62a35"]]),he="/assets/DirectDeposit.4d36c7af.svg",L=t=>(we("data-v-1586eef5"),t=t(),Se(),t),Nt={class:"px-0 bg-white h-100",style:{"overflow-x":"hidden"}},Mt={class:"h-100","no-gutters":"true"},Pt={class:"h-100 d-flex flex-column"},$t={key:0,class:"mb-2 d-flex justify-content-between align-items-center py-2 px-4"},Tt={class:"my-1 w-100 d-flex justify-content-between align-items-center"},Et=L(()=>e("span",{class:"title"}," Direct Deposit ",-1)),It={key:0},Bt={key:1,class:"py-2 px-4"},Ot={key:2,class:"my-0"},Vt={key:0},Ft={key:0},Rt={key:1},Lt=["src"],jt=L(()=>e("div",{class:"mt-3"},"No Bank Accounts.",-1)),Wt={key:5,class:"flex-grow-1 d-flex justify-content-center align-items-center text-center"},Ht=["src"],zt=L(()=>e("div",{class:"mt-3"},"You have chosen receive Paper Checks.",-1)),qt={class:"d-flex py-3"},Ut={class:"me-2"},Yt=L(()=>e("div",null,"Are you sure you want to change payment method?",-1)),Gt={key:0},Kt={class:"d-flex"},Jt={class:"me-2"},Qt=L(()=>e("div",null,[e("div",null,"Are you sure you want to change payment method?")],-1)),Xt=be({__name:"directDeposit",setup(t){st(s=>({"9f755ece":ae.value}));const G=Ue(),P=l(),d={directDeposit:"directDeposit",paperCheck:"paperCheck"},i=l(d.directDeposit),O=l(""),$=l(null),T=l(!1),S=l(!1),{fetchEmployeeDetails:E}=re(),{employeeDetails:I}=q(re()),{setLoading:A}=ge(),{responsive:k}=pe(),{fetchAccount:V,changeStartAtMode:j,updateSelectedAccountId:x,getPaymentMethod:r,updatePaymentMethod:W,getOnboardingPaymentMethodSetting:v}=Y(),{markOnboardingSidenavItemAsDone:H,getOnboardingSideNavItems:K,getEmployeeFormSubmit:J}=fe(),{accountList:g,isPending:C}=q(Y()),{onboardingSideNavItem:Ne}=q(fe());_e.add(Ye,ye,Ge,Ke,Je,Qe,Xe);const te=l(0),ae=l("hidden"),se=l(!1),_=l(!1),Q=l(!1),oe=l({}),X="onboardingDirectDepositListGrid",z=De(),w=ue(()=>Number(G.params.id)),Me=l(null),y=l({...me.gridConfig,...ot(X),...nt(X),minHeight:g.value&&g.value.length?"40em":0,autoHeight:!0,emptyText:"",features:{regionResize:!1,columnPicker:{groupByRegion:!0}},columns:[{autoWidth:!1,flex:1,text:"Sequence",id:"ordinalPosition",field:"ordinalPosition",htmlEncode:!1,renderer:({record:s})=>s.ordinalPosition===-1?D.remaining:s.ordinalPosition},{autoWidth:!1,flex:2,text:"Bank account Type",id:"accountTypeName",field:"accountTypeName",htmlEncode:!1},{autoWidth:!1,flex:2,text:"Account Number",id:"bankAccountNumber",field:"bankAccountNumber",renderer:({record:s})=>U(s.bankAccountNumber)},{autoWidth:!1,flex:2,text:"Distribution Method",id:"distributionMethodName",field:"distributionMethodName"},{autoWidth:!1,flex:2,text:"Distribution Amount",id:"distributionAmount",field:"distributionAmount",renderer:({record:s})=>s.distributionMethodName===D.remaining?"Remaining":s.distributionMethodName===D.amount?`${Ce(s.distributionAmount)}`:`${s.distributionAmount}%`},{autoWidth:!1,flex:1,text:"Status",id:"isActive",field:"isActive",groupable:!1,htmlEncode:!1,renderer:({record:s})=>s.isActive?'<i class="bg-success p-1 rounded-circle"></i><span class="ms-1">Active</span>':'<i class="bg-inactive p-1 rounded-circle"></i><span class="ms-1">Inactive</span>'},{hidden:!1,locked:k.breakpoint==="md",region:!1,flex:1,type:"action",id:"action",text:"Actions",enableHeaderContextMenu:!1,enableCellContextMenu:!1,cellCls:C.value?"b-action-cell--hover":"b-action-cell",actions:[{visible:!(C.value||_.value),renderer:()=>'<i class="b-action-item b-fa b-fa-edit cursor-pointer no-underline text-success">Edit</i>',onClick:({record:s})=>{j("edit"),x(s.id),z.push({name:"onboardingAccountManagement"})}}]}],listeners:{cellClick:({record:s,column:u})=>{u.type!=="action"&&(Q.value=!0,oe.value=s,x(s.id))}},readOnly:!0});ke(()=>k.breakpoint,()=>{k.breakpoint==="sm"?(y.value.columns.forEach(s=>{s.autoWidth=!0}),y.value.columns[y.value.columns.length-1].hidden=!0):k.breakpoint==="md"?(y.value.columns[y.value.columns.length-1].hidden=!1,y.value.columns[y.value.columns.length-1].region="right"):y.value.columns.forEach(s=>{s.autoWidth=!1}),te.value++});const Pe=async()=>{j("add"),await z.push({name:"onboardingAccountManagement"})},Z=l(new it({...me.gridStoreConfig}));Ze(async()=>{try{A(!0),await V(w.value),await $e(),await r()?(i.value=d.directDeposit,O.value=d.directDeposit):(i.value=d.paperCheck,O.value=d.paperCheck);const u=await v();P.value=u}catch(s){console.error(s)}finally{A(!1)}ae.value=C.value?"hidden":"visible"}),et(async()=>{A(!0),await Promise.all([E(w.value),K(w.value),V(w.value)]),se.value=await J(w.value),Number(I.value.employeeStatusId)===tt.QuickHire?_.value=!1:_.value=!se.value,$.value=Ne.value.find(s=>s.progressSidebarUrl.trim().toLowerCase()==="onboardingDirectDeposit".trim().toLocaleLowerCase()),$.value||z.push({name:"onboardingPersonalInformation"}),A(!1)});const $e=async()=>{Z.value.data=g.value;const s=localStorage.getItem(`${X}State`);s&&(Z.value.state=JSON.parse(s))},Te=async()=>{Q.value=!1},Ee=async()=>{i.value=d.directDeposit,T.value=!1},Ie=async()=>{await W(!1),ne(),T.value=!1},Be=async()=>{await W(!0),ne(),S.value=!1},Oe=()=>{i.value=d.paperCheck,S.value=!1},ne=async()=>{await V(w.value),i.value===d.paperCheck||i.value===d.directDeposit&&g.value.length>0?H($.value?.progressSidebarId,!0,w.value):H($.value?.progressSidebarId,!1,w.value)},F=ue(()=>P.value?.isDirectDeposit&&P.value?.isPaperCheck),Ve=s=>{z.push({name:s})};return(s,u)=>{const ie=b("fs-button"),le=b("fs-form-radio"),Fe=b("fs-form-group"),ce=b("fs-col"),Re=b("fs-row");return c(),h("div",Nt,[e("div",Mt,[e("div",Pt,[a(F)?(c(),h("div",$t,[e("div",Tt,[Et,o(ie,{variant:"success",onClick:u[0]||(u[0]=ee=>Ve("onboardingFormw4"))},{default:n(()=>[M("NEXT")]),_:1})]),a(k).breakpoint==="sm"?(c(),h("hr",It)):m("",!0)])):m("",!0),a(F)?(c(),h("div",Bt,[o(Fe,null,{default:n(({ariaDescribedby:ee})=>[o(le,{disabled:_.value,modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=R=>i.value=R),"aria-describedby":ee,name:"directDeposit",value:"directDeposit",onClick:u[2]||(u[2]=R=>S.value=!_.value)},{default:n(()=>[M("New hire prefers to receive direct deposits.")]),_:2},1032,["disabled","modelValue","aria-describedby"]),o(le,{disabled:_.value,onClick:u[3]||(u[3]=R=>T.value=!_.value),modelValue:i.value,"onUpdate:modelValue":u[4]||(u[4]=R=>i.value=R),"aria-describedby":ee,name:"paperCheck",value:"paperCheck"},{default:n(()=>[M("New hire prefers to receive paper checks.")]),_:2},1032,["disabled","modelValue","aria-describedby"])]),_:1})])):m("",!0),a(F)&&i.value===d.directDeposit?(c(),h("hr",Ot)):m("",!0),i.value===d.directDeposit?(c(),B(Re,{key:3,class:"mb-2 d-flex justify-content-between align-items-center border-bottom py-2 px-4"},{default:n(()=>[o(ce,{md:"6",sm:"12",class:"ps-4 my-2 title"},{default:n(()=>[M(f(a(F)?"List of Bank Accounts":"Direct Deposit Accounts"),1)]),_:1}),a(k).breakpoint==="sm"?(c(),h("hr",Vt)):m("",!0),o(ce,{md:"6",sm:"12",class:"pe-4 my-2 d-flex justify-content-end"},{default:n(()=>[o(ie,{variant:a(F)?"outline-success":"success",class:"text-capitalize",onClick:Pe,disabled:_.value||a(C)},{default:n(()=>[M(" MANAGE ACCOUNT ")]),_:1},8,["variant","disabled"])]),_:1})]),_:1})):m("",!0),i.value===d.directDeposit?(c(),h("div",{key:4,class:xe(a(g).length===0&&"flex-grow-1 d-flex justify-content-center align-items-center text-center")},[a(g).length!==0?(c(),h("div",Ft,[(c(),B(a(lt),at(y.value,{store:Z.value,ref_key:"grid",ref:Me,key:te.value}),null,16,["store"]))])):m("",!0),a(g).length===0?(c(),h("div",Rt,[e("div",null,[e("img",{src:a(he)},null,8,Lt)]),jt])):m("",!0)],2)):m("",!0),i.value===d.paperCheck?(c(),h("div",Wt,[e("div",null,[e("div",null,[e("img",{src:a(he)},null,8,Ht)]),zt])])):m("",!0)])]),o(ve,{title:"Change Payment Method",showModal:T.value,cancelText:"Cancel",cancelBtnVariant:"light",okText:"Yes, Change",okTextVariant:"danger",onOk:Ie,onClose:Ee},{content:n(()=>[e("div",qt,[e("div",Ut,[o(a(N),{icon:["fas","circle-exclamation"],class:"text-danger"})]),e("div",null,[Yt,a(g).length!==0?(c(),h("div",Gt,"Your bank accounts will be lost.")):m("",!0)])])]),_:1},8,["showModal"]),o(ve,{title:"Change Payment Method",showModal:S.value,cancelText:"Cancel",cancelBtnVariant:"light",okText:"Yes, Change",okTextVariant:"danger",onOk:Be,onClose:Oe},{content:n(()=>[e("div",Kt,[e("div",Jt,[o(a(N),{icon:["fas","circle-exclamation"],class:"text-danger"})]),Qt])]),_:1},8,["showModal"]),o(At,{accountDetail:oe.value,isShowSidebar:Q.value,onCloseSidebar:Te,isOnboarding:!1,isDisabledEdit:_.value},null,8,["accountDetail","isShowSidebar","isDisabledEdit"])])}}});const la=Ae(Xt,[["__scopeId","data-v-1586eef5"]]);export{la as default};
