import{d as J,l as W,aa as Q,ab as X,ac as Y,ad as Z,ae as ee,af as te,ag as ae,ah as oe,y as ne,a0 as le,j as v,a1 as D,e as se,r as u,o as n,c as ie,f as i,w as e,g as t,a2 as f,H as S,a as b,I as k,D as ue,ai as re,aj as ce,ak as T,A as _,u as fe,F as de,_ as _e}from"./index.611fe570.js";import{u as me}from"./foundationCompanyCasConnectionStore.b3301598.js";import{d as he}from"./debounce.cf77a06e.js";const pe={class:"hq-pg__title py-3"},ve={class:"d-flex"},ye=J({__name:"bryntumSearchBar",props:{title:{default:""},icon:{default:""},localStorageKey:{default:""},showSettingsButton:{type:Boolean,default:!1},showSearchButton:{type:Boolean,default:!1},showFilterButton:{type:Boolean,default:!1},showRefreshButton:{type:Boolean,default:!1},showFooterSearch:{type:Boolean,default:!1},showBackButton:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},returnRoute:null,showTitleHeader:{type:Boolean,default:!0},sticky:{type:Boolean,default:!1}},setup(a,{emit:m}){const B=a;W.add(Q,X,Y,Z,ee,te,ae,oe);const z=ne(),{responsive:R}=le(),F=v(!0),x=v(null);function O(){m("saveSettings")}function K(){l.value="",m("clearSettings"),m("refreshGrid")}async function N(){const r=me();await r.fetchCompanyCasConnection(),x.value=r.companyCasConnection}const l=v(localStorage.getItem(`${B.localStorageKey}SearchText`)??""),H=he(()=>{m("searchTextInput",l.value)},500);D(l,H);const y=v(!1);function j(){y.value=!y.value,y.value||(l.value="")}const h=v(!1);function U(){h.value=!h.value}D(h,()=>{h.value?m("showFilterBar"):m("hideFilterBar")});const A=()=>{x.value?z.push({name:"settingsFoundation"}):g.value=!0};se(()=>{const r=localStorage.getItem(`${B.localStorageKey}State`);if(r){const o=JSON.parse(r).filters??[];h.value=o.length>0}B.showRefreshButton&&(F.value=!0,N(),F.value=!1)});const g=v(!1);function L(){g.value=!1}return(r,o)=>{const c=u("font-awesome-icon"),M=u("fs-link"),d=u("fs-col"),$=u("fs-form-input"),p=u("fs-button"),V=u("fs-form-group"),C=u("fs-row"),P=u("fs-dropdown-header"),I=u("fs-dropdown-item"),E=u("fs-dropdown"),w=u("fs-popper"),q=u("fs-container"),G=u("fs-modal");return n(),ie(de,null,[a.showTitleHeader?(n(),i(q,{key:0,fluid:"",class:_(["contain hq-pg__header",{"hq-pg__header--sticky":a.sticky}]),style:{"z-index":"1000"}},{default:e(()=>[t(C,{"align-v":"center"},{default:e(()=>[a.showBackButton?(n(),i(d,{key:0,cols:"auto"},{default:e(()=>[t(M,{variant:"link",to:a.returnRoute},{default:e(()=>[t(c,{icon:["fal","arrow-circle-left"],size:"2x"})]),_:1},8,["to"])]),_:1})):f("",!0),S(r.$slots,"alerts",{},void 0,!0),a.title.length>0?(n(),i(d,{key:1,cols:"auto"},{default:e(()=>[b("h2",pe,[a.showIcon?(n(),i(c,{key:0,icon:["fal",a.icon],class:"icon-information"},null,8,["icon"])):f("",!0),k(" "+ue(a.title),1)])]),_:1})):f("",!0),t(d,{cols:"auto"},{default:e(()=>[S(r.$slots,"headers",{},void 0,!0)]),_:3}),re(t(d,null,{default:e(()=>[t(C,{"align-v":"center"},{default:e(()=>[t(d,{lg:"6"},{default:e(()=>[t(V,{class:"fs-input__form-group fs-input__form-group--search"},{default:e(()=>[t($,{type:"text",class:"fs-input__input mb-0",modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=s=>l.value=s),placeholder:`Search ${a.title}...`},null,8,["modelValue","placeholder"]),t(p,{variant:"link",disabled:l.value==="",class:"px-3 fs-input__button fs-input__button--right",onClick:o[1]||(o[1]=s=>l.value="")},{default:e(()=>[t(T,{name:"iconSwitch","enter-active-class":"animate__animated animate__fadeInDown animate__faster","leave-active-class":"animate__animated animate__fadeOutDown animate__faster"},{default:e(()=>[l.value===""?(n(),i(c,{key:"search",icon:["fal","search"],class:"fs-input__button-icon fs-input__button-icon--right"})):(n(),i(c,{key:"times",icon:["fal","times"],class:"fs-input__button-icon fs-input__button-icon--right"}))]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},512),[[ce,y.value]]),t(d,{class:_("d-flex justify-content-end w-100 "+(fe(R).mobile?"y-3":"ms-auto")),id:"custom-button"},{default:e(()=>[b("div",ve,[t(w,{tooltip:"",hover:"",content:"Settings",placement:"bottom",class:_({"me-2":a.showSettingsButton})},{default:e(()=>[a.showSettingsButton?(n(),i(E,{key:0,"no-caret":"",variant:"outline-cyan","toggle-class":"btn--h-40 rounded-pill px-2"},{"button-content":e(()=>[t(c,{icon:["fal","sliders-h"],size:"lg"})]),default:e(()=>[t(P,null,{default:e(()=>[k("Options")]),_:1}),t(I,null,{default:e(()=>[b("span",{onClick:o[2]||(o[2]=s=>O())},"Save Settings")]),_:1}),t(I,null,{default:e(()=>[b("span",{onClick:o[3]||(o[3]=s=>K())},"Clear Settings")]),_:1})]),_:1})):f("",!0)]),_:1},8,["class"]),a.showSearchButton&&!a.showFooterSearch?(n(),i(w,{key:0,tooltip:"",hover:"",content:"Search",placement:"bottom",class:_({"me-2":a.showSearchButton})},{default:e(()=>[t(p,{variant:"outline-cyan",class:_(["px-2 btn--h-40 rounded-pill",y.value?"active":""]),onClick:o[4]||(o[4]=s=>j())},{default:e(()=>[t(c,{icon:["fal","search"],size:"lg"})]),_:1},8,["class"])]),_:1},8,["class"])):f("",!0),t(w,{tooltip:"",hover:"",content:"Filter",placement:"bottom",class:_({"me-2":a.showFilterButton})},{default:e(()=>[a.showFilterButton?(n(),i(p,{key:0,variant:"outline-cyan",type:"button",class:_(["px-2 btn--h-40 rounded-pill",h.value?"active":""]),onClick:o[5]||(o[5]=s=>U())},{default:e(()=>[t(c,{icon:["fal","filter"],size:"lg"})]),_:1},8,["class"])):f("",!0)]),_:1},8,["class"]),t(w,{tooltip:"",hover:"",content:"Sync With Foundation",placement:"bottom",class:_({"me-2":a.showRefreshButton})},{default:e(()=>[a.showRefreshButton?(n(),i(p,{key:0,variant:"outline-primary",type:"button",class:"px-2 btn--h-40 rounded-pill",onClick:o[6]||(o[6]=s=>A())},{default:e(()=>[t(c,{icon:["fal","refresh"],size:"lg"})]),_:1})):f("",!0)]),_:1},8,["class"])]),S(r.$slots,"buttons",{},void 0,!0)]),_:3},8,["class"])]),_:3})]),_:3},8,["class"])):f("",!0),a.showFooterSearch||r.$slots.footer?(n(),i(q,{key:1,fluid:"",class:"contain hq-pg__header hq-pg__header--no-height"},{default:e(()=>[t(C,{"align-v":"center"},{default:e(()=>[a.showFooterSearch?(n(),i(d,{key:0,lg:"4"},{default:e(()=>[t(V,{class:"fs-input__form-group fs-input__form-group--search"},{default:e(()=>[t($,{type:"text",class:"fs-input__input mb-0",modelValue:l.value,"onUpdate:modelValue":o[7]||(o[7]=s=>l.value=s),placeholder:`Search ${a.title}...`},null,8,["modelValue","placeholder"]),t(p,{variant:"link",disabled:l.value==="",class:"px-3 fs-input__button fs-input__button--right",onClick:o[8]||(o[8]=s=>l.value="")},{default:e(()=>[t(T,{name:"iconSwitch","enter-active-class":"animate__animated animate__fadeInDown animate__faster","leave-active-class":"animate__animated animate__fadeOutDown animate__faster"},{default:e(()=>[l.value===""?(n(),i(c,{key:"search",icon:["fal","search"],class:"fs-input__button-icon fs-input__button-icon--right"})):(n(),i(c,{key:"times",icon:["fal","times"],class:"fs-input__button-icon fs-input__button-icon--right"}))]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1})):f("",!0),t(d,null,{default:e(()=>[S(r.$slots,"footer",{},void 0,!0)]),_:3})]),_:3})]),_:3})):f("",!0),t(G,{centered:"","content-class":"phq-modal","header-class":"phq-modal__header","title-class":"phq-modal__title","body-class":"phq-modal__body","footer-class":"phq-modal__footer","header-text-variant":"light","header-bg-variant":"blue--dk",lazy:!0,title:"Foundation Integration","hide-header-close":"","no-close-on-backdrop3":"","no-close-on-esc":"",modelValue:g.value,"onUpdate:modelValue":o[9]||(o[9]=s=>g.value=s),onOk:L},{"modal-footer":e(s=>[t(p,{variant:"primary",onClick:s.ok},{default:e(()=>[k("OK")]),_:2},1032,["onClick"])]),default:e(()=>[k(" Please set up your Foundation Integration to sync. ")]),_:1},8,["modelValue"])],64)}}});const be=_e(ye,[["__scopeId","data-v-3f5bf78d"]]);export{be as B};
