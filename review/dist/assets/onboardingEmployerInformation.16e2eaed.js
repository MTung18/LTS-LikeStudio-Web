import{d as H,s as j,y as $,at as K,bO as Q,Q as Z,j as d,b as T,e as G,a1 as J,aW as X,r as p,o as ee,c as ae,g as a,w as l,a as i,B as te,I as y,u as oe,A as le,F as ne,cP as se,a4 as re,aY as ue,ax as de,ay as ie,_ as me}from"./index.611fe570.js";import{u as D}from"./onboardingEmployerInformationStore.02dbf0f9.js";import{F as fe}from"./FormField.7af7663e.js";import{D as pe}from"./darkThemeModal.c38e7d4c.js";import{u as ce}from"./reportTemplateStore.f0128478.js";const ve=g=>(de("data-v-6f05fb0c"),g=g(),ie(),g),ye={class:"d-flex justify-content-between align-items-center px-4 py-3 sticky-header"},_e={class:"title"},be={class:"d-flex align-items-center"},ge={style:{maxWidth:"700px",marginBottom:"40px"},class:"px-4"},he={class:"mb-4"},xe={class:"d-flex py-3"},Ie=ve(()=>i("div",null,[y(" Are you sure you want to leave this page? "),i("br"),y(" You have unsaved changes, your data will be lost. ")],-1)),Ve=H({__name:"onboardingEmployerInformation",setup(g){const{getOnboardingEmployerInformation:N,updateOnboardingEmployerInformation:k}=D(),{onboardingEmployerInformation:V}=j(D()),I=$(),C=K(),{setLoading:m}=Q(),{notifyError:q}=Z(),{getDocumentTemplate:O}=ce(),t=d({employerName:"",employerAddress:"",city:"",state:null,zipcode:"",firstDateOfEmployment:null,employerIdentificationNumber:"",formStatus:!1}),E=d({employerName:"",employerAddress:"",city:"",state:null,zipcode:"",firstDateOfEmployment:null,employerIdentificationNumber:"",formStatus:!1}),_=d(void 0),F=d(null),h=d(!1),S=d(!1),M=d(""),b=d(!1),c=d(!1),w=T(()=>C.params.id),A=fe.TaxWithholdingInfoEmployer,z=T(()=>se.map(s=>({value:s.value,text:s.value}))),B=async s=>{s.preventDefault(),m(!0);const{valid:e}=await F.value.validate();if(e){t.value.formStatus=!0;const o=_.value.fieldModels.map(r=>{const u=t.value[r.fieldKey]||"";return{...r,fieldValue:u}});_.value.fieldModels=o,await k(Number(w.value),_.value),b.value=!1,m(!1),I.push({name:"onboardingDetail"})}else{re(()=>{const o=document.getElementsByClassName("form_error-message")[0];o&&o.scrollIntoView({behavior:"smooth"})}),m(!1);return}},U=()=>{I.push({name:"onboardingTaxWithHoldingInfo"})};G(async()=>{m(!0),await N(Number(w.value),A),_.value=V.value;const s=_.value.fieldModels.reduce((e,{fieldKey:o,fieldValue:r})=>(r!==void 0&&(e[o]=r),e),{});t.value=s,E.value=V.value.fieldModels.reduce((e,{fieldKey:o,fieldValue:r})=>(r!==void 0&&(e[o]=r),e),{}),m(!1)}),J(()=>t.value,()=>{ue.exports.isEqual(t.value,E.value)?b.value=!1:b.value=!0},{deep:!0});const R=()=>{h.value=!1,S.value=!0,I.push(M.value)},W=()=>{h.value=!1};X((s,e,o)=>b.value?(h.value=!0,M.value=s.fullPath,S.value?(o(),!0):(o(!1),!1)):(o(),!0));const L=async(s,e)=>{m(!0);try{await O(s,e)}catch{q(`${s} is missing`)}finally{m(!1)}};return(s,e)=>{const o=p("fs-button"),r=p("fs-link"),u=p("fs-input"),f=p("fs-col"),x=p("fs-row"),P=p("VeeForm"),Y=p("font-awesome-icon");return ee(),ae(ne,null,[a(P,{ref_key:"observer",ref:F,id:"observer"},{default:l(({meta:v})=>[i("div",ye,[i("div",_e,[i("h4",{style:te({fontWeight:"bold",fontSize:"16px",lineHeight:"19px",marginBottom:"6.5px"})},"Employer Information ",4)]),i("div",be,[a(o,{type:"button",variant:"outline-secondary",onClick:U},{default:l(()=>[y(" Cancel ")]),_:1}),a(o,{type:"submit",variant:"cerulean",disabled:!b.value,onClick:B},{default:l(()=>[y("Save")]),_:1},8,["disabled"])])]),i("div",ge,[i("div",he,[y("See the Federal W-4 Form filling instruction "),a(r,{onClick:e[0]||(e[0]=n=>L("Federal_W4_Instruction.pdf",!1)),class:"desc-link"},{default:l(()=>[y("here.")]),_:1})]),a(x,null,{default:l(()=>[a(f,null,{default:l(()=>[a(u,{required:!0,modelValue:t.value.employerName,"onUpdate:modelValue":e[1]||(e[1]=n=>t.value.employerName=n),type:"fsTextInput",label:"Employer's Name",rules:{required:!0},name:"employerName",formMeta:{...v,validated:c.value}},null,8,["modelValue","formMeta"])]),_:2},1024)]),_:2},1024),a(x,null,{default:l(()=>[a(f,null,{default:l(()=>[a(u,{required:!0,modelValue:t.value.employerAddress,"onUpdate:modelValue":e[2]||(e[2]=n=>t.value.employerAddress=n),type:"fsTextInput",label:"Employer's Address",rules:{required:!0},name:"employerAddress",formMeta:{...v,validated:c.value}},null,8,["modelValue","formMeta"])]),_:2},1024)]),_:2},1024),a(x,null,{default:l(()=>[a(f,{cols:"4"},{default:l(()=>[a(u,{required:!0,modelValue:t.value.city,"onUpdate:modelValue":e[3]||(e[3]=n=>t.value.city=n),type:"fsTextInput",label:"City",rules:{required:!0},name:"city",formMeta:{...v,validated:c.value}},null,8,["modelValue","formMeta"])]),_:2},1024),a(f,{cols:"4"},{default:l(()=>[a(u,{type:"fsSelect",required:!0,modelValue:t.value.state,"onUpdate:modelValue":e[4]||(e[4]=n=>t.value.state=n),name:"state",label:"State",options:oe(z),style:{height:"40px"}},null,8,["modelValue","options"])]),_:1}),a(f,{cols:"4"},{default:l(()=>[a(u,{required:!0,modelValue:t.value.zipcode,"onUpdate:modelValue":e[5]||(e[5]=n=>t.value.zipcode=n),type:"FsTextInput",label:"Zipcode",rules:{required:!0,max:10},name:"zipcode",formMeta:{...v,validated:c.value},maskFormat:"##########"},null,8,["modelValue","formMeta"])]),_:2},1024)]),_:2},1024),a(x,null,{default:l(()=>[a(f,{cols:"6"},{default:l(()=>[a(u,{modelValue:t.value.firstDateOfEmployment,"onUpdate:modelValue":e[6]||(e[6]=n=>t.value.firstDateOfEmployment=n),type:"FsDateInput",label:"First Date Of Employment",required:!0,name:"firstDateOfEmployment",formMeta:{...v,validated:c.value}},null,8,["modelValue","formMeta"])]),_:2},1024),a(f,{cols:"6"},{default:l(()=>[a(u,{required:!0,modelValue:t.value.employerIdentificationNumber,"onUpdate:modelValue":e[7]||(e[7]=n=>t.value.employerIdentificationNumber=n),type:"FsTextInput",label:"Employer's Identification Number",rules:{required:!0,max:10},name:"employerIdentificationNumber",formMeta:{...v,validated:c.value},maskFormat:"##-#######"},null,8,["modelValue","formMeta"])]),_:2},1024)]),_:2},1024)])]),_:1},512),a(pe,{ref:"leaveDialog",showModal:h.value,title:"Unsaved changes",okText:"YES, LEAVE",okTextVariant:"danger",cancelText:"STAY",cancelBtnVariant:"light",onClose:W,onOk:R},{content:l(()=>[i("span",xe,[a(Y,{class:le(["me-2","text-danger"]),icon:["fa-solid","fa-circle-exclamation"],size:"lg"}),Ie])]),_:1},8,["showModal"])],64)}}});const Te=me(Ve,[["__scopeId","data-v-6f05fb0c"]]);export{Te as default};
