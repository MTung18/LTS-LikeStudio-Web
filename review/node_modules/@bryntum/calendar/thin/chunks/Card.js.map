{"version":3,"file":"Card.js","sources":["../../../../Core/lib/Core/widget/DateTimeField.js","../../../../Core/lib/Core/widget/layout/Card.js"],"sourcesContent":["import Field from './Field.js';\nimport TimeField from './TimeField.js';\nimport './DateField.js';\nimport DateHelper from '../helper/DateHelper.js';\nimport EventHelper from '../helper/EventHelper.js';\nimport ObjectHelper from '../helper/ObjectHelper.js';\nimport Widget from './Widget.js';\n\n/**\n * @module Core/widget/DateTimeField\n */\n\n/**\n * A field combining a {@link Core.widget.DateField} and a {@link Core.widget.TimeField}.\n *\n * {@inlineexample Core/widget/DateTimeField.js}\n *\n * @extends Core/widget/Field\n * @classtype datetimefield\n * @inputfield\n */\nexport default class DateTimeField extends Field {\n    static configurable = {\n        /**\n         * Returns the TimeField instance\n         * @readonly\n         * @member {Core.widget.TimeField} timeField\n         */\n        /**\n         * Configuration for the {@link Core.widget.TimeField}\n         * @config {TimeFieldConfig}\n         */\n        timeField : {},\n\n        /**\n         * Returns the DateField instance\n         * @readonly\n         * @member {Core.widget.DateField} dateField\n         */\n        /**\n         * Configuration for the {@link Core.widget.DateField}\n         * @config {DateFieldConfig}\n         */\n        dateField : {\n            // To be able to use transformDateValue for parsing without loosing time, a bit of a hack\n            keepTime : true,\n            step     : '1 d'\n        },\n\n        /**\n         * The week start day in the {@link Core.widget.DateField#config-picker}, 0 meaning Sunday, 6 meaning Saturday.\n         * Uses localized value per default.\n         *\n         * @config {Number}\n         */\n        weekStartDay : null,\n\n        inputTemplate : () => '',\n\n        ariaElement : 'element'\n    };\n\n    static $name = 'DateTimeField';\n\n    static type = 'datetimefield';\n\n    // Factoryable type alias\n    static alias = 'datetime';\n\n    doDestroy() {\n        this.dateField.destroy();\n        this.timeField.destroy();\n\n        super.doDestroy();\n    }\n\n    get focusElement() {\n        return this.dateField.input;\n    }\n\n    // Implementation needed at this level because it has two inner elements in its inputWrap\n    get innerElements() {\n        return [\n            this.dateField.element,\n            this.timeField.element\n        ];\n    }\n\n    // Each subfield handles its own keystrokes\n    internalOnKeyEvent() { }\n\n    // CellEdit sets this dynamically on its editor field\n    updateRevertOnEscape(revertOnEscape) {\n        this.timeField.revertOnEscape = revertOnEscape;\n        this.dateField.revertOnEscape = revertOnEscape;\n    }\n\n    // Converts the timeField config into a TimeField\n    changeTimeField(config) {\n        const\n            me = this,\n            result = TimeField.new({\n                revertOnEscape : me.revertOnEscape,\n                syncInvalid(...args) {\n                    const updatingInvalid = me.updatingInvalid;\n\n                    TimeField.prototype.syncInvalid.apply(this, args);\n                    me.timeField && !updatingInvalid && me.syncInvalid();\n                }\n            }, config);\n\n        EventHelper.on({\n            element : result.element,\n            keydown : 'onTimeFieldKeyDown',\n            thisObj : me\n        });\n\n        // Must set *after* construction, otherwise it becomes the default state\n        // to reset readOnly back to\n        if (me.readOnly) {\n            result.readOnly = true;\n        }\n\n        return result;\n    }\n\n    // Set up change listener when TimeField is available. Not in timeField config to enable users to supply their own\n    // listeners block there\n    updateTimeField(timeField) {\n        const me = this;\n\n        timeField.ion({\n            change({ userAction, value }) {\n                if (userAction && !me.$settingValue) {\n                    const dateAndTime = me.dateField.value;\n                    me._isUserAction = true;\n                    me.value = dateAndTime ? DateHelper.copyTimeValues(dateAndTime, value) : null;\n                    me._isUserAction = false;\n                }\n            },\n            thisObj : me\n        });\n    }\n\n    // Converts the dateField config into a class based on { type : \"...\" } provided (DateField by default)\n    changeDateField(config) {\n        const\n            me     = this,\n            type   = config?.type || 'datefield',\n            cls    = Widget.resolveType(config.type || 'datefield'),\n            result = Widget.create(ObjectHelper.assign({\n                type,\n                revertOnEscape : me.revertOnEscape,\n                syncInvalid(...args) {\n                    const updatingInvalid = me.updatingInvalid;\n\n                    cls.prototype.syncInvalid.apply(this, args);\n                    me.dateField && !updatingInvalid && me.syncInvalid();\n                }\n            }, config));\n\n        EventHelper.on({\n            element : result.element,\n            keydown : 'onDateFieldKeyDown',\n            thisObj : me\n        });\n\n        // Must set *after* construction, otherwise it becomes the default state\n        // to reset readOnly back to\n        if (me.readOnly) {\n            result.readOnly = true;\n        }\n\n        result.ion(({\n            keydown : ({ event }) => {\n                if (event.key === 'Tab' && !event.shiftKey && this.timeField?.isVisible) {\n                    event.stopPropagation();\n                    event.cancelBubble = true;\n                }\n            }\n        }));\n\n        return result;\n    }\n\n    get childItems() {\n        return [this.dateField, this.timeField];\n    }\n\n    // Set up change listener when DateField is available. Not in dateField config to enable users to supply their own\n    // listeners block there\n    updateDateField(dateField) {\n        const me = this;\n\n        dateField.ion({\n            change({ userAction, value }) {\n                if (userAction && !me.$isInternalChange) {\n                    me._isUserAction = true;\n                    if (!me.timeField.value) {\n                        me.timeField.value = value;\n                    }\n                    else if (value) {\n                        // Preserve the time field value when changing the datefield.\n                        DateHelper.copyTimeValues(value, me.timeField.value);\n                    }\n                    me.value = value;\n                    me._isUserAction = false;\n                }\n            },\n            thisObj : me\n        });\n    }\n\n    updateWeekStartDay(weekStartDay) {\n        if (this.dateField) {\n            this.dateField.weekStartDay = weekStartDay;\n        }\n    }\n\n    changeWeekStartDay(value) {\n        return typeof value === 'number' ? value : (this.dateField?.weekStartDay ?? DateHelper.weekStartDay);\n    }\n\n    // Apply our value to our underlying fields\n    syncInputFieldValue(skipHighlight = this.isConfiguring) {\n        super.syncInputFieldValue(true);\n\n        const\n            me                       = this,\n            { dateField, timeField } = me,\n            highlightDate            = dateField.highlightExternalChange,\n            highlightTime            = timeField.highlightExternalChange;\n\n        if (!skipHighlight && !me.highlightExternalChange) {\n            skipHighlight = true;\n        }\n\n        me.$isInternalChange = true;\n\n        dateField.highlightExternalChange = false;\n\n        // Prevent dateField from keeping its time value\n        // TODO: Should be doable without this hack\n        dateField.value = null;\n\n        dateField.highlightExternalChange = highlightDate;\n\n        if (skipHighlight) {\n            timeField.highlightExternalChange = dateField.highlightExternalChange = false;\n        }\n\n        timeField.value = dateField.value = me.inputValue;\n\n        dateField.highlightExternalChange = highlightDate;\n        timeField.highlightExternalChange = highlightTime;\n\n        me.$isInternalChange = false;\n\n        // Must evaluate after child fields have been updated since our validity state depends on theirs.\n        me.syncInvalid();\n    }\n\n    onTimeFieldKeyDown(e) {\n        const me = this;\n\n        // we need to handle keydown for composed field manually and before it's done by cellEdit feature\n        if (e.key === 'Enter' || e.key === 'Tab') {\n            const dateAndTime = me.dateField.value;\n            me._isUserAction = true;\n            me.value = dateAndTime ? DateHelper.copyTimeValues(dateAndTime, me.timeField.value) : null;\n            me._isUserAction = false;\n        }\n    }\n\n    onDateFieldKeyDown(e) {\n        const me = this;\n\n        if (e.key === 'Tab' && !e.shiftKey) {\n            e.stopPropagation();\n            e.preventDefault();\n            me.timeField.focus();\n        }\n        // we need to handle keydown for composed field manually and before it's done by cellEdit feature\n        else if (e.key === 'Enter') {\n            me.value = me.dateField.value;\n        }\n    }\n\n    // Make us and our underlying fields required\n    updateRequired(required, was) {\n        this.timeField.required = this.dateField.required = required;\n    }\n\n    updateReadOnly(readOnly, was) {\n        super.updateReadOnly(readOnly, was);\n\n        if (!this.isConfiguring) {\n            this.timeField.readOnly = this.dateField.readOnly = readOnly;\n        }\n    }\n\n    // Make us and our underlying fields disabled\n    onDisabled(value) {\n        this.timeField.disabled = this.dateField.disabled = value;\n    }\n\n    focus() {\n        this.dateField.focus();\n    }\n\n    hasChanged(oldValue, newValue) {\n        return !DateHelper.isEqual(oldValue, newValue);\n    }\n\n    get isValid() {\n        return this.timeField.isValid && this.dateField.isValid;\n    }\n\n    setError(error, silent) {\n        [this.dateField, this.timeField].forEach(f => f.setError(error, silent));\n    }\n\n    getErrors() {\n        const errors = [...(this.dateField.getErrors() || []), ...(this.timeField.getErrors() || [])];\n\n        return errors.length ? errors : null;\n    }\n\n    clearError(error, silent) {\n        [this.dateField, this.timeField].forEach(f => f.clearError(error, silent));\n    }\n\n    updateInvalid() {\n        // use this flag in this level to avoid looping\n        this.updatingInvalid = true;\n        [this.dateField, this.timeField].forEach(f => f.updateInvalid());\n        this.updatingInvalid = false;\n    }\n}\n\nDateTimeField.initClass();\n","import Layout from './Layout.js';\nimport Widget from '../Widget.js';\nimport EventHelper from '../../helper/EventHelper.js';\n\n/**\n * @module Core/widget/layout/Card\n */\n\nconst animationClasses = [\n    'b-slide-out-left',\n    'b-slide-out-right',\n    'b-slide-in-left',\n    'b-slide-in-right'\n];\n\n/**\n * A helper class for containers which must manage multiple child widgets, of which only one may be visible at once such\n * as a {@link Core.widget.TabPanel}. This class offers an active widget switching API, and optional slide-in,\n * slide-out animations from child to child.\n * @extends Core/widget/layout/Layout\n * @layout\n * @classtype card\n */\nexport default class Card extends Layout {\n    static $name = 'Card';\n\n    static type = 'card';\n\n    static configurable = {\n        containerCls : 'b-card-container',\n\n        itemCls : 'b-card-item',\n\n        hideChildHeaderCls : 'b-hide-child-headers',\n\n        /**\n         * Specifies whether to slide tabs in and out of visibility.\n         * @config {Boolean}\n         * @default\n         */\n        animateCardChange : true,\n\n        /**\n         * The active child item.\n         * @config {Core.widget.Widget}\n         */\n        activeItem : null,\n\n        /**\n         * The active child index.\n         * @config {Number}\n         */\n        activeIndex : null\n    };\n\n    onChildAdd(item) {\n        super.onChildAdd(item);\n\n        const\n            me = this,\n            {\n                activeItem,\n                owner\n            }           = me,\n            activeIndex = owner.activeIndex != null ? owner.activeIndex : (me.activeIndex || 0),\n            itemIndex   = owner.items.indexOf(item),\n            isActive    = activeItem != null ? item === activeItem : itemIndex === activeIndex;\n\n        item.ion({\n            beforeHide : 'onBeforeChildHide',\n            beforeShow : 'onBeforeChildShow',\n            thisObj    : me\n        });\n\n        // Ensure inactive child items start hidden, and the active one starts shown.\n        // Sync our active indicators with reality ready for render.\n        if (isActive) {\n            me._activeIndex = itemIndex;\n            me._activeItem = item;\n            item.show();\n        }\n        else {\n            item.$isDeactivating = true;\n            item.hide();\n            item.$isDeactivating = false;\n        }\n    }\n\n    onChildRemove(item) {\n        super.onChildRemove(item);\n\n        const me = this;\n\n        // Active child has been removed without setting another child to be active.\n        // Choose an immediate sibling to be the new active item\n        if (me._activeItem === item) {\n            me.activateSiblingOf(item);\n        }\n\n        me._activeIndex = me.owner.items.indexOf(me._activeItem);\n\n        item.un({\n            beforeHide : 'onBeforeChildHide',\n            beforeShow : 'onBeforeChildShow',\n            thisObj    : me\n        });\n    }\n\n    /**\n     * Detect external code showing a child. We veto that show and activate it through the API.\n     * @internal\n     */\n    onBeforeChildShow({ source : showingChild }) {\n        // Some outside code is showing a child.\n        // We must control this, so veto it and activate it in the standard way.\n        if (!this.owner.isConfiguring && !showingChild.$isActivating) {\n            this.activeItem = showingChild;\n            return false;\n        }\n    }\n\n    /**\n     * Detect external code hiding a child. We veto that show and activate an immediate sibling through the API.\n     * @internal\n     */\n    onBeforeChildHide({ source : hidingChild }) {\n        // Some outside code is hiding a child.\n        // We must control this, so veto it and activate a sibling in the standard way.\n        if (!this.owner.isConfiguring && !hidingChild.$isDeactivating) {\n            this.activateSiblingOf(hidingChild);\n            return false;\n        }\n    }\n\n    activateSiblingOf(item) {\n        const\n            { owner } = this,\n            items     = owner.items.slice(),\n            removeAt  = items.indexOf(item);\n\n        items.splice(removeAt, 1);\n\n        this.activeIndex = Math.min(removeAt, items.length - 1);\n    }\n\n    /**\n     * Get/set active item, using index or the Widget to activate\n     * @param {Core.widget.Widget|Number} activeIndex\n     * @param {Number} [prevActiveIndex]\n     * @param {Object} [options]\n     * @param {Boolean} [options.animation] Pass `false` to disable animation\n     * @param {Boolean} [options.silent] Pass `true` to not fire transition events\n     * @returns {Object} An object describing the card change containing the following properties:\n     *  - `prevActiveIndex` The previously active index.\n     *  - `prevActiveItem ` The previously active child item.\n     *  - `activeIndex    ` The newly active index.\n     *  - `activeItem     ` The newly active child item.\n     *  - `promise        ` A promise which completes when the slide-in animation finishes and the child item contains\n     * focus if it is focusable.\n     * @internal\n     */\n    setActiveItem(activeIndex, prevActiveIndex = this.activeIndex, options) {\n        const\n            me             = this,\n            { owner }      = me,\n            { items }      = owner,\n            widgetPassed   = activeIndex instanceof Widget,\n            prevActiveItem = items[prevActiveIndex],\n            newActiveItem  = owner.items[activeIndex = widgetPassed ? items.indexOf(activeIndex) : parseInt(activeIndex, 10)],\n            animation      = options?.animation !== false,\n            chatty         = !options?.silent,\n            event = {\n                prevActiveIndex,\n                prevActiveItem\n            };\n\n        // There's a child widget at that index to activate and we're not already activating it.\n        if (newActiveItem && !newActiveItem.$isActivating && newActiveItem !== prevActiveItem) {\n            const\n                prevItemElement = prevActiveItem && prevActiveItem.element,\n                newActiveElement = newActiveItem && newActiveItem.element;\n\n            // A previous card change is in progress, abort it and clean the items it was operating upon\n            if (me.animateDetacher) {\n                const activeCardChange = me.animateDetacher.event;\n\n                // The animation that is in flight is already doing what we are being asked for.\n                // Allow it to complete.\n                if (activeCardChange.activeItem === newActiveItem) {\n                    return activeCardChange.promise;\n                }\n                me.animateDetacher();\n                activeCardChange.prevActiveItem.element.classList.remove(...animationClasses);\n                activeCardChange.activeItem.element.classList.remove(...animationClasses);\n                me.animateDetacher = null;\n            }\n\n            event.activeIndex = activeIndex;\n            event.activeItem = newActiveItem;\n\n            /**\n             * The active item is about to be changed. Return `false` to prevent this.\n             * @event beforeActiveItemChange\n             * @preventable\n             * @on-owner\n             * @param {Number} activeIndex - The new active index.\n             * @param {Core.widget.Widget} activeItem - The new active child widget.\n             * @param {Number} prevActiveIndex - The previous active index.\n             * @param {Core.widget.Widget} prevActiveItem - The previous active child widget.\n             */\n            if (chatty && owner.trigger('beforeActiveItemChange', event) === false) {\n                return null;\n            }\n\n            // Since onBeforeActiveItemChange happens before event handlers run, the activation could be cancelled by\n            // a listener, so we do a special hook once we are sure things are going down.\n            // We pretend that we have already switched active index so that the owner\n            // does not attempt to initiate the change.\n            const reset = me._activeIndex !== event.activeIndex;\n\n            if (reset) {\n                me._activeIndex = event.activeIndex;\n            }\n\n            chatty && owner.onBeginActiveItemChange?.(event);\n\n            if (reset) {\n                me._activeIndex = event.prevActiveIndex;\n            }\n\n            // If we're animating and there's something to slide out\n            // then slide it out, and slide the new item in\n            if (animation && prevItemElement && owner.isVisible && me.animateCardChange) {\n                event.promise = me.cardChangeAnimation = new Promise((resolve, reject) => {                   // During the card sliding trick, we don't want resize notifications.\n                    // The outgoing card should be as inert as if it were hidden.\n                    const wasMonitoringSize = prevActiveItem.monitorResize;\n                    prevActiveItem.monitorResize = false;\n\n                    me.contentElement.style.overflowX = 'hidden';\n\n                    // The outgoing card must report its isVisible property as false from now on\n                    // even before we officially hide it.\n                    prevActiveItem._hidden = true;\n\n                    // Show the item so that it can be slid in.\n                    // Events will ensue, UIs can react to the show event.\n                    // The flag is so that our onBeforeChildShow listener can\n                    // tell if it's part of our orderly activate operation.\n                    newActiveItem.$isActivating = true;\n                    newActiveItem.show();\n                    newActiveItem.$isActivating = false;\n\n                    prevItemElement.classList.add(activeIndex > prevActiveIndex ? 'b-slide-out-left' : 'b-slide-out-right');\n                    newActiveElement.classList.add(activeIndex < prevActiveIndex ? 'b-slide-in-left' : 'b-slide-in-right');\n                    owner.isAnimating = true;\n\n                    // When the new widget is in place, clean up\n                    me.animateDetacher = EventHelper.onTransitionEnd({\n                        mode    : 'animation',\n                        element : newActiveElement,\n\n                        // onTransitionEnd protects us from being called\n                        // after the thisObj is destroyed.\n                        thisObj : prevActiveItem,\n\n                        handler()  {\n                            // Calendar got stuck with `b-animating` in some monkey scenarios, hoisted this to make\n                            // sure it was not left behind\n                            owner.isAnimating = me.cardChangeAnimation = false;\n\n                            // if animateDetacher variable has been cleared before this callback,\n                            // this means race-condition call happened. active item should be called again to\n                            // prevent unexpected layout behaviour\n                            if (!me.animateDetacher) {\n                                me.setActiveItem(activeIndex, prevActiveIndex, options);\n                                return;\n                            }\n\n                            me.animateDetacher = null;\n\n                            // Clean incoming widget's animation classes\n                            newActiveElement.classList.remove(...animationClasses);\n\n                            // If there's an outgoing item, clean its animation classes and hide it\n                            if (prevItemElement) {\n                                prevItemElement.classList.remove(...animationClasses);\n\n                                // The flag is so that our onBeforeChildHide listener can\n                                // tell if it's part of our orderly activate operation.\n                                prevActiveItem.$isDeactivating = true;\n                                prevActiveItem._hidden = false;\n                                prevActiveItem.hide();\n                                prevActiveItem.monitorResize = wasMonitoringSize;\n                                prevActiveItem.$isDeactivating = false;\n                            }\n\n                            me.contentElement.style.overflowX = '';\n                            me.onActiveItemChange(event, resolve, !chatty);\n                        }\n                    });\n\n                    me.animateDetacher.reject = reject;\n                    me.animateDetacher.event = event;\n                });\n            }\n            // Nothing to slide out or we are not animating.\n            else {\n                // Show the new active items first, so that the hide listener doesn't\n                // automatically set a new active item based on active item being hidden.\n                // The flag is so that our onBeforeChildShow listener can\n                // tell if it's part of our orderly activate operation.\n                newActiveItem.$isActivating = true;\n                newActiveItem.show();\n\n                // focus the new item before lost the component focus when hide the old one\n                // (because losing focus closes owner if it is floatable)\n                newActiveItem.focus();\n\n                newActiveItem.$isActivating = false;\n\n                if (prevActiveItem) {\n                    // The flag is so that our onBeforeChildHide listener can\n                    // tell if it's part of our orderly activate operation.\n                    prevActiveItem.$isDeactivating = true;\n                    prevActiveItem.hide();\n                    prevActiveItem.$isDeactivating = false;\n                }\n\n                me.onActiveItemChange(event, null, !chatty);\n            }\n        }\n\n        return event;\n    }\n\n    onActiveItemChange(event, resolve, silent) {\n        const me = this;\n\n        me._activeItem = event.activeItem;\n        me._activeIndex = event.activeIndex;\n\n        /**\n         * The active item has changed.\n         * @event activeItemChange\n         * @on-owner\n         * @param {Number} activeIndex - The new active index.\n         * @param {Core.widget.Widget} activeItem - The new active child widget.\n         * @param {Number} prevActiveIndex - The previous active index.\n         * @param {Core.widget.Widget} prevActiveItem - The previous active child widget.\n         */\n        !silent && me.owner.trigger('activeItemChange', event);\n\n        // Note that we have to call focus *after* the element is in its new position\n        // because focus({preventScroll:true}) is not supported everywhere\n        // and crazy browser scrolling behaviour on focus breaks the animation.\n        event.activeItem.focus();\n\n        resolve?.(event);\n    }\n\n    renderChildren() {\n        const { owner } = this;\n\n        owner.contentElement.classList.toggle(this.hideChildHeaderCls, owner.suppressChildHeaders);\n\n        super.renderChildren();\n    }\n\n    changeActiveIndex(activeIndex) {\n        const { owner } = this;\n\n        // Sanitize it if possible\n        return owner.isConfiguring && !owner._items ? activeIndex : Math.min(activeIndex, owner.items.length - 1);\n    }\n\n    updateActiveIndex(activeIndex, oldActiveIndex) {\n        if (!this.owner.isConfiguring) {\n            this.setActiveItem(activeIndex, oldActiveIndex);\n        }\n    }\n\n    updateActiveItem(activeItem) {\n        if (!this.owner.isConfiguring) {\n            this.setActiveItem(activeItem, this.activeIndex);\n        }\n    }\n\n    /**\n     * If the layout is set to {@link #config-animateCardChange}, then this property\n     * will be `true` during the animated card change.\n     * @property {Boolean}\n     * @readonly\n     */\n    get isChangingCard() {\n        return Boolean(this.animateDetacher);\n    }\n}\n\n// Layouts must register themselves so that the static layout instantiation\n// in Layout knows what to do with layout type names\nCard.initClass();\n"],"names":["DateTimeField","Field","doDestroy","dateField","destroy","timeField","focusElement","input","innerElements","element","internalOnKeyEvent","updateRevertOnEscape","revertOnEscape","changeTimeField","config","me","result","TimeField","new","syncInvalid","args","updatingInvalid","prototype","apply","EventHelper","on","keydown","thisObj","readOnly","updateTimeField","ion","change","userAction","value","$settingValue","dateAndTime","_isUserAction","DateHelper","copyTimeValues","changeDateField","type","cls","Widget","resolveType","create","ObjectHelper","assign","event","_this$timeField","key","shiftKey","isVisible","stopPropagation","cancelBubble","childItems","updateDateField","$isInternalChange","updateWeekStartDay","weekStartDay","changeWeekStartDay","_this$dateField$weekS","_this$dateField","syncInputFieldValue","skipHighlight","isConfiguring","highlightDate","highlightExternalChange","highlightTime","inputValue","onTimeFieldKeyDown","e","onDateFieldKeyDown","preventDefault","focus","updateRequired","required","was","updateReadOnly","onDisabled","disabled","hasChanged","oldValue","newValue","isEqual","isValid","setError","error","silent","forEach","f","getErrors","errors","length","clearError","updateInvalid","_defineProperty","keepTime","step","inputTemplate","ariaElement","initClass","_$name","animationClasses","Card","Layout","onChildAdd","item","activeItem","owner","activeIndex","itemIndex","items","indexOf","isActive","beforeHide","beforeShow","_activeIndex","_activeItem","show","$isDeactivating","hide","onChildRemove","activateSiblingOf","un","onBeforeChildShow","source","showingChild","$isActivating","onBeforeChildHide","hidingChild","slice","removeAt","splice","Math","min","setActiveItem","prevActiveIndex","options","widgetPassed","prevActiveItem","newActiveItem","parseInt","animation","chatty","_owner$onBeginActiveI","prevItemElement","newActiveElement","animateDetacher","activeCardChange","promise","classList","remove","trigger","reset","onBeginActiveItemChange","call","animateCardChange","cardChangeAnimation","Promise","resolve","reject","wasMonitoringSize","monitorResize","contentElement","style","overflowX","_hidden","add","isAnimating","onTransitionEnd","mode","handler","onActiveItemChange","renderChildren","toggle","hideChildHeaderCls","suppressChildHeaders","changeActiveIndex","_items","updateActiveIndex","oldActiveIndex","updateActiveItem","isChangingCard","Boolean","containerCls","itemCls"],"mappings":"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"}